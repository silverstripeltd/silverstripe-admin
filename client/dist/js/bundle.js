(self.webpackChunksilverstripe_admin=self.webpackChunksilverstripe_admin||[]).push([[23],{74:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=i(n(5556)),r=i(n(46942));function i(e){return e&&e.__esModule?e:{default:e}}class o extends a.PureComponent{render(){const{className:e,size:t,block:n}=this.props,s=(0,r.default)("ss-circular-loading-indicator",e,{"ss-circular-loading-indicator--block":n});return a.default.createElement("div",{style:{height:t,width:t},className:s})}}o.propTypes={className:s.default.string,block:s.default.bool,size:s.default.string},o.defaultProps={block:!1,size:"6em"};t.default=o},224:function(e,t,n){"use strict";var a=d(n(74692)),s=d(n(96540)),r=n(5338),i=n(60906),o=n(90277),l=n(14269);function d(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(null,arguments)}a.default.entwine("ss",e=>{e(".js-injector-boot .TreeDropdownField").entwine({Value:null,Timer:null,Component:null,ReactRoot:null,onmatch(){this._super();const e=this.closest(".cms-content").attr("id"),t=e?{context:e}:{},n=(0,l.loadComponent)("TreeDropdownField",t);this.setComponent(n);const a=this.data("state")||{},s=this.data("schema")||{};s.data&&s.data.multiple?this.setValue(a.value&&a.value!==o.MULTI_EMPTY_VALUE?a.value.map(e=>Number(e)):[]):this.setValue(a.value?Number(a.value):""),this.refresh()},onunmatch(){this._super();const e=this.getReactRoot();e&&(e.unmount(),this.setReactRoot(null))},refresh(){const e=this.getAttributes(),t=this.getComponent();let n=this.getReactRoot();n||(n=(0,r.createRoot)(this[0])),n.render(s.default.createElement(t,u({},e,{onChange:e=>{this.setValue(e),this.refresh(),clearTimeout(this.getTimer());const t=setTimeout(()=>{this.find("input").trigger("change")},0);this.setTimer(t)},value:this.getValue(),noHolder:!0}))),this.setReactRoot(n)},getAttributes(){const e=this.data("state"),t=this.data("schema");return(0,i.schemaMerge)(t,e)}})})},325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(96540)),s=o(n(5417)),r=o(n(95815)),i=o(n(5556));function o(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(null,arguments)}const d=({label:e,count:t,...n})=>a.default.createElement(s.default,l({},n,{deletable:!1,title:`${t} ${e}`}),t," ",a.default.createElement("span",{className:"font-icon-sliders","aria-label":e}));d.propTypes=Object.assign({},s.default.propTypes,{label:i.default.string,count:i.default.number}),d.defaultProps={label:r.default._t("Admin.SUMMARY_TAG_LABEL","filters")};t.default=d},1066:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=n(97097),r=n(73729),i=(a=n(13541))&&a.__esModule?a:{default:a};t.default=(0,r.connect)(e=>({isOpen:e.mobileMenu.isOpen}),e=>({onClick(){e((0,s.toggleMobileMenu)())}}))(i.default)},1359:function(e,t,n){var a=n(16679),s=n(34160);void 0===s.ToastsActions&&(s.ToastsActions=a),e.exports=a},1541:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statuses=t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=i(n(46942)),r=i(n(5556));function i(e){return e&&e.__esModule?e:{default:e}}const o=t.statuses=["default","info","success","warning","danger","primary","secondary"];class l extends a.PureComponent{render(){const{status:e,inverted:t,className:n,message:r}=this.props;if(!e)return null;const i=t?`text-bg-${e}--inverted`:`text-bg-${e}`,o=(0,s.default)(n,"badge",`badge-${e}`,i);return a.default.createElement("span",{className:o},r)}}l.propTypes={message:r.default.node,status:r.default.oneOf(o),className:r.default.string,inverted:r.default.bool},l.defaultProps={status:"default",className:"rounded-pill",inverted:!1};t.default=l},2400:function(e,t,n){"use strict";var a,s=(a=n(74692))&&a.__esModule?a:{default:a};(0,s.default)(document).ready(function(){(0,s.default)(document).on("click","ul.SelectionGroup input.selector, ul.selection-group input.selector",function(){var e=(0,s.default)(this).closest("li");e.addClass("selected");var t=e.prevAll("li.selected");t.length&&t.removeClass("selected");var n=e.nextAll("li.selected");n.length&&n.removeClass("selected"),(0,s.default)(this).focus()})})},2481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=r(n(23977)),s=r(n(55239));function r(e){return e&&e.__esModule?e:{default:e}}class i extends s.default{getInputProps(){const e=super.getInputProps();return this.isMultiline()&&Object.assign(e,{type:"textarea",rows:this.props.data.rows,cols:this.props.data.columns}),e}isMultiline(){return this.props.data&&this.props.data.rows>1}}t.Component=i;t.default=(0,a.default)(i)},3600:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;window.ss=window.ss||{},window.ss.routeRegister=window.ss.routeRegister||new class{constructor(){this.reset()}reset(){this.childRoutes=[],this.rootRoute={path:"/",routes:()=>this.getChildRoutes()}}updateRootRoute(e){this.rootRoute=Object.assign({},this.rootRoute,e)}add(e,t=[]){if(e.path===this.rootRoute.path&&Array.isArray(e.routes))return void(this.childRoutes=e.routes.concat(this.childRoutes));const n=this.findChildRoute(t),a=Object.assign({},{routes:[]},e);let s=a.routes[a.routes.length-1];s&&"**"===s.path||(s={path:"**"},a.routes.push(s));const r=n.findIndex(t=>t.path===e.path);r>=0?n[r]=a:n.unshift(a)}findChildRoute(e){let t=this.childRoutes;return e&&e.forEach(e=>{const n=t.find(t=>t.path===e);if(!n)throw new Error(`Parent path ${e} could not be found.`);t=n.routes}),t}getRootRoute(){return this.rootRoute}getChildRoutes(){return this.childRoutes}remove(e,t=[]){const n=this.findChildRoute(t),a=n.findIndex(t=>t.path===e);return a<0?null:n.splice(a,1)[0]}};t.default=window.ss.routeRegister},4136:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GLOBAL_CONTEXT=void 0;var a,s=(a=n(92981))&&a.__esModule?a:{default:a};const r="before",i="after",o="__HEAD__",l="__TAIL__",d=[r,i],u=t.GLOBAL_CONTEXT="__GLOBAL__";t.default=class{constructor(){this._middlewares=[],this._contextCache={}}sort(){const e=[o,l],t=[e];let n=[];return this._middlewares.forEach(e=>{const{name:n}=e,a=(e=>{let t=null;return d.forEach(n=>{if(e[n].includes("*")){if(e[n].length>1)throw new Error(`\n          Key ${n} on ${e.name} should only specify one key \n          if using the "*" wildcard\n        `);if(t)throw new Error(`\n          Cannot specify a ${n} rule on ${e.name} if a wildcard \n          has been specified\n        `);t=n}}),t})(e);a===i?t.push([l,n]):a===r?t.push([n,o]):(t.push([n,l]),t.push([o,n]),e[r].forEach(e=>{t.push([n,e])}),e[i].forEach(e=>{t.push([e,n])}))}),(0,s.default)(t).filter(t=>!e.includes(t)).forEach(e=>{n=n.concat(this._middlewares.filter(t=>t.name===e))}),this._middlewares=n,this}add(e,t,n){(e=>{d.forEach(t=>{if(void 0!==e[t]&&"string"!=typeof e[t]&&!Array.isArray(e[t]))throw new Error(`Middleware key ${t} must be a string or array`)})})(e),this._contextCache={};let a=n;a&&a.length?Array.isArray(a)||(a=[a]):a=[u];const s={...e,factory:t,context:a};return d.forEach(t=>{Array.isArray(e[t])?s[t]=e[t]:s[t]=e[t]?[e[t]]:[]}),d.every(e=>!s[e].length)&&(s[i]=[o],s[r]=[l]),this._middlewares.push(s),this}getMatchesForContext(e=u){if(!this._contextCache[e]){const t=e.split(".");this._contextCache[e]=this._middlewares.filter(e=>e.context[0]===u||e.context.every((e,n)=>"*"===e||t[n]===e))}return this._contextCache[e]}}},4163:function(e,t,n){var a=n(2481),s=n(34160);void 0===s.TextField&&(s.TextField=a),e.exports=a},5147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(28895),s=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(4136));t.default=()=>({middlewareRegistries:{},services:{},factories:{},factoryCache:{},initialised:!1,isProtected(){if(this.initialised)throw new Error("Cannot mutate DI container after it has been initialised")},get(e,t){if(!this.initialised)throw new Error("\n      Injector.get(): Attempted to access DI layer before it was initialised.\n      Did you forget to invoke Injector.load()?");const n=this.factories[e];if(!n)throw new Error(`Injector.get(): Component ${e} does not exist`);return n(t)},customise(e,t,n){this.isProtected();const[a,...r]=t.split(".");let i=this.middlewareRegistries[a];i||(i=new s.default,this.middlewareRegistries={...this.middlewareRegistries,[a]:i}),i.add(e,n,r)},load(){this.isProtected(),this.factories=Object.keys(this.services).reduce((e,t)=>{const n=this.middlewareRegistries[t];return n?(n.sort(),{...e,[t]:(e=s.GLOBAL_CONTEXT)=>{const a=`${t}__${e}`;if(!this.factoryCache[a]){const s=n.getMatchesForContext(e);this.factoryCache[a]=this.getFactory(t,s)}return this.factoryCache[a]}}):{...e,[t]:()=>this.getFactory(t,[])}},{}),this.initialised=!0},register(e,t,{force:n}={}){if(this.isProtected(),this.services[e]&&!0!==n)throw new Error(`\n      Tried to register service '${e}' more than once. This practice is discouraged. Consider\n      using Injector.update() to enhance the service rather than override it completely.\n      Otherwise, invoke the register() function with { force: true } as the third argument.\n     `);this.services={...this.services,[e]:t}},registerMany(e,{force:t}={}){this.isProtected();const n=Object.keys(e),a=Object.keys(this.services).filter(e=>n.includes(e));if(a.length&&!0!==t){const e=a.join(", ");throw new Error(`\n      Tried to register services (${e}) more than once. This practice is discouraged. Consider\n      using Injector.update() to enhance the service rather than override it completely.\n      Otherwise, invoke the register() function with { force: true } as the third argument.\n     `)}this.services={...this.services,...e}},transform(e,t,n={}){this.isProtected(),t(this.createTransformer(e,n))},createTransformer(e,t){return(n,a)=>{this.customise({name:e,...t},n,a)}},getFactory(e,t){const n=this.services[e],s=t.map(e=>e.factory);return(0,a.compose)(...s)(n)}})},5417:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(96540)),s=n(58702),r=l(n(46942)),i=l(n(95815)),o=l(n(5556));function l(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(null,arguments)}const u=({onClick:e,onDelete:t,onDeleteKey:n,onBackSpace:i,onPrevious:o,onNext:l,deletable:u,dataKey:c,label:p,value:h,children:m,focusable:g,..._})=>{const v=((e,t,n)=>(t||e)+(n?`: ${n}`:""))(c,p,h);return a.default.createElement(s.Button,d({},_,{role:"button",className:(0,r.default)("tag-component","btn-sm",{"tag-component--deletable":u}),onClick:t=>{t.preventDefault(),e(c)},tabIndex:g?0:void 0,onKeyDown:e=>{((e,t,n,a,s,r)=>{switch(e.key){case"Backspace":e.preventDefault(),a(t);break;case"Delete":e.preventDefault(),n(t);break;case"ArrowLeft":e.preventDefault(),s(t);break;case"ArrowRight":e.preventDefault(),r(t)}})(e,c,n,i,o,l)},title:v}),u&&a.default.createElement(f,{onDelete:t,dataKey:c}),m||v)},c=e=>{e.target.parentElement.focus()},f=({dataKey:e,onDelete:t})=>a.default.createElement(s.Button,{onClick:n=>{n.stopPropagation(),n.preventDefault(),t(e)},"aria-label":i.default._t("Admin.REMOVE_TAG","Remove Tag"),title:i.default._t("Admin.REMOVE_TAG","Remove Tag"),onFocus:c,tabIndex:-1,className:"tag-component__delete font-icon-cancel btn--no-text btn--icon-sm"});u.propTypes={onClick:o.default.func,onDelete:o.default.func,onDeleteKey:o.default.func,onBackSpace:o.default.func,onPrevious:o.default.func,onNext:o.default.func,deletable:o.default.bool,dataKey:o.default.string,label:o.default.string,value:o.default.string,focusable:o.default.bool},u.defaultProps={tag:"span",deletable:!1,onClick:()=>{},onDelete:()=>{},onDeleteKey:()=>{},onBackSpace:()=>{},onPrevious:()=>{},onNext:()=>{},focusable:!0};t.default=u},5549:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createInsertLinkModal=t.InsertLinkModal=void 0;var a=c(n(96540)),s=u(n(5556)),r=n(28895),i=n(73729),o=u(n(56091)),l=u(n(99237)),d=c(n(82513));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return(c=function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i})(e,t)}class f extends a.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this),e.isOpen||e.setOverrides(null)}componentDidUpdate(e){const t=this.props;(t.isOpen&&!e.isOpen||!t.isOpen&&e.isOpen)&&t.setOverrides(t.isOpen?t:null)}getModalProps(){const e=Object.assign({},this.props,{onSubmit:this.handleSubmit,onClosed:this.props.onClosed,autoFocus:!0,showErrorMessage:!0});return delete e.onInsert,delete e.sectionConfig,e}handleSubmit(e,t){if("action_cancel"===t)this.props.onClosed();else this.props.onInsert(e,t);return Promise.resolve()}render(){const e=this.getModalProps();return a.default.createElement(o.default,e)}}function p(e){return{actions:{schema:(0,r.bindActionCreators)(d,e)}}}t.InsertLinkModal=f,f.propTypes={isOpen:s.default.bool,schemaUrl:s.default.string,onInsert:s.default.func.isRequired,onClosed:s.default.func.isRequired,setOverrides:s.default.func.isRequired,actions:s.default.object,requireLinkText:s.default.bool,currentPageID:s.default.number},f.defaultProps={};t.createInsertLinkModal=(e,t)=>(0,r.compose)((0,i.connect)(function(n,a){const s=n.config.sections.find(t=>t.name===e),r=a.requireLinkText?"?requireLinkText":"";return{sectionConfig:s,schemaUrl:`${s.form[t].schemaUrl}${r}`.replace(/:pageid/,a.currentPageID||0)}},p),l.default)(f);t.default=(0,r.compose)((0,i.connect)(()=>({}),p),l.default)(f)},6679:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enableOrDisableSplitMode=function(e){return{type:s.default.SPLIT_AVAILABLE,payload:{panelWidth:e}}},t.selectEditMode=function(){return{type:s.default.SELECT_EDIT}},t.selectPreviewMode=function(){return{type:s.default.SELECT_PREVIEW}},t.selectSplitMode=function(){return{type:s.default.SELECT_SPLIT}};var a,s=(a=n(17359))&&a.__esModule?a:{default:a}},7057:function(e,t,n){var a=n(47546),s=n(34160);void 0===s.ListGroupItem&&(s.ListGroupItem=a),e.exports=a},7803:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(14269)),s=l(n(78443)),r=l(n(46942)),i=n(60906),o=l(n(23977));function l(e){return e&&e.__esModule?e:{default:e}}const d=(e,t=!1)=>{const n=e.extraClass?e.extraClass.split(" ").reduce((e,t)=>({...e,[t]:!0}),{}):{};"string"==typeof e.data.pristineClass&&(n[e.data.pristineClass]=t),"string"==typeof e.data.dirtyClass&&(n[e.data.dirtyClass]=!t);const a=t?e.data.pristineTitle:e.data.dirtyTitle,s=t?e.data.pristineIcon:e.data.dirtyIcon;return{...e,title:a||e.title,icon:s||e.icon,extraClass:(0,r.default)(n)}};t.default=()=>{a.default.transform("field-holders",e=>{["FieldGroup"].forEach(t=>e.component("FieldGroup",o.default,`${t}Holder`))}),a.default.transform("form-action-changed",e=>{e.form.alterSchema("*",e=>(e.mutateField("action_save",t=>{const n=e.isPristine();return d(t,n)}),e.mutateField("action_publish",t=>{const n=t.data.isPublished&&!t.data.isModified&&e.isPristine();return d(t,n)}),e.getState()))}),a.default.transform("schema-validation",e=>{e.form.addValidation("*",(e,t,n)=>{if(0===n.name.indexOf("ElementForm_"))return t.getState();const a=new s.default(e),r=Object.keys(e).reduce((e,t)=>{const s=(0,i.findField)(n.fields,t);if(!s)return e;const{valid:r,errors:o}=a.validateFieldSchema(s);return r?e:{...e,[t]:o}},{});return t.addErrors(r),t.getState()})})}},8868:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=n(73729),r=u(n(46381)),i=u(n(92030)),o=u(n(28699)),l=u(n(94408)),d=u(n(53692));function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(null,arguments)}t.default=(e,t={},n)=>{class u extends a.Component{constructor(e){super(e),this.state={target:null,error:!1}}getChildContext(){const e=t&&t.context;return e?{injector:{...this.context.injector,context:e}}:this.context}componentDidMount(){l.default.ready(()=>{if("string"==typeof e){let n=!0,a=null;try{a=this.context.injector.get(e,t&&t.context),n=!1}catch(e){throw this.setState({target:a,error:n}),e}return void this.setState({target:a,error:n})}this.setState({target:e})})}render(){const n=this.state.target;if(this.state.error){let t=r.default;try{t=this.context.injector.get("NotFoundComponent")}catch(e){}return a.default.createElement(t,c({},this.props,{itemName:e}))}if(n){if(t){const e={...window.ss,...t},{store:r}=e;return a.default.createElement(s.Provider,{store:r},a.default.createElement(n,this.props))}return a.default.createElement(n,this.props)}return null}}u.childContextTypes=d.default;return(n||i.default)((0,o.default)(u))}},10098:function(e,t,n){var a=n(14274),s=n(34160);void 0===s.SilverStripeComponent&&(s.SilverStripeComponent=a),e.exports=a},10135:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(e){this.values=e,this.errorMap={}}addError(e,t){if(!this.fieldExists(e))throw new Error(`Tried to add error to non-existent field: ${e}`);return this.errorMap[e]||(this.errorMap[e]=[]),this.errorMap[e]=[...this.errorMap[e],t],this}addErrors(e){return Object.entries(e).forEach(e=>{const[t]=e;let[,n]=e;Array.isArray(n)||(n=[n]),n.forEach(e=>this.addError(t,e))}),this}clearErrors(e){if(!this.fieldExists(e))throw new Error(`Tried to clear errors for non-existent field: ${e}`);return delete this.errorMap[e],this}hasError(e){return this.fieldExists(e)&&!!this.getErrors(e).length}fieldExists(e){return Object.keys(this.values).includes(e)}getErrors(e){if(!this.fieldExists(e))throw new Error(`Tried to get errors for non-existent field: ${e}`);return this.errorMap[e]||[]}reset(){this.errorMap={}}getState(){return this.errorMap}}},10431:function(e,t,n){var a=n(32613),s=n(34160);void 0===s.Backend&&(s.Backend=a),e.exports=a},10712:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=()=>({services:{},initialised:!1,callbacks:[],onInit:null,register(e,t,{force:n}={}){if(this.initialised)throw new Error("Cannot mutate DI container after it has been initialised");if(this.services[e]&&!0!==n)throw new Error(`\n      Tried to register service ${e} more than once. This practice is discouraged. Consider\n      using Injector.update() to enhance the service rather than override it completely.\n      Otherwise, invoke the register() function with { force: true } as the third argument.\n     `);if(void 0!==this[e]&&!this.services[e])throw new Error(`\n      Tried to register service ${e} which is a reserved keyword. This would affect the behaviour\n      of this API class, so it is forbidden to register with Injector.\n      `);const a=["load","createTransformer","get","register"];if(!a.every(e=>"function"==typeof t[e]))throw new Error(`\n      Tried to register service ${e} that is not a valid object, Injector requires an object\n      which contains the following methods: ${a.join(", ")}\n      `);this.services[e]=t,this[e]=t},load(){if(this.initialised)throw new Error("Cannot mutate DI container after it has been initialised");Object.values(this.services).forEach(e=>e.load()),this.initialised=!0,this.onInit&&this.onInit(),this.callbacks.forEach(e=>{e()}),this.callbacks=[]},transform(e,t,n={}){if(this.initialised)throw new Error("Cannot mutate DI container after it has been initialised");t(Object.entries(this.services).reduce((t,[a,s])=>({...t,[a]:s.createTransformer(e,n)}),{}))},ready(e){if("function"!=typeof e)throw new Error("Callback provided is not a function");this.initialised?e():this.callbacks=[...this.callbacks,e]},init(e){if("function"!=typeof e)throw new Error("Callback provided is not a function");if(this.initialised)throw new Error("Tried to add an init() callback after Injector was initialised");this.onInit=e}})},11463:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=i(n(21077)),r=i(n(5556));function i(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(null,arguments)}class l extends a.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){if(this.props.autoFocus&&this.form){const e=this.form.querySelector("input:not([type=hidden]), select, textarea");e&&(e.focus(),e.select&&e.select())}}renderMessages(){const{FormAlertComponent:e}=this.props;return Array.isArray(this.props.messages)?this.props.messages.map((t,n)=>a.default.createElement(e,o({key:n,className:n?"":"message-box--panel-top"},t))):null}handleSubmit(e,...t){e.stopPropagation(),this.props.handleSubmit(e,...t)}render(){const e=!1!==this.props.valid,t=this.props.mapFieldsToComponents(this.props.fields),n=this.props.mapActionsToComponents(this.props.actions),s=this.renderMessages(),r=this.props.formTag,i=["form"];!1===e&&i.push("form--invalid"),this.props.attributes&&this.props.attributes.className&&i.push(this.props.attributes.className);const l={...this.props.attributes,onSubmit:this.handleSubmit,className:i.join(" ")};return a.default.createElement(r,o({},l,{ref:e=>{this.form=e,this.props.setDOM(e)},role:"form"}),t&&a.default.createElement("fieldset",this.props.fieldHolder,s,this.props.afterMessages,t),n&&n.length?a.default.createElement("div",this.props.actionHolder,n):null)}}t.Component=l,l.propTypes={autoFocus:r.default.bool,setDOM:r.default.func,valid:r.default.bool,actions:r.default.array,fieldHolder:r.default.shape({className:r.default.string}),actionHolder:r.default.shape({className:r.default.string}),extraClass:r.default.string,afterMessages:r.default.node,attributes:r.default.shape({action:r.default.string.isRequired,className:r.default.string,encType:r.default.string,id:r.default.string,method:r.default.string.isRequired}),fields:r.default.array.isRequired,handleSubmit:r.default.func,mapActionsToComponents:r.default.func.isRequired,mapFieldsToComponents:r.default.func.isRequired,messages:r.default.arrayOf(r.default.shape({extraClass:r.default.string,value:r.default.any,type:r.default.string})),formTag:r.default.oneOfType([r.default.func,r.default.string]),FormAlertComponent:r.default.oneOfType([r.default.object,r.default.func])},l.defaultProps={setDOM:()=>null,formTag:"form",actionHolder:{className:"btn-toolbar"},FormAlertComponent:s.default};t.default=l},12973:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(95093))&&a.__esModule?a:{default:a};t.default=e=>(t,{lang:n})=>{if(!t.value)return!1;if(t.value&&n){s.default.locale(n);const a=(0,s.default)(t.value);if(a.isValid())return Object.assign({},t,{value:a.format(e)})}return t}},13164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(5556))&&a.__esModule?a:{default:a};const r=s.default.shape({key:s.default.string.isRequired,label:s.default.string,value:s.default.string});t.default=r},13541:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=i(n(46942)),r=i(n(5556));function i(e){return e&&e.__esModule?e:{default:e}}class o extends a.Component{constructor(){super(),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.preventDefault(),"function"==typeof this.props.onClick&&this.props.onClick(e)}render(){const e=(0,s.default)({"cms-mobile-menu-toggle":!0,"cms-mobile-menu-toggle--open":this.props.isOpen});return a.default.createElement("button",{type:"button",className:e,href:"#toggle-mobile-menu",onClick:this.handleClick,"aria-controls":this.props.controls,"aria-expanded":Boolean(this.props.isOpen)},a.default.createElement("span",null),a.default.createElement("span",null),a.default.createElement("span",null),a.default.createElement("span",null))}}o.propTypes={isOpen:r.default.bool.isRequired,onClick:r.default.func.isRequired,controls:r.default.string},o.defaultProps={controls:""};t.default=o},13547:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinUrlPaths=void 0;t.joinUrlPaths=(...e)=>{if(!e.length)return"";let t=e.shift();for(const n of e)t=`${t.replace(/\/$/,"")}/${n.replace(/^\//,"")}`;return t}},13765:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=c,t.default=void 0;var a=l(n(95815)),s=l(n(96540)),r=l(n(23077)),i=n(58702),o=l(n(5556));function l(e){return e&&e.__esModule?e:{default:e}}const d=a.default._t("Admin.SEARCH","Search"),u=a.default._t("Admin.CLEAR","Clear");function c({expanded:e,forceLoadForm:t,onSearch:n,onClear:a,formSchemaUrl:o,id:l,identifier:c,clearable:f}){const p=(h=n,e=>{"Enter"===e.key&&(e.preventDefault(),h())});var h;const m=e||t;return s.default.createElement(i.Collapse,{id:l,isOpen:e,className:"search-form"},s.default.createElement("div",{className:"search-form__wrapper",onKeyDown:p},m&&o&&s.default.createElement(r.default,{className:"no-change-track",formTag:"div",identifier:c,schemaUrl:o,onSubmit:()=>(n(),Promise.resolve())}),s.default.createElement(i.Button,{className:"search-form__submit",onClick:()=>n(),color:"primary",type:"button"},d),f&&s.default.createElement(i.Button,{className:"search-form__clear",onClick:()=>a()},u)))}c.propTypes={onSearch:o.default.func,onClear:o.default.func,expanded:o.default.bool,id:o.default.string.isRequired,formSchemaUrl:o.default.string,identifier:o.default.string,clearable:o.default.bool,forceLoadForm:o.default.bool},c.defaultProps={formData:{},forceLoadForm:!1};t.default=c},13776:function(e,t,n){"use strict";var a=r(n(74692)),s=r(n(95815));function r(e){return e&&e.__esModule?e:{default:e}}const i=window.onbeforeunload;window.onbeforeunload=function(e){var t=(0,a.default)(".cms-edit-form");return t.trigger("beforesubmitform"),t.is(".changed")&&!t.is(".discardchanges")?s.default._t("Admin.CONFIRMUNSAVEDSHORT"):"function"==typeof i?i():void 0},a.default.entwine("ss",function(e){e(".cms-edit-form").entwine({PlaceholderHtml:"",ChangeTrackerOptions:{ignoreFieldSelector:""},getValidationErrorShown:function(){return Boolean(this.data("_validationErrorShown"))},setValidationErrorShown:function(e){this.data("_validationErrorShown",e)},onadd:function(){for(var e in this.attr("autocomplete","off"),this._setupChangeTracker(),{action:!0,method:!0,enctype:!0,name:!0}){var t=this.find(":input[name=_form_"+e+"]");t&&(this.attr(e,t.val()),t.remove())}this._super()},"from .cms-tabset":{onafterredrawtabs:function(){const t=ss.i18n._t("Admin.VALIDATION_ERRORS_IN_TAB","This tab contains validation errors."),n=ss.i18n._t("Admin.VALIDATION_ERRORS_IN_TAB_SCREEN_READER","(Has validation errors)"),a=ss.i18n._t("Admin.VALIDATION_ERRORS_ON_PAGE","There are validation errors on this page, please fix them before saving or publishing."),s=e("#Form_EditForm_error, #Form_ItemEditForm_error");this.find(".tab-attention, .tab-validation-error-sr").remove();let r=!1;if(this.hasClass("validationerror")&&(r=!0),""!==s.html()&&(r=!0),this.find(".alert.error").length>0&&(r=!0),!r)return void s.hide();const i=this.find(".tab-pane .alert-danger, .tab-pane .alert.error").closest(".tab-pane");if(!i.length)return;const o=this.find('.cms-content-header-tabs.cms-tabset-nav-primary li[role="tab"]'),l=i.closest(".tab-content").closest(".ss-tabset");let d=null;o.length>1?d=e=>o.filter(`[aria-controls="${e}"]`):l.length&&(d=e=>l.find(`#tab-${e}`).closest("li")),null!==d&&(i.each(a=>{const s=i.eq(a).attr("id"),r=d(s),o=e(`<i class="font-icon-attention-1 tab-attention" title="${t}" aria-hidden="true"></i>`),l=e(`<span class="tab-validation-error-sr visually-hidden">${n}</span>`);r.append(o),r.append(l)}),s.attr("class","alert alert-danger"),s.html(a),s.show()),this.addClass("validationerror")}},onremove:function(){this.changetracker("destroy"),this._super()},onmatch:function(){this._super()},onunmatch:function(){this._super()},redraw:function(){if(window.debug&&console.log("redraw",this.attr("class"),this.get(0)),!this.getValidationErrorShown()&&this.hasClass("validationerror")){const e=ss.i18n._t("Admin.VALIDATIONERROR","Validation Error");o(e),this.setValidationErrorShown(!0)}this.add(this.find(".cms-tabset")).redrawTabs(),this.find(".cms-content-header").redraw()},_setupChangeTracker:function(){this.changetracker(this.getChangeTrackerOptions())},confirmUnsavedChanges:function(){if(this.trigger("beforesubmitform"),!this.is(".changed")||this.is(".discardchanges"))return!0;if(this.find(".btn-toolbar :submit.btn--loading.loading").length>0)return!0;var e=confirm(s.default._t("Admin.CONFIRMUNSAVED"));return e&&this.addClass("discardchanges"),e},onsubmit:function(t,n){return!!e(t.target.activeElement).closest(".bypass-entwine-submission").length||("_blank"!=this.prop("target")?(n&&this.closest(".cms-container").submitForm(this,n),!1):void 0)},validate:function(){var e=!0;return this.trigger("validate",{isValid:e}),e},"from .cms-edit-form :input:not(:submit)":{onclick:function(t){this.saveFieldFocus(e(t.target).attr("id"))},onfocus:function(t){this.saveFieldFocus(e(t.target).attr("id"))}},"from .cms-edit-form .treedropdown *":{onfocusin:function(t){var n=e(t.target).closest(".field.treedropdown");this.saveFieldFocus(n.attr("id"))}},"from .cms-edit-form .dropdown .chosen-container a":{onfocusin:function(t){var n=e(t.target).closest(".field.dropdown");this.saveFieldFocus(n.attr("id"))}},"from .cms-container":{ontabstaterestored:function(e){this.restoreFieldFocus()}},saveFieldFocus:function(t){if(void 0!==window.sessionStorage&&null!==window.sessionStorage){var n=e(this).attr("id"),a=[];if(a.push({id:n,selected:t}),a)try{window.sessionStorage.setItem(n,JSON.stringify(a))}catch(e){if(e.code===DOMException.QUOTA_EXCEEDED_ERR&&0===window.sessionStorage.length)return;throw e}}},restoreFieldFocus:function(){if(void 0!==window.sessionStorage&&null!==window.sessionStorage){var t,n,a,s,r,i=this,o=void 0!==window.sessionStorage&&window.sessionStorage,l=o?window.sessionStorage.getItem(this.attr("id")):null,d=!!l&&JSON.parse(l),u=0!==this.find(".ss-tabset").length;if(o&&d.length>0){if(e.each(d,function(n,a){i.is("#"+a.id)&&(t=e("#"+a.selected))}),e(t).length<1)return void this.focusFirstInput();if(n=e(t).closest(".ss-tabset").find(".ui-tabs-nav .ui-tabs-active .ui-tabs-anchor").attr("id"),a="tab-"+e(t).closest(".ss-tabset .ui-tabs-panel").attr("id"),u&&a!==n)return;(s=e(t).closest(".togglecomposite")).length>0&&s.accordion("option","active",s.find(".ui-accordion-header")),r=e(t).position().top,e(t).is(":visible")||(t="#"+e(t).closest(".field").attr("id"),r=e(t).position().top),e(t).focus(),r>e(window).height()/2&&i.find(".cms-content-fields").scrollTop(r)}else this.focusFirstInput()}},focusFirstInput:function(){this.find(':input:not(:submit)[data-skip-autofocus!="true"]').filter(":visible:first").focus()}}),e(".cms-edit-form .btn-toolbar input.action[type=submit], .cms-edit-form .btn-toolbar button.action").entwine({onclick:function(e){return this.is(":disabled")?(e.preventDefault(),!1):!1===this._super(e)||e.defaultPrevented||e.isDefaultPrevented()?void 0:(this.parents("form").trigger("submit",[this]),e.preventDefault(),!1)}}),e(".cms-edit-form .btn-toolbar input.action[type=submit].ss-ui-action-cancel, .cms-edit-form .btn-toolbar button.action.ss-ui-action-cancel").entwine({onclick:function(e){window.history.length>1?window.history.back():this.parents("form").trigger("submit",[this]),e.preventDefault()}}),e(".cms-edit-form .btn-toolbar button[name=action_doUnpublish].btn.action").entwine({onclick:function(e){var t=this.data("owners");if(t&&parseInt(t)>0){var n=[s.default.inject(s.default._t("Admin.OWNED_WARNING_1","You are unpublishing content that is being used in {count} other published section(s)."),{count:t}),s.default._t("Admin.OWNED_WARNING_2","This could cause a published page to have missing components on the live site."),s.default._t("Admin.OWNED_WARNING_3","Do you want to unpublish anyway?")];window.confirm(n.join("\n\n"))?this._super():e.preventDefault()}else this._super()}}),e(".cms-edit-form .ss-tabset").entwine({onmatch:function(){if(!this.hasClass("ss-ui-action-tabset")){var e=this.find("> ul:first");1==e.children("li").length&&e.hide().parent().addClass("ss-tabset-tabshidden")}this._super()},onunmatch:function(){this._super()}}),e('.cms-edit-form [name="CanViewType"], .cms-edit-form [name="CanEditType"], .cms-edit-form [name="CanCreateTopLevelType"]').entwine({onmatch:function(){this.is(":checked")&&this.toggleListDisplay(this.val(),!0)},onchange:function(e){this.toggleListDisplay(e.target.value,window.matchMedia("(prefers-reduced-motion: reduce)").matches)},checkIfHoldsField(e,t){let n="";switch(this.attr("name")){case"CanViewType":n=`Viewer${t}`;break;case"CanEditType":n=`Editor${t}`;break;case"CanCreateTopLevelType":n=`CreateTopLevel${t}`}const a=jQuery(e);return a.find(`[name="${n}"],[name="${n}[]"]`).length>0&&a.attr("id").endsWith("_Holder")},toggleListDisplay:function(e,t){"OnlyTheseUsers"===e?(this.showGroupsList(t),this.hideMembersList(t)):this.hideGroupsList(t),"OnlyTheseMembers"===e?(this.showMembersList(t),this.hideGroupsList(t)):this.hideMembersList(t)},showGroupsList:function(e){const t=this.closest(".field");this.showListElement(t,t.parent().find(".form-group, .field").filter((e,t)=>this.checkIfHoldsField(t,"Groups")),e)},hideGroupsList:function(e){const t=this.closest(".field");this.hideListElement(t,t.parent().find(".form-group, .field").filter((e,t)=>this.checkIfHoldsField(t,"Groups")),e)},showMembersList:function(e){const t=this.closest(".field");this.showListElement(t,t.parent().find(".form-group, .field").filter((e,t)=>this.checkIfHoldsField(t,"Members")),e)},hideMembersList:function(e){const t=this.closest(".field");this.hideListElement(t,t.parent().find(".form-group, .field").filter((e,t)=>this.checkIfHoldsField(t,"Members")),e)},showListElement:function(e,t,n){e.addClass("field--merge-below"),n?t.show().css("overflow","visible"):t.slideDown(()=>{t.css("overflow","visible")})},hideListElement:function(e,t,n){t.css("overflow","hidden"),n?(t.hide().css("display","none"),e.removeClass("field--merge-below")):t.slideUp(()=>{e.removeClass("field--merge-below")})}})});var o=function(e){jQuery.noticeAdd({text:e,type:"error",stayTime:5e3,inEffect:{left:"0",opacity:"show"}})}},14269:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"loadComponent",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"provideContext",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"provideInjector",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"withInjector",{enumerable:!0,get:function(){return r.default}});var a=d(n(92030)),s=d(n(52415)),r=d(n(28699)),i=d(n(39558)),o=d(n(8868)),l=d(n(94408));function d(e){return e&&e.__esModule?e:{default:e}}t.default=l.default},14274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(96540);class s extends a.Component{constructor(){super(),clearTimeout(null)}render(){return null}}s.propTypes={};t.default=s},14992:function(e,t,n){var a=n(14269),s=n(34160);void 0===s.Injector&&(s.Injector=a),e.exports=a},15042:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.form&&e.form.formState||{}}},15357:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=n(73729),r=d(n(46942)),i=d(n(5556)),o=d(n(32541)),l=d(n(16939));function d(e){return e&&e.__esModule?e:{default:e}}class u extends a.Component{getLastCrumb(){return this.props.crumbs&&this.props.crumbs[this.props.crumbs.length-1]}renderBreadcrumbs(){return this.props.crumbs?this.props.crumbs.slice(0,-1).map(e=>a.default.createElement("li",{key:e.text,className:"breadcrumb__item"},a.default.createElement(l.default,{className:"breadcrumb__item-title",href:e.href,onClick:e.onClick},e.text))):null}renderLastCrumb(){const e=this.getLastCrumb();return e?a.default.createElement("div",{className:"breadcrumb__item breadcrumb__item--last"},a.default.createElement("h2",{className:"breadcrumb__item-title"},e.text,e.icon&&this.renderIcons([e.icon]),e.icons&&this.renderIcons(e.icons))):null}renderIcons(e){return e.map((e,t)=>{const{nodeName:n,className:s,hasRestrictedAccess:i,...l}=e;let d={...l};const u=(0,r.default)(["breadcrumb__icon",s]);return d={tabIndex:"0",...d},d.hasOwnProperty("onClick")&&(d={role:"button",...d}),d.key=`breadcrumb-icon-${t}`,"FileStatusIcon"===n?(d.fileID=0,d.hasRestrictedAccess=i,d.extraClassName=u,a.default.createElement(o.default,d)):(d.className=u,a.default.createElement("span",d))})}render(){return a.default.createElement("div",{className:"breadcrumb__container fill-height flexbox-area-grow"},this.props.crumbs&&this.props.crumbs.length>1&&a.default.createElement("div",{className:"breadcrumb__list-container"},a.default.createElement("ol",{className:"breadcrumb"},this.renderBreadcrumbs())),this.renderLastCrumb())}}t.Component=u,u.propTypes={crumbs:i.default.arrayOf(i.default.shape({onClick:i.default.func,text:i.default.string,icons:i.default.arrayOf(i.default.shape({nodeName:i.default.string,className:i.default.string,onClick:i.default.func}))}))};t.default=(0,s.connect)(function(e){return{crumbs:e.breadcrumbs}})(u)},15550:function(e,t,n){var a=n(86713),s=n(34160);void 0===s.Loading&&(s.Loading=a),e.exports=a},16679:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dismiss=l,t.display=d,t.error=function(e){return d({text:e,type:"error",stay:!0})},t.info=function(e){return d({text:e})},t.pause=function(){return{type:r.default.PAUSE}},t.resume=function(){return{type:r.default.RESUME}},t.success=function(e){return d({text:e,type:"success"})},t.warning=function(e){return d({text:e,type:"warning",stay:!0})};var a,s=n(40182),r=(a=n(49023))&&a.__esModule?a:{default:a},i=n(34526);const o={text:"",stay:!1,type:"notice"};function l(e){return t=>{t({type:r.default.DISMISS,payload:{id:e}}),setTimeout(()=>t({type:r.default.REMOVE,payload:{id:e}}),i.FADEOUT_TIME)}}function d(e){const t=`toast-${(0,s.v4)()}`;return n=>{const a={id:t,dismissCallback:()=>l(t)(n),...o,...e};n({type:r.default.DISPLAY,payload:a})}}},16939:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(96540)),s=i(n(5556)),r=n(84976);function i(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(null,arguments)}function l({children:e,href:t,...n}){const s=(0,r.useInRouterContext)(),i=s?r.Link:"a";return a.default.createElement(i,o({},n,{to:s?t:void 0,href:s?void 0:t}),e)}l.propTypes={children:s.default.node.isRequired,href:s.default.string.isRequired};t.default=l},17174:function(e,t,n){var a=n(51266),s=n(34160);void 0===s.getJsonErrorMessage&&(s.getJsonErrorMessage=a),e.exports=a},17359:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SELECT_EDIT:"SELECT_EDIT",SELECT_PREVIEW:"SELECT_PREVIEW",SELECT_SPLIT:"SELECT_SPLIT",SPLIT_AVAILABLE:"SPLIT_AVAILABLE"}},17558:function(e,t,n){var a=n(82734),s=n(34160);void 0===s.FormConstants&&(s.FormConstants=a),e.exports=a},18116:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(96540)),s=n(58702),r=o(n(46942)),i=o(n(5556));function o(e){return e&&e.__esModule?e:{default:e}}function l({title:e,disabled:t,active:n,tabClassName:i,onToggle:o}){if(!e)return null;const l=(0,r.default)(i,{active:n});return a.default.createElement(s.NavItem,null,a.default.createElement(s.NavLink,{onClick:o,disabled:t,className:l},e))}l.propTypes={title:i.default.string,disabled:i.default.bool,active:i.default.bool,tabClassName:i.default.string,onToggle:i.default.func.isRequired},l.defaultProps={disabled:!1,active:!1};t.default=l},18320:function(e,t,n){var a=n(78318),s=n(34160);void 0===s.DataFormat&&(s.DataFormat=a),e.exports=a},18574:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createErrorHtml=t.createErrorBlock=void 0;var a,s=(a=n(96540))&&a.__esModule?a:{default:a};const r=e=>({type:"error",value:{react:e.map((e,t)=>s.default.createElement("span",{key:t,className:"form__validation-message"},e))}});t.createErrorHtml=r;const i=e=>Object.entries(e).reduce((e,t)=>{const[n,a]=t;if(!a||!a.length)return e;const s=Array.isArray(a)?a:[a];return{...e,[n]:r(s)}},{});t.createErrorBlock=i;t.default=i},19081:function(e,t,n){"use strict";var a;((a=n(74692))&&a.__esModule?a:{default:a}).default.entwine("ss",function(e){e(".ss-tabset.ss-ui-action-tabset").entwine({IgnoreTabState:!0,onadd:function(){this._super(),this.tabs({collapsible:!0,active:!1})},onremove:function(){e(".cms-container").find("iframe").each(function(t,n){try{e(n).contents().off("click.ss-ui-action-tabset")}catch(e){console.warn("Unable to access iframe, possible https mis-match")}}),e(document).off("click.ss-ui-action-tabset"),this._super()},ontabsbeforeactivate:function(e,t){this.riseUp(e,t)},onclick:function(e,t){this.attachCloseHandler(e,t)},attachCloseHandler:function(t,n){var a,s=this,r=e(".cms-container").find("iframe");a=function(t){var n;n=e(t.target).closest(".ss-ui-action-tabset .ui-tabs-panel"),e(t.target).closest(s).length||n.length||(s.tabs("option","active",!1),e(".cms-container").find("iframe").each(function(t,n){e(n).contents().off("click.ss-ui-action-tabset",a)}),e(document).off("click.ss-ui-action-tabset",a))},e(document).on("click.ss-ui-action-tabset",a),r.length>0&&r.each(function(t,n){e(n).contents().on("click.ss-ui-action-tabset",a)})},riseUp:function(t,n){var a,s,r,i,o,l,d,u;if(a=e(this).find(".ui-tabs-panel").outerHeight(),s=e(this).find(".ui-tabs-nav").outerHeight(),r=e(window).height()+e(document).scrollTop()-s,i=e(this).find(".ui-tabs-nav").offset().top,o=n.newPanel,l=n.newTab,i+a>=r&&i-a>0){if(this.addClass("rise-up"),null!==l.position()){if(d=-o.outerHeight(),u=o.parents(".toolbar--south")){const e=l.offset();d-=e?e.top-u.offset().top:0}e(o).css("top",d+"px")}}else this.removeClass("rise-up"),null!==l.position()&&e(o).css("bottom","100%");return!1}}),e(".cms-content-actions .ss-tabset.ss-ui-action-tabset").entwine({ontabsbeforeactivate:function(t,n){this._super(t,n),e(n.newPanel).length>0&&e(n.newPanel).css("left",n.newTab.position().left+"px")}}),e(".cms-actions-row.ss-tabset.ss-ui-action-tabset").entwine({ontabsbeforeactivate:function(t,n){this._super(t,n),e(this).closest(".ss-ui-action-tabset").removeClass("tabset-open tabset-open-last")}}),e(".cms-content-fields .ss-tabset.ss-ui-action-tabset").entwine({ontabsbeforeactivate:function(t,n){this._super(t,n),e(n.newPanel).length>0&&(e(n.newTab).hasClass("last")?(e(n.newPanel).css({left:"auto",right:"0px"}),e(n.newPanel).parent().addClass("tabset-open-last")):(e(n.newPanel).css("left",n.newTab.position().left+"px"),e(n.newTab).hasClass("first")&&(e(n.newPanel).css("left","0px"),e(n.newPanel).parent().addClass("tabset-open"))))}}),e(".cms-tree-view-sidebar .cms-actions-row.ss-tabset.ss-ui-action-tabset").entwine({"from .ui-tabs-nav li":{onhover:function(t){e(t.target).parent().find("li .active").removeClass("active"),e(t.target).find("a").addClass("active")}},ontabsbeforeactivate:function(t,n){this._super(t,n),e(n.newPanel).css({left:"auto",right:"auto"}),e(n.newPanel).length>0&&e(n.newPanel).parent().addClass("tabset-open")}})})},19405:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ToastActions=t.ToastAction=void 0;var a=i(n(96540)),s=i(n(5556)),r=i(n(73323));function i(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(null,arguments)}const l=({label:e,href:t,onClick:n,dismissed:s,onDismiss:i})=>{const l=t?{href:t,tag:"a"}:{onClick:e=>{e.preventDefault(),s||(n&&n(),i())}};return a.default.createElement(r.default,o({color:"link",className:"toast__action"},l),e)};t.ToastAction=l;const d=({actions:e,dismissed:t,onDismiss:n})=>0===e.length?null:a.default.createElement("div",{className:"toast__actions"},e.slice(0,2).map((e,s)=>a.default.createElement(l,o({key:s},e,{onDismiss:n,dismissed:t}))));t.ToastActions=d,d.propTypes={dismissed:s.default.bool.isRequired,actions:s.default.arrayOf(s.default.shape({label:s.default.string.isRequired,href:s.default.string,onClick:s.default.func})),onDismiss:s.default.func.isRequired},d.defaultProps={actions:[]};t.default=d},19514:function(e,t,n){var a=n(57840),s=n(34160);void 0===s.GridFieldHeader&&(s.GridFieldHeader=a),e.exports=a},20088:function(e,t,n){var a=n(36171),s=n(34160);void 0===s.SudoMode&&(s.SudoMode=a),e.exports=a},20777:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),r=(a=n(5556))&&a.__esModule?a:{default:a};class i extends s.Component{generateHeader(){return void 0!==this.props.header?this.props.header:null}generateRows(){return void 0!==this.props.rows?this.props.rows:null}render(){return s.default.createElement("div",{className:"grid-field"},s.default.createElement("table",{className:"table table-hover grid-field__table"},s.default.createElement("thead",null,this.generateHeader()),s.default.createElement("tbody",null,this.generateRows())))}}i.propTypes={header:r.default.object,rows:r.default.array};t.default=i},21077:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=n(58702),r=l(n(80328)),i=l(n(46942)),o=l(n(5556));function l(e){return e&&e.__esModule?e:{default:e}}class d extends a.Component{constructor(e){super(e),this.handleClosed=this.handleClosed.bind(this),this.state={visible:!0}}getMessageStyle(){switch(this.props.type){case"good":case"success":return"success";case"info":return"info";case"warn":case"warning":return"warning";default:return"danger"}}getMessageProps(){const e=this.props.type||"no-type";return{className:(0,i.default)(["message-box",`message-box--${e}`,this.props.className,this.props.extraClass]),color:this.getMessageStyle(),toggle:this.props.closeLabel?this.handleClosed:null,isOpen:!this.props.closeLabel||this.state.visible}}handleClosed(){"function"==typeof this.props.onClosed?this.props.onClosed():this.setState({visible:!1})}render(){if("boolean"!=typeof this.props.visible&&this.state.visible||this.props.visible){const e=(0,r.default)("div",this.props.value);if(e)return a.default.createElement(s.Alert,this.getMessageProps(),e)}return null}}d.propTypes={extraClass:o.default.string,value:o.default.any,type:o.default.string,onClosed:o.default.func,closeLabel:o.default.string,visible:o.default.bool},d.defaultProps={extraClass:"",className:""};t.default=d},21500:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82229)),s=r(n(78155));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e={},t){return t.type===s.default.SET_CONFIG?(0,a.default)(Object.assign({},e,t.payload.config)):e}},21735:function(e,t,n){var a=n(32185),s=n(34160);void 0===s.Modal&&(s.Modal=a),e.exports=a},21757:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=v(n(96540)),s=_(n(95815)),r=n(28895),i=n(73729),o=_(n(82734)),l=v(n(63249)),d=_(n(80328)),u=_(n(5556)),c=_(n(20777)),f=_(n(57840)),p=_(n(75308)),h=_(n(86313)),m=_(n(97525)),g=_(n(66463));function _(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return(v=function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i})(e,t)}const b=[];class y extends a.Component{constructor(e){super(e),this.deleteRecord=this.deleteRecord.bind(this),this.editRecord=this.editRecord.bind(this)}componentDidMount(){const e=this.props.data;this.props.actions.fetchRecords(e.recordType,e.collectionReadEndpoint.method,e.collectionReadEndpoint.url)}createRowActions(e){return a.default.createElement(m.default,{className:"grid-field__cell--actions",key:"Actions"},a.default.createElement(g.default,{icon:"cog",onClick:this.editRecord,record:e}),a.default.createElement(g.default,{icon:"cancel",onClick:this.deleteRecord,record:e}))}createCell(e,t){const n=this.props.data.onDrillDown,a={className:n?"grid-field__cell--drillable":"",onDrillDown:n?t=>n(t,e):null,key:`${t.name}`,width:t.width},s=t.field.split(".").reduce((e,t)=>e[t],e);return(0,d.default)(m.default,s,a)}createRow(e){const t={className:this.props.data.onDrillDown?"grid-field__row--drillable":"",key:`${e.ID}`},n=this.props.data.columns.map(t=>this.createCell(e,t)),s=this.createRowActions(e);return a.default.createElement(h.default,t,n,s)}deleteRecord(e,t){e.preventDefault();const n={};n[o.default.CSRF_HEADER]=this.props.config.SecurityID,confirm(s.default._t("CampaignAdmin.DELETECAMPAIGN","Are you sure you want to delete this record?"))&&this.props.actions.deleteRecord(this.props.data.recordType,t,this.props.data.itemDeleteEndpoint.method,this.props.data.itemDeleteEndpoint.url,n)}editRecord(e,t){e.preventDefault(),this.props.data&&"function"==typeof this.props.data.onEditRecord&&this.props.data.onEditRecord(e,t)}render(){if(this.props.records===b)return a.default.createElement("div",null,s.default._t("CampaignAdmin.LOADING","Loading..."));if(!this.props.records.length)return a.default.createElement("div",null,s.default._t("CampaignAdmin.NO_RECORDS","No campaigns created yet."));const e=a.default.createElement("th",{key:"holder",className:"grid-field__action-placeholder"}),t=this.props.data.columns.map(e=>a.default.createElement(p.default,{key:e.name},e.name)),n=a.default.createElement(f.default,null,t.concat(e)),r=this.props.records.map(e=>this.createRow(e));return a.default.createElement(c.default,{header:n,rows:r})}}y.propTypes={data:u.default.shape({recordType:u.default.string.isRequired,headerColumns:u.default.array,collectionReadEndpoint:u.default.object,onDrillDown:u.default.func,onEditRecord:u.default.func})};t.default=(0,i.connect)(function(e,t){const n=t.data&&t.data.recordType;return{config:e.config,records:n&&e.records[n]?e.records[n]:b}},function(e){return{actions:(0,r.bindActionCreators)(l,e)}})(y)},23077:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0,t.createFormIdentifierFromProps=w,t.default=void 0;var a=y(n(95815)),s=b(n(96540)),r=y(n(5556)),i=n(73729),o=n(28895),l=y(n(60328)),d=y(n(82229)),u=n(53304),c=y(n(60906)),f=n(18574),p=b(n(82513)),h=y(n(84010)),m=b(n(96865)),g=y(n(66104)),_=n(14269),v=y(n(15042));function b(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return(b=function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i})(e,t)}function y(e){return e&&e.__esModule?e:{default:e}}function w({identifier:e,schema:t={}}){return[e,t.schema&&t.schema.name].filter(e=>e).join(".")}class C extends s.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this),this.reduceSchemaErrors=this.reduceSchemaErrors.bind(this),this.handleAutofill=this.handleAutofill.bind(this)}componentDidMount(){const{schema:e,refetchSchemaOnMount:t}=this.props;!t&&e||this.fetch()}componentDidUpdate(e){this.props.schemaUrl===e.schemaUrl&&this.props.refetchSchemaCriteria===e.refetchSchemaCriteria||this.fetch()}getMessages(e){const t={};return e&&e.fields&&e.fields.forEach(e=>{e.message&&(t[e.name]=e.message)}),t}getIdentifier(e=this.props){return w(e)}handleSubmit(e,t,n){let a=null;const s=()=>n().then(e=>{let t=e;if(t){const e=void 0!==t.state;if(t=this.reduceSchemaErrors(t),this.props.actions.schema.setSchema(this.props.schemaUrl,t,this.getIdentifier()),e){const e=t.schema||this.props.schema.schema,n=(0,c.default)(e,t.state);this.props.actions.reduxForm.initialize(this.getIdentifier(),n)}}return t});if(a="function"==typeof this.props.onSubmit?this.props.onSubmit(e,t,s):s(),!a)throw new Error("Promise was not returned for submitting");return a.then(e=>{if(!e||!e.state)return e;const t=this.getMessages(e.state);if(Object.keys(t).length)throw new u.SubmissionError(t);return e})}reduceSchemaErrors(e){if(!e.errors)return e;let t={...e};return t.state||(t={...t,state:this.props.schema.state}),t={...t,state:{...t.state,fields:t.state.fields.map(t=>{let n=e.errors.find(e=>e.field===t.name);return n&&(n=(0,f.createErrorHtml)([n.value])),{...t,message:n}}),messages:e.errors.filter(e=>!e.field)}},delete t.errors,(0,d.default)(t)}overrideStateData(e){if(!this.props.stateOverrides||!e)return e;const t=this.props.stateOverrides.fields;let n=e.fields;return t&&n&&(n=n.map(e=>{const n=t.find(t=>t.name===e.name);return n?h.default.recursive(!0,e,n):e})),Object.assign({},e,this.props.stateOverrides,{fields:n})}callFetch(e){return(0,l.default)(this.props.schemaUrl,{headers:{"X-FormSchema-Request":e.join(","),Accept:"application/json"},credentials:"same-origin"}).then(e=>e.status>=200&&e.status<300?e.json():new Promise((t,n)=>e.json().then(t=>{n({status:e.status,statusText:e.statusText,json:t})}).catch(()=>{n({status:e.status,statusText:e.statusText,json:{}})})))}fetch(e=!0,t=!0,n=!0){if(this.props.loading)return Promise.resolve({});const a=["auto",e&&"schema",t&&"state",n&&"errors"].filter(e=>e);return this.props.actions.schema.setSchemaLoading(this.props.schemaUrl,!0),"function"==typeof this.props.onFetchingSchema&&this.props.onFetchingSchema(),this.callFetch(a).then(e=>{if(this.props.actions.schema.setSchemaLoading(this.props.schemaUrl,!1),e.errors?"function"==typeof this.props.onLoadingError&&this.props.onLoadingError(e):"function"==typeof this.props.onLoadingSuccess&&this.props.onLoadingSuccess(),void 0!==e.id&&e.state){const t=Object.assign({},e,{state:this.overrideStateData(e.state)}),n=w({...this.props,schema:{...this.props.schema,...t}});this.props.actions.schema.setSchema(this.props.schemaUrl,t,n);const a=e.schema||this.props.schema.schema,s=(0,c.default)(a,t.state);return this.props.actions.reduxForm.initialize(n,s,!1,{keepSubmitSucceeded:!0}),"function"==typeof this.props.onReduxFormInit&&this.props.onReduxFormInit(),t}return e}).catch(e=>{if(this.setState({didError:!0}),this.props.actions.schema.setSchemaLoading(this.props.schemaUrl,!1),"function"==typeof this.props.onLoadingError)return this.props.onLoadingError(this.normaliseError(e));throw e})}normaliseError(e){if(e.json&&e.json.errors)return e.json;if(e.status&&e.statusText)return{errors:[{code:e.status,value:e.statusText,type:"error"}]};return{errors:[{value:e.message||a.default._t("Admin.UNKNOWN_ERROR","An unknown error has occurred."),type:"error"}]}}handleAutofill(e,t){this.props.actions.reduxForm.autofill(this.getIdentifier(),e,t)}render(){if(this.state&&this.state.didError)return null;if(!this.props.schema||!this.props.schema.schema||this.props.loading){const e=this.props.loadingComponent;return s.default.createElement(e,{containerClass:"loading--form flexbox-area-grow"})}const e=Object.assign({},this.props,{form:this.getIdentifier(),onSubmitSuccess:this.props.onSubmitSuccess,onSubmit:this.handleSubmit,onAutofill:this.handleAutofill,autoFocus:this.props.autoFocus});return s.default.createElement(m.default,e)}}t.Component=C,C.propTypes=Object.assign({},m.basePropTypes,{actions:r.default.shape({schema:r.default.object,reduxFrom:r.default.object}),autoFocus:r.default.bool,identifier:r.default.string.isRequired,schemaUrl:r.default.string.isRequired,schema:m.schemaPropType,refetchSchemaOnMount:r.default.bool.isRequired,refetchSchemaCriteria:r.default.string,form:r.default.string,submitting:r.default.bool,onFetchingSchema:r.default.func,onReduxFormInit:r.default.func,loadingComponent:r.default.elementType.isRequired}),C.defaultProps={refetchSchemaOnMount:!0};t.default=(0,o.compose)((0,_.inject)(["ReduxForm","ReduxFormField","Loading"],(e,t,n)=>({loadingComponent:n,baseFormComponent:e,baseFieldComponent:t}),({identifier:e})=>e),(0,i.connect)(function(e,t){const n=e.form.formSchemas[t.schemaUrl],a=w({...t,schema:n}),s=(0,g.default)((0,v.default)(e),a);return{schema:n,submitting:s&&s.submitting,values:s&&s.values,stateOverrides:n&&n.stateOverride,loading:n&&n.metadata&&n.metadata.loading}},function(e){return{actions:{schema:(0,o.bindActionCreators)(p,e),reduxForm:(0,o.bindActionCreators)({autofill:u.autofill,initialize:u.initialize},e)}}}))(C)},23443:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=o(n(80328)),r=o(n(46942)),i=o(n(5556));function o(e){return e&&e.__esModule?e:{default:e}}class l extends a.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}getButtonProps(){const{attributes:e,id:t,name:n}=this.props;return{...void 0===e?{}:e,id:t,name:n,className:this.getButtonClasses(),disabled:this.isDisabled(),onClick:this.handleClick}}getButtonClasses(){const{title:e,loading:t,extraClass:n}=this.props,a={btn:!0,"btn--no-text":"string"!=typeof e,"btn--loading":t,disabled:this.isDisabled()},s=this.getButtonStyle();s&&(a[`btn-${s}`]=!0);const i=this.getIcon();return i&&(a[`font-icon-${i}`]=!0),"string"==typeof n&&(a[n]=!0),(0,r.default)(a)}getButtonStyle(){if(void 0!==this.props.data.buttonStyle)return this.props.data.buttonStyle;if(void 0!==this.props.buttonStyle)return this.props.buttonStyle;return this.props.extraClass.split(" ").find(e=>e.indexOf("btn-")>-1)?null:this.isPrimary()?"primary":"secondary"}getIcon(){return this.props.icon||this.props.data.icon||null}getLoadingIcon(){return this.props.loading?a.default.createElement("div",{className:"btn__loading-icon"},a.default.createElement("span",{className:"btn__circle btn__circle--1"}),a.default.createElement("span",{className:"btn__circle btn__circle--2"}),a.default.createElement("span",{className:"btn__circle btn__circle--3"})):null}isDisabled(){const{disabled:e,readOnly:t}=this.props;return e||t}isPrimary(){const{extraClass:e,name:t}=this.props,n=e?e.split(" "):[];return"action_save"===t||!!n.find(e=>"ss-ui-action-constructive"===e)}handleClick(e){"function"==typeof this.props.onClick&&this.props.onClick(e,this.props.name||this.props.id)}render(){const{title:e}=this.props;return a.default.createElement("button",this.getButtonProps(),this.getLoadingIcon(),(0,s.default)("span",e,{className:"btn__title"}))}}l.propTypes={id:i.default.string,name:i.default.string,onClick:i.default.func,title:i.default.string,type:i.default.string,loading:i.default.bool,icon:i.default.string,disabled:i.default.bool,readOnly:i.default.bool,data:i.default.oneOfType([i.default.array,i.default.shape({buttonStyle:i.default.string})]),extraClass:i.default.string,attributes:i.default.object},l.defaultProps={title:"",icon:"",extraClass:"",attributes:{},data:{},disabled:!1,readOnly:!1};t.default=l},23637:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=o(n(81173)),r=o(n(23977)),i=o(n(5556));function o(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(null,arguments)}class d extends a.Component{constructor(e){super(e),this.getItemKey=this.getItemKey.bind(this),this.getOptionProps=this.getOptionProps.bind(this),this.handleChange=this.handleChange.bind(this)}getItemKey(e,t){const n=e.value||`empty${t}`;return`${this.props.id}-${n}`}getOptionProps(e,t){const n=this.getItemKey(e,t);return{key:n,id:n,name:this.props.name,className:`${this.props.itemClass} option-val--${e.value}`,disabled:e.disabled||this.props.disabled,readOnly:this.props.readOnly,onChange:this.handleChange,value:`${this.props.value}`==`${e.value}`,title:e.title,type:"radio",role:"option"}}handleChange(e,t){if("function"==typeof this.props.onChange&&1===t.value){const n=this.props.source.find((e,n)=>this.getItemKey(e,n)===t.id);this.props.onChange(e,{id:this.props.id,value:n.value})}}render(){return this.props.source?a.default.createElement("div",{role:"listbox"},this.props.source.map((e,t)=>a.default.createElement(s.default,l({},this.getOptionProps(e,t),{hideLabels:!0})))):null}}t.Component=d,d.propTypes={extraClass:i.default.string,itemClass:i.default.string,id:i.default.string,name:i.default.string.isRequired,source:i.default.arrayOf(i.default.shape({value:i.default.oneOfType([i.default.string,i.default.number]),title:i.default.oneOfType([i.default.string,i.default.number]),disabled:i.default.bool})),onChange:i.default.func,value:i.default.oneOfType([i.default.string,i.default.number]),readOnly:i.default.bool,disabled:i.default.bool},d.defaultProps={extraClass:"",className:"",itemClass:""};t.default=(0,r.default)(d)},23977:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n(96540)),s=n(58702),r=d(n(80328)),i=d(n(46942)),o=d(n(5556)),l=u(n(99197));function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return(u=function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i})(e,t)}t.default=function(e){class t extends a.Component{getMessage(){let e=null;this.props.message&&this.props.message.value&&(e=this.props.message);const t=this.props.meta;return t&&t.error&&t.touched&&(!e||t.dirty)&&(e=t.error),e}getHolderProps(){return{className:(0,i.default)({field:!0,[this.props.extraClass]:!0,readonly:this.props.readOnly,"form-group":!0}),id:this.props.holderId}}renderMessage(){const e=this.getMessage();if(!e)return null;const t=(0,i.default)(["form__field-message",`form__field-message--${e.type}`]),n=(0,r.default)("div",e.value);return a.default.createElement("div",{className:t},n)}renderLeftTitle(){const e=this.props.leftTitle?this.props.leftTitle:this.props.title;return!e||this.props.hideLabels?null:(0,r.default)(s.Label,e,{className:"form__field-label",for:this.props.id})}renderRightTitle(){return!this.props.rightTitle||this.props.hideLabels?null:(0,r.default)(s.Label,this.props.rightTitle,{className:"form__field-label",for:this.props.id})}renderField(){const t=Boolean(this.getMessage()),n={...this.props,extraClass:(0,i.default)(this.props.extraClass,{"is-invalid":t})},r=a.default.createElement(e,n);let o=this.props.data&&this.props.data.prefix?this.props.data.prefix:"",l=this.props.data&&this.props.data.suffix?this.props.data.suffix:"";return o||l?(""!==o&&"string"==typeof o&&(o=a.default.createElement(s.InputGroupText,null,o)),""!==l&&"string"==typeof l&&(l=a.default.createElement(s.InputGroupText,null,l)),a.default.createElement(s.InputGroup,null,o,r,l)):r}renderTitleTip(){return this.props.id&&this.props.titleTip&&this.props.titleTip.content?a.default.createElement(l.default,{id:`FieldHolder-${this.props.id}-titleTip`,content:this.props.titleTip.content,fieldTitle:this.props.title,type:l.TIP_TYPES.TITLE,icon:"menu-help"}):null}renderDescription(){return null===this.props.description?null:(0,r.default)("div",this.props.description,{className:"form__field-description"})}render(){return this.props.noHolder?this.renderField():a.default.createElement(s.FormGroup,this.getHolderProps(),this.renderLeftTitle(),this.renderTitleTip(),a.default.createElement("div",{className:"form__field-holder"},this.renderField(),this.renderMessage(),this.renderDescription()),this.renderRightTitle())}}return t.propTypes={leftTitle:o.default.any,rightTitle:o.default.any,title:o.default.any,extraClass:o.default.string,holderId:o.default.string,id:o.default.string,name:o.default.string,description:o.default.any,hideLabels:o.default.bool,message:o.default.shape({extraClass:o.default.string,value:o.default.any,type:o.default.string}),data:o.default.oneOfType([o.default.array,o.default.shape({prefix:o.default.string,suffix:o.default.string})]),titleTip:o.default.shape(l.tipShape)},t.defaultProps={className:"",extraClass:"",leftTitle:null,rightTitle:null,title:"",description:null,hideLabels:!1,noHolder:!1,message:null,data:{}},t}},24596:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(5147)),s=r(n(4136));function r(e){return e&&e.__esModule?e:{default:e}}t.default=(e=(0,a.default)())=>({...e,store:null,setStore(e){this.store=e},customise(e,t,n){this.isProtected();let a=this.middlewareRegistries[t];a||(a=new s.default,this.middlewareRegistries={...this.middlewareRegistries,[t]:a});a.add(e,e=>{const t=this.store&&this.store.getState;return n(e)(t)})},getAll(){return this.initialised?Object.entries(this.factories).reduce((e,[t,n])=>({...e,[t]:n()}),{}):Object.entries(this.services).reduce((e,[t,n])=>({...e,[t]:n}),{})}})},24843:function(e,t,n){"use strict";var a;((a=n(74692))&&a.__esModule?a:{default:a}).default.entwine("ss",function(e){e(".TreeDropdownField").entwine({"from .cms-container form":{onaftersubmitform:function(e){this.find(".tree-holder").empty(),this._super()}}})})},25479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(96540)),s=n(53304),r=n(14269),i=l(n(15042)),o=l(n(5556));function l(e){return e&&e.__esModule?e:{default:e}}const d=e=>{const t=e.formComponent,n={...e};return delete n.formComponent,a.default.createElement(t,n)};d.propTypes={formComponent:o.default.elementType.isRequired};const u=(0,r.inject)(["Form"],e=>({formComponent:e}))(d);t.default=(0,s.reduxForm)({getFormState:i.default,destroyOnUnmount:!1})(u)},25506:function(e,t,n){var a=n(60906),s=n(34160);void 0===s.schemaFieldValues&&(s.schemaFieldValues=a),e.exports=a},25827:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activateTab=function(e,t){return{type:s.default.TABS_ACTIVATE_TAB,payload:{fieldId:e,tab:t}}};var a,s=(a=n(87835))&&a.__esModule?a:{default:a}},25897:function(e,t,n){"use strict";var a=r(n(74692)),s=r(n(95815));function r(e){return e&&e.__esModule?e:{default:e}}a.default.entwine("ss.tree",function(e){e("#Form_BatchActionsForm").entwine({Actions:[],getTree:function(){return e(".cms-tree")},fromTree:{oncheck_node:function(e,t){this.serializeFromTree()},onuncheck_node:function(e,t){this.serializeFromTree()}},onmatch:function(){var e=this;e.getTree().on("load_node.jstree",function(t,n){e.refreshSelected()})},onunmatch:function(){this.getTree().off("load_node.jstree")},registerDefault:function(){this.register("publish",function(e){return!!confirm(s.default.inject(s.default._t("Admin.BATCH_PUBLISH_PROMPT","You have {num} page(s) selected.\n\nDo you really want to publish?"),{num:e.length}))&&e}),this.register("unpublish",function(e){return!!confirm(s.default.inject(s.default._t("Admin.BATCH_UNPUBLISH_PROMPT","You have {num} page(s) selected.\n\nDo you really want to unpublish"),{num:e.length}))&&e}),this.register("delete",function(e){return!!confirm(s.default.inject(s.default._t("Admin.BATCH_DELETE_PROMPT","You have {num} page(s) selected.\n\nAre you sure you want to delete these pages?\n\nThese pages and all of their children pages will be deleted and sent to the archive."),{num:e.length}))&&e}),this.register("restore",function(e){return!!confirm(s.default.inject(s.default._t("Admin.BATCH_RESTORE_PROMPT","You have {num} page(s) selected.\n\nDo you really want to restore to stage?\n\nChildren of archived pages will be restored to the root level, unless those pages are also being restored."),{num:e.length}))&&e})},onadd:function(){this.registerDefault(),this._super()},register:function(e,t){this.trigger("register",{type:e,callback:t});var n=this.getActions();n[e]=t,this.setActions(n)},unregister:function(e){this.trigger("unregister",{type:e});var t=this.getActions();t[e]&&delete t[e],this.setActions(t)},refreshSelected:function(t){var n=this,a=this.getTree(),s=this.getIDs(),r=[],i=e(".cms-content-batchactions-button"),o=this.find(":input[name=Action]").val();for(var l in null==t&&(t=a),s)e(e(a).getNodeByID(l)).addClass("selected").attr("selected","selected");if(o&&-1!=o&&i.hasClass("active")){e(t).find("li").each(function(){r.push(e(this).data("id")),e(this).addClass("treeloading").setEnabled(!1)});var d=e.path.parseUrl(o),u=d.hrefNoSearch+"/applicablepages/";u=e.path.addSearchParams(u,d.search),u=e.path.addSearchParams(u,{csvIDs:r.join(",")}),jQuery.getJSON(u,function(a){jQuery(t).find("li").each(function(){e(this).removeClass("treeloading");var t=e(this).data("id");0==t||e.inArray(t,a)>=0?e(this).setEnabled(!0):(e(this).removeClass("selected").setEnabled(!1),e(this).prop("selected",!1))}),n.serializeFromTree()})}else e(t).find("li").each(function(){e(this).setEnabled(!0)})},serializeFromTree:function(){var e=this.getTree().getSelectedIDs();return this.setIDs(e),!0},setIDs:function(e){this.find(":input[name=csvIDs]").val(e?e.join(","):null)},getIDs:function(){var e=this.find(":input[name=csvIDs]").val();return e?e.split(","):[]},onsubmit:function(t){var n=this,a=this.getIDs(),r=this.getTree(),i=this.getActions();if(!a||!a.length)return alert(s.default._t("Admin.SELECTONEPAGE","Please select at least one page")),t.preventDefault(),!1;var o=this.find(":input[name=Action]").val();if(!o)return t.preventDefault(),!1;var l=o.split("/").filter(e=>!!e).pop();if(i[l]&&(a=i[l].apply(this,[a])),!a||!a.length)return t.preventDefault(),!1;this.setIDs(a),r.find("li").removeClass("failed");var d=this.find(":submit:first");return d.addClass("loading"),jQuery.ajax({url:o,type:"POST",data:this.serializeArray(),complete:function(e,t){d.removeClass("loading"),r.jstree("refresh",-1),n.setIDs([]),n.find(":input[name=Action]").val("").change();var a=e.getResponseHeader("X-Status");a&&statusMessage(decodeURIComponent(a),"success"===t?"success":"error")},success:function(t,n){var a,s;if(t.modified){var i=[];for(a in t.modified)s=r.getNodeByID(a),r.jstree("set_text",s,t.modified[a].TreeTitle),i.push(s);e(i).effect("highlight")}if(t.deleted)for(a in t.deleted)(s=r.getNodeByID(a)).length&&r.jstree("delete_node",s);if(t.error)for(a in t.error)s=r.getNodeByID(a),e(s).addClass("failed")},dataType:"json"}),t.preventDefault(),!1}}),e(".cms-content-batchactions-button").entwine({onmatch:function(){this._super(),this.updateTree()},onunmatch:function(){this._super()},onclick:function(e){this.updateTree()},updateTree:function(){var t=e(".cms-tree"),n=e("#Form_BatchActionsForm");this._super(),this.data("active")?(t.addClass("multiple"),t.removeClass("draggable"),n.serializeFromTree()):(t.removeClass("multiple"),t.addClass("draggable")),e("#Form_BatchActionsForm").refreshSelected()}}),e("#Form_BatchActionsForm select[name=Action]").entwine({onchange:function(t){e(t.target.form).find(":submit");const n=e(t.target).val();if(n){const t=n.split("/"),s=t[t.length-1];e("#Form_BatchActionsForm").refreshSelected();var a=e("#BatchActionParameters_"+s);a.length?(a.find(":input").each(function(){var t=e(this)[0];"SELECT"===t.tagName?(t.selectedIndex=-1,e(this).trigger("chosen:updated")):"checkbox"===t.type?t.checked=t.defaultChecked:t.value=t.defaultValue}),a.siblings().hide(),a.show(),e("#BatchActionParameters").slideDown()):e("#BatchActionParameters").slideUp()}this.trigger("chosen:updated"),this._super(t)}})})},26105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(66104)),s=o(n(69012)),r=n(53304),i=o(n(14269));function o(e){return e&&e.__esModule?e:{default:e}}const l=[r.actionTypes.REGISTER_FIELD,r.actionTypes.DESTROY];t.default=e=>()=>(t,n)=>{const r=e(t,n),o=n.meta&&n.meta.form;if(!o||l.includes(n.type))return r;const d=i.default.form.getSchema(o);if(!d)return r;const u=(0,a.default)(r.formState,o);if(!u)return r;let c={...r};const f=Object.entries(r.formSchemas).filter(([,e])=>e.name===o);return f.length?(f.forEach(([e,t])=>{const n=d(t,u);if(!n.state||!Array.isArray(n.state.fields))throw new Error(`\n      One more calls to alterSchema did not return a properly formed schema state\n      object. Check your calls to Injector.transform() which could affect '${e}'.\n    `);c=(0,s.default)(c,`formSchemas.${e}.state`,n.state)}),c):r}},26285:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a,s=n(96540),r=(a=n(5556))&&a.__esModule?a:{default:a},i=n(84976);function o({shouldBlockFn:e,blockMessage:t}){const n=(0,i.useBlocker)(e);return(0,s.useEffect)(()=>{if("blocked"===n.state){confirm(t)?n.proceed():n.reset()}},[n.state]),null}o.propTypes={shouldBlockFn:r.default.func.isRequired,blockMessage:r.default.string.isRequired}},26430:function(e,t,n){var a=n(97260),s=n(34160);void 0===s.AccordionBlock&&(s.AccordionBlock=a),e.exports=a},27092:function(e,t,n){var a=n(11463),s=n(34160);void 0===s.Form&&(s.Form=a),e.exports=a},27798:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={ADD_FORM_CHANGED:"ADD_FORM_CHANGED",REMOVE_FORM_CHANGED:"REMOVE_FORM_CHANGED"}},27807:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TabContext=void 0,t.injectTabContext=function(e){return t=>{const n=i();return a.default.createElement(e,s({},t,{tabContext:n}))}},t.useTabFirstShow=function(e){const t=i(),n=!t||t.isOnActiveTab,[s,r]=(0,a.useState)(!1);(0,a.useEffect)(()=>{n&&(r(!0),e(t))},[s||n])};var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540));function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(null,arguments)}const r=t.TabContext=a.default.createContext(!1);function i(){return(0,a.useContext)(r)}t.default=i},28076:function(e,t,n){var a=n(36087),s=n(34160);void 0===s.ViewModeToggle&&(s.ViewModeToggle=a),e.exports=a},28181:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(96540)),s=i(n(55655)),r=n(17437);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function({children:e}){return window.ssReactSelectCache||(window.ssReactSelectCache=(0,s.default)({key:"react-select",insertionPoint:document.querySelector("title")})),a.default.createElement(r.CacheProvider,{value:window.ssReactSelectCache},e)}},28221:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(96540))&&a.__esModule?a:{default:a},r=n(14269),i=n(47767);t.default=(0,r.provideInjector)(({children:e})=>s.default.createElement("div",{className:"app"},e,s.default.createElement(i.Outlet,null)))},28557:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=o(n(96540)),s=o(n(5417)),r=o(n(5556)),i=o(n(13164));function o(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(null,arguments)}const d=!0,u=!1,c=e=>{const t=document.activeElement[e?"nextElementSibling":"previousElementSibling"];return!!t&&(t.focus(),!0)},f=({tags:e,deletable:t,focusable:n,onTagDelete:r,onTagClick:i,onHolderFocus:o})=>{const f=e=>{c(d)||o(),r(e)},p=e=>{c(u)||c(d)||o(),r(e)};return a.default.createElement("ul",{className:"tag-list"},e.map(e=>a.default.createElement(s.default,l({},e,{tag:"li",deletable:t,dataKey:e.key,focusable:n,onDelete:r,onDeleteKey:t&&r?f:void 0,onBackSpace:t&&r?p:void 0,onNext:()=>{c(d)||o()},onPrevious:()=>{c(u)},onClick:i}))))};t.Component=f,f.propTypes={onTagClick:r.default.func,onTagDelete:r.default.func,onHolderFocus:r.default.func,deletable:r.default.bool,tags:r.default.arrayOf(i.default),focusable:r.default.bool},f.defaultProps={deletable:!1,focusable:!0,onTagDelete:()=>{},onTagClick:()=>{},onHolderFocus:()=>{}};t.default=f},28620:function(e,t,n){"use strict";var a,s=(a=n(74692))&&a.__esModule?a:{default:a};n(62727),s.default.entwine("ss",function(e){e(".ss-toggle").entwine({onadd:function(){this._super(),this.accordion({heightStyle:"content",collapsible:!0,active:!this.hasClass("ss-toggle-start-closed")&&0})},onremove:function(){this.data("uiAccordion")&&this.accordion("destroy"),this._super()},getTabSet:function(){return this.closest(".ss-tabset")},fromTabSet:{ontabsshow:function(){this.accordion("resize")}}})})},28699:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(53692))&&a.__esModule?a:{default:a};t.default=e=>(e.contextTypes={...e.contextTypes||{},...s.default},e.displayName=`withInjector(\n    ${e.displayName||e.name||"Component"}\n  )`,e)},29574:function(e,t,n){var a=n(66802),s=n(34160);void 0===s.formatWrittenNumber&&(s.formatWrittenNumber=a),e.exports=a},29837:function(e,t,n){"use strict";var a;((a=n(74692))&&a.__esModule?a:{default:a}).default.entwine("ss",function(e){e(".cms-content").entwine({onadd:function(){this.find(".cms-tabset").redrawTabs(),this._super()},redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0)),this.add(this.find(".cms-tabset")).redrawTabs(),this.find(".cms-content-header").redraw(),this.find(".cms-content-actions").redraw()}}),e(".cms-content .cms-tree").entwine({onadd:function(){var t=this;this._super(),this.on("select_node.jstree",function(n,a){var s=a.rslt.obj,r=t.find(":input[name=ID]").val(),i=a.args[2],o=e(".cms-container");if(!i)return!1;if(e(s).hasClass("disabled"))return!1;if(e(s).data("id")!=r){var l=e(s).find("a:first").attr("href");l&&"#"!=l?(l=l.split("?")[0],t.jstree("deselect_all"),t.jstree("uncheck_all"),e.path.isExternal(e(s).find("a:first"))&&(l=l=e.path.makeUrlAbsolute(l,e("base").attr("href"))),document.location.search&&(l=e.path.addSearchParams(l,document.location.search.replace(/^\?/,""))),o.loadPanel(l)):t.removeForm()}})}}),e(".cms-content .cms-content-fields").entwine({redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0))}}),e(".cms-content .cms-content-actions").entwine({redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0)),this.height("auto");const e=parseInt(this.css("padding-top"),10),t=parseInt(this.css("padding-bottom"),10);this.height(this.innerHeight()-e-t)}})})},29909:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=a.Children.toArray(t);if(!n||0===n.length)return"";let s;"string"==typeof e&&(s=n.find(({props:{name:t}})=>t===e));s||(s=n[0]);return s.props.name};var a=n(96540)},29950:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(82229)),s=n(53304),r=i(n(27798));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e=[],t){const n=t.meta&&t.meta.form;switch(t.type){case r.default.ADD_FORM_CHANGED:case s.actionTypes.CHANGE:return(0,a.default)([...e.filter(e=>e.name!==n),{name:n}]);case r.default.REMOVE_FORM_CHANGED:case s.actionTypes.STOP_SUBMIT:return(0,a.default)([...e.filter(e=>e.name!==n)]);case s.actionTypes.DESTROY:return(0,a.default)([...e.filter(e=>!n.includes(e.name))]);default:return e}}},29981:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),r=(a=n(5556))&&a.__esModule?a:{default:a};function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(null,arguments)}class o extends s.Component{getContent(){return{__html:this.props.value}}getInputProps(){return{className:`${this.props.className} ${this.props.extraClass}`,id:this.props.id,name:this.props.name}}render(){return s.default.createElement("div",i({},this.getInputProps(),{dangerouslySetInnerHTML:this.getContent()}))}}o.propTypes={id:r.default.string,name:r.default.string.isRequired,extraClass:r.default.string,value:r.default.string},o.defaultProps={extraClass:"",className:""};t.default=o},30521:function(e,t,n){var a=n(28181),s=n(34160);void 0===s.EmotionCssCacheProvider&&(s.EmotionCssCacheProvider=a),e.exports=a},31217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=l(n(23977)),r=l(n(95815)),i=n(58702),o=l(n(5556));function l(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(null,arguments)}class u extends a.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}getReadonlyField(){let e=this.props.source&&this.props.source.find(e=>e.value===this.props.value);return e="string"==typeof e?e:this.props.value||"",a.default.createElement(i.Input,d({plaintext:!0},this.getInputProps(),{tag:"p"}),e)}getSelectField(){const e=this.props.source?this.props.source.slice():[];return this.props.data.hasEmptyDefault&&!e.find(e=>!e.value)&&e.unshift({value:"",title:this.props.data.emptyString,disabled:!1}),a.default.createElement(i.Input,d({type:"select"},this.getInputProps()),e.map((e,t)=>{const n=`${this.props.name}-${e.value||`empty${t}`}`,s=e.description||null;return a.default.createElement("option",{key:n,value:e.value,disabled:e.disabled,title:s},e.title)}))}getInputProps(){const e={className:`${this.props.className} ${this.props.extraClass} no-chosen`,id:this.props.id,name:this.props.name,disabled:this.props.disabled};return this.props.readOnly||Object.assign(e,{onChange:this.handleChange,value:this.props.value||""}),e}handleChange(e){"function"==typeof this.props.onChange&&this.props.onChange(e,{id:this.props.id,value:e.target.value})}render(){let e=null;return e=this.props.readOnly?this.getReadonlyField():this.getSelectField(),e}}t.Component=u,u.propTypes={id:o.default.string,name:o.default.string.isRequired,onChange:o.default.func,value:o.default.oneOfType([o.default.string,o.default.number]),readOnly:o.default.bool,disabled:o.default.bool,source:o.default.arrayOf(o.default.shape({value:o.default.oneOfType([o.default.string,o.default.number]),title:o.default.oneOfType([o.default.string,o.default.number]),description:o.default.string,disabled:o.default.bool})),data:o.default.oneOfType([o.default.array,o.default.shape({hasEmptyDefault:o.default.bool,emptyString:o.default.oneOfType([o.default.string,o.default.number])})])},u.defaultProps={source:[],extraClass:"",className:"",data:{emptyString:r.default._t("Boolean.ANY","Any")}};t.default=(0,s.default)(u)},31229:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=o,t.default=void 0;var a=i(n(96540)),s=i(n(5556)),r=i(n(95815));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){const t=Math.ceil(e.totalItems/e.maxItemsPerPage);function n(t){e.onChangePage(t)}return a.default.createElement("div",{className:"paginator-footer"},a.default.createElement("div",null,a.default.createElement("div",{className:"paginator-prev"},function(){if(1===e.currentPage)return null;const t=r.default._t("Admin.PREVIOUS","Previous");return a.default.createElement("button",{type:"button",onClick:()=>{n(e.currentPage-1)}},a.default.createElement("span",{className:"paginator-icon font-icon-angle-left","aria-hidden":"true"}),a.default.createElement("span",{className:"visually-hidden"},t))}()),a.default.createElement("div",{className:"paginator-page"},a.default.createElement(a.default.Fragment,null,a.default.createElement("select",{value:e.currentPage,onChange:e=>function(e){n(1*e.target.value)}(e)},function(){const e=[];for(let n=1;n<=t;n++)e.push(a.default.createElement("option",{key:n,value:n},n));return e}())," / ",t)),a.default.createElement("div",{className:"paginator-next"},function(){if(e.currentPage===t)return null;const s=r.default._t("Admin.NEXT","Next");return a.default.createElement("button",{type:"button",onClick:()=>{n(e.currentPage+1)}},a.default.createElement("span",{className:"paginator-icon font-icon-angle-right","aria-hidden":"true"}),a.default.createElement("span",{className:"visually-hidden"},s))}())))}o.propTypes={totalItems:s.default.number.isRequired,maxItemsPerPage:s.default.number.isRequired,currentPage:s.default.number.isRequired,onChangePage:s.default.func.isRequired};t.default=o},32152:function(e,t,n){var a=n(39054),s=n(34160);void 0===s.CompactTagList&&(s.CompactTagList=a),e.exports=a},32185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(96540)),s=n(58702),r=o(n(95815)),i=o(n(5556));function o(e){return e&&e.__esModule?e:{default:e}}const l=({children:e,className:t,isOpen:n,modalClassName:s,ModalComponent:i,ModalHeaderComponent:o,onClosed:l,showCloseButton:d,size:u,title:c})=>a.default.createElement(i,{isOpen:n,toggle:l,className:t,modalClassName:s,size:u},!1!==c&&a.default.createElement(o,{toggle:l,title:c},function(e){if("object"==typeof e)return(new DOMParser).parseFromString(e.html,"text/html").body.textContent||"";return e}(c)),!1===c&&!0===d&&"function"==typeof l&&a.default.createElement("button",{type:"button",className:"btn-close modal__close-button",onClick:l,"aria-label":r.default._t("Admin.CLOSE","Close")}),e);l.propTypes={className:i.default.string,isOpen:i.default.bool,modalClassName:i.default.string,ModalComponent:i.default.oneOfType([i.default.object,i.default.func]),ModalHeaderComponent:i.default.oneOfType([i.default.object,i.default.func]),onClosed:i.default.func,size:i.default.oneOf(["","sm","lg","xl"]),showCloseButton:i.default.bool,title:i.default.oneOfType([i.default.string,i.default.bool,i.default.shape({html:i.default.string})])},l.defaultProps={isOpen:!1,ModalComponent:s.Modal,ModalHeaderComponent:s.ModalHeader,title:null};t.default=l},32189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(96540)),s=i(n(5556)),r=i(n(61080));function i(e){return e&&e.__esModule?e:{default:e}}const o=({showBackButton:e,children:t,onBackButtonClick:n})=>a.default.createElement("div",{className:"toolbar toolbar--north"},a.default.createElement("div",{className:"toolbar__navigation fill-width"},e&&a.default.createElement(r.default,{onClick:e=>{e.preventDefault(),"function"==typeof n&&n(e)},className:"toolbar__back-button"}),t));o.propTypes={onBackButtonClick:s.default.func,showBackButton:s.default.bool},o.defaultProps={showBackButton:!1};t.default=o},32493:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=o(n(81173)),r=o(n(23977)),i=o(n(5556));function o(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(null,arguments)}class d extends a.Component{constructor(e){super(e),this.getItemKey=this.getItemKey.bind(this),this.getOptionProps=this.getOptionProps.bind(this),this.handleChange=this.handleChange.bind(this),this.getValues=this.getValues.bind(this)}getItemKey(e,t){return`${this.props.id}-${e.value||`empty${t}`}`}getValues(){let e=this.props.value;return Array.isArray(e)||("string"==typeof e&&(e=e.length?[e]:[]),"number"==typeof e&&(e=[e])),e?e.map(e=>`${e}`):[]}getOptionProps(e,t){const n=this.getValues(),a=this.getItemKey(e,t);return{key:a,id:a,name:this.props.name,className:this.props.itemClass,disabled:e.disabled||this.props.disabled,readOnly:this.props.readOnly,onChange:this.handleChange,value:n.indexOf(`${e.value}`)>-1,title:e.title,role:"option",type:"checkbox"}}handleChange(e,t){if("function"==typeof this.props.onChange){const n=this.getValues(),a=this.props.source.filter((e,a)=>this.getItemKey(e,a)===t.id?1===t.value:n.indexOf(`${e.value}`)>-1).map(e=>`${e.value}`);this.props.onChange(e,{id:this.props.id,value:a})}}render(){return this.props.source?a.default.createElement("div",{role:"listbox"},this.props.source.map((e,t)=>a.default.createElement(s.default,l({},this.getOptionProps(e,t),{hideLabels:!0})))):null}}t.Component=d,d.propTypes={className:i.default.string,extraClass:i.default.string,itemClass:i.default.string,id:i.default.string,name:i.default.string.isRequired,source:i.default.arrayOf(i.default.shape({value:i.default.oneOfType([i.default.string,i.default.number]),title:i.default.any,disabled:i.default.bool})),onChange:i.default.func,value:i.default.any,readOnly:i.default.bool,disabled:i.default.bool},d.defaultProps={extraClass:"",className:"",value:[]};t.default=e=>{const t=(0,r.default)(d);return a.default.createElement(t,e)}},32541:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=l(n(5556)),r=l(n(95815)),i=l(n(46942)),o=n(58702);function l(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(null,arguments)}const u="file-status-icon";class c extends a.PureComponent{buildTrackedFormUpload(e){const t=e?"font-icon-address-card":"font-icon-address-card-warning";return{className:(0,i.default)("icon",`${u}__icon`,t),"data-title":e?r.default._t("SilverStripe\\Admin\\FileStatusIcon.TRACKED_FORM_UPLOAD_RESTRICTED","Form submission"):r.default._t("SilverStripe\\Admin\\FileStatusIcon.TRACKED_FORM_UPLOAD_UNRESTRICTED","Form submission, unrestricted access")}}buildRestrictedFileAttrs(){return{className:(0,i.default)("icon",`${u}__icon`,"font-icon-user-lock"),"data-title":r.default._t("SilverStripe\\Admin\\FileStatusIcon.ACCESS_RESTRICTED","Restricted access")}}renderTooltip(e,t,n){return a.default.createElement(o.UncontrolledTooltip,{placement:e,target:t,delay:{show:300,hide:0}},n)}render(){const{fileID:e,hasRestrictedAccess:t,isTrackedFormUpload:n,placement:s,extraClassName:r,disableTooltip:o,includeBackground:l}=this.props;if(!n&&!t)return"";const c=l?"file-status-icon--background":"",f=(0,i.default)([u,c,r]),p=n?this.buildTrackedFormUpload(t):this.buildRestrictedFileAttrs(),h=`FileStatusIcon-${n?"tracked-form-upload":"restricted"}-${e}`,m=o?"":this.renderTooltip(s,h,p["data-title"]);return a.default.createElement("div",{className:f},a.default.createElement("span",d({id:h},p)),m)}}c.propTypes={fileID:s.default.number,hasRestrictedAccess:s.default.bool,isTrackedFormUpload:s.default.bool,placement:s.default.string,disableTooltip:s.default.bool,extraClassName:s.default.string,includeBackground:s.default.bool},c.defaultProps={placement:"auto",disableTooltip:!1};t.default=c},32613:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(60328)),s=o(n(64583)),r=o(n(55373)),i=o(n(84010));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){let t=null,n=null;if(!(e.status>=200&&e.status<300))throw n=new Error(e.statusText),n.response=e,n;return t=e,t}function d(e){let t=null;if(e instanceof FormData||"string"==typeof e)t=e;else{if(!e||"object"!=typeof e)throw new Error("Invalid body type");t=JSON.stringify(e)}return t}function u(e,t){switch(e){case"application/x-www-form-urlencoded":return r.default.stringify(t);case"application/json":case"application/x-json":case"application/x-javascript":case"text/javascript":case"text/x-javascript":case"text/x-json":return JSON.stringify(t);default:throw new Error(`Can't encode format: ${e}`)}}function c(e){return e.text().then(t=>function(e,t){switch(e){case"application/x-www-form-urlencoded":return r.default.parse(t);case"application/json":case"application/x-json":case"application/x-javascript":case"text/javascript":case"text/x-javascript":case"text/x-json":return JSON.parse(t);default:throw new Error(`Can't decode format: ${e}`)}}(e.headers.get("Content-Type"),t))}s.default.polyfill();const f=new class{constructor(){this.fetch=a.default}createEndpointFetcher(e){const t=Object.assign({method:"get",payloadFormat:"application/x-www-form-urlencoded",responseFormat:"application/json",payloadSchema:{},defaultData:{}},e),n={json:"application/json",urlencoded:"application/x-www-form-urlencoded"};return["payloadFormat","responseFormat"].forEach(e=>{n[t[e]]&&(t[e]=n[t[e]])}),(e={},n={})=>{const a=Object.assign({},n,{Accept:t.responseFormat,"Content-Type":t.payloadFormat}),s=i.default.recursive({},t.defaultData,e),r=function(e,t,n,a={setFromData:!1}){let s=t;return s=function(e,t){return""===t?e:e.match(/\?/)?`${e}&${t}`:`${e}?${t}`}(s,u("application/x-www-form-urlencoded",Object.keys(n).reduce((t,s)=>{const r=e[s],i=!0===a.setFromData&&!(r&&!0===r.remove),o=r&&!0===r.querystring&&!0!==r.remove;return i||o?Object.assign(t,{[s]:n[s]}):t},{}))),s=Object.keys(e).reduce((t,a)=>{const s=e[a].urlReplacement;return s?t.replace(s,n[a]):t},s),s}(t.payloadSchema,t.url,s,{setFromData:"get"===t.method.toLowerCase()}),o="get"!==t.method.toLowerCase()?u(t.payloadFormat,function(e,t){return Object.keys(t).reduce((n,a)=>{const s=e[a];return!s||!0!==s.remove&&!0!==s.querystring?Object.assign(n,{[a]:t[a]}):n},{})}(t.payloadSchema,s)):"",l="get"===t.method.toLowerCase()?[r,a]:[r,o,a];return this[t.method.toLowerCase()](...l).then(c)}}get(e,t={}){return this.fetch(e,{method:"get",credentials:"same-origin",headers:t}).then(l)}post(e,t={},n={}){return this.fetch(e,{method:"post",credentials:"same-origin",body:d(t),headers:Object.assign({},{"Content-Type":"application/x-www-form-urlencoded"},n)}).then(l)}put(e,t={},n={}){return this.fetch(e,{method:"put",credentials:"same-origin",body:d(t),headers:n}).then(l)}delete(e,t={},n={}){return this.fetch(e,{method:"delete",credentials:"same-origin",body:d(t),headers:n}).then(l)}};t.default=f},33105:function(e,t,n){var a=n(32189),s=n(34160);void 0===s.Toolbar&&(s.Toolbar=a),e.exports=a},33119:function(e,t,n){"use strict";n(46353),n(10098),n(10431),n(25506),n(72298),n(14992),n(83952),n(38536),n(17174),n(99855),n(47928),n(27092),n(17558),n(60022),n(84795),n(1359),n(56173),n(39636),n(75252),n(21735),n(90584),n(93772),n(55064),n(20088),n(64145),n(82414),n(67694),n(19514),n(39078),n(36726),n(90990),n(85152),n(26430),n(72250),n(39734),n(56086),n(86473),n(7057),n(15550),n(48486),n(4163),n(98461),n(33105),n(64477),n(55180),n(56779),n(73226),n(77986),n(32152),n(94571),n(59338),n(54758),n(33993),n(78769),n(58749),n(83713),n(74626),n(50121),n(60246),n(80125),n(56726),n(61455),n(80753),n(28076),n(76361),n(30521),n(82660),n(18320),n(93476),n(91484),n(58760),n(29574),n(98120),n(65484),n(33929),n(65739),n(49153),n(89513),n(36208),n(65060),n(62930),n(19081),n(52358),n(99694),n(29837),n(13776),n(46333),n(34811),n(77964),n(25897),n(74291),n(49492),n(24843),n(95988),n(79797),n(72806),n(80597),n(2400),n(48449),n(28620),n(40028),n(224),n(65376),n(84374),n(68413),n(42496),n(71285),n(76768),n(62038)},33929:function(e,t,n){var a=n(50693),s=n(34160);void 0===s.SearchableDropdownField&&(s.SearchableDropdownField=a),e.exports=a},33993:function(e,t,n){var a=n(69161),s=n(34160);void 0===s.TreeDropdownFieldNode&&(s.TreeDropdownFieldNode=a),e.exports=a},34121:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(53304),s=ae(n(14269)),r=ae(n(35421)),i=ae(n(1541)),o=ae(n(73323)),l=ae(n(61080)),d=ae(n(2481)),u=ae(n(85281)),c=ae(n(45193)),f=ae(n(85085)),p=ae(n(81885)),h=ae(n(50237)),m=ae(n(32493)),g=ae(n(23637)),_=ae(n(21757)),v=ae(n(70077)),b=ae(n(31217)),y=ae(n(82405)),w=ae(n(77773)),C=ae(n(29981)),E=ae(n(91621)),O=ae(n(56425)),S=ae(n(60093)),T=ae(n(74491)),M=ae(n(54475)),P=ae(n(47735)),D=ae(n(23443)),j=ae(n(84265)),R=ae(n(90277)),k=ae(n(56091)),x=ae(n(46381)),I=ae(n(11463)),A=ae(n(21077)),N=ae(n(99417)),F=ae(n(25479)),L=ae(n(48749)),$=ae(n(86713)),U=ae(n(74)),B=ae(n(87523)),W=ae(n(36087)),V=ae(n(96937)),H=ae(n(5417)),q=ae(n(28557)),z=ae(n(39054)),G=ae(n(99197)),K=ae(n(89091)),X=ae(n(54663)),Y=ae(n(92797)),Q=ae(n(42171)),J=ae(n(92077)),Z=ae(n(72041)),ee=ae(n(50693)),te=ae(n(61289)),ne=ae(n(31229));function ae(e){return e&&e.__esModule?e:{default:e}}t.default=()=>{s.default.component.registerMany({ActionMenu:r.default,Badge:i.default,Button:o.default,BackButton:l.default,TextField:d.default,HiddenField:u.default,DateField:c.default,TimeField:f.default,DatetimeField:p.default,CheckboxField:h.default,CheckboxSetField:m.default,OptionsetField:g.default,GridField:_.default,GridFieldActions:v.default,FieldGroup:j.default,SingleSelectField:b.default,PopoverField:y.default,HeaderField:w.default,LiteralField:C.default,HtmlReadonlyField:E.default,LookupField:O.default,CompositeField:S.default,Tabs:M.default,TabItem:P.default,FormAction:D.default,LabelField:T.default,TreeDropdownField:R.default,Preview:N.default,ReduxForm:F.default,ReduxFormField:a.Field,Form:I.default,FormAlert:A.default,FormBuilderModal:k.default,NotFoundComponent:x.default,UsedOnTable:L.default,Loading:$.default,CircularLoading:U.default,VersionedBadge:B.default,ViewModeToggle:W.default,ResizeAware:V.default,Tag:H.default,TagList:q.default,CompactTagList:z.default,Tip:G.default,Search:K.default,SearchToggle:X.default,NumberField:Y.default,PopoverOptionSet:Q.default,ToastsContainer:J.default,ListboxField:Z.default,SearchableDropdownField:ee.default,SudoModePasswordField:te.default,Paginator:ne.default})}},34526:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STAY_TIME=t.FADEOUT_TIME=void 0;t.STAY_TIME=6e3,t.FADEOUT_TIME=1200},34811:function(e,t,n){"use strict";var a=o(n(74692)),s=o(n(1066)),r=n(97097),i=n(5338);function o(e){return e&&e.__esModule?e:{default:e}}a.default.entwine("ss",function(e){e(".js-react-boot").entwine({onmatch:function(){const t=e(".cms-mobile-menu-toggle-wrapper");if(t.length>0){(0,i.createRoot)(t[0]).render(React.createElement(s.default,{store:window.ss.store,controls:"cms-menu"}))}const n=window.ss.store,a=e(".cms-menu"),r=e(".cms-menu-mobile-overlay");n.subscribe(()=>{const e=n.getState().mobileMenu.isOpen;a.toggleClass("cms-menu--open",e),r.attr("aria-expanded",e)})}}),e(".cms-menu-mobile-overlay").entwine({onclick:function(){window.ss.store.dispatch((0,r.closeMobileMenu)())}})})},35421:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=l(n(5556)),r=n(58702),i=l(n(95815)),o=l(n(46942));function l(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(null,arguments)}class u extends a.PureComponent{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.state={isOpen:!1}}toggle(e){const{toggleCallback:t}=this.props;t&&t(e),window.setTimeout(()=>this.setState({isOpen:!this.state.isOpen}),0)}render(){const{dropdownToggleProps:e,dropdownMenuProps:t,dropdownToggleClassNames:n,className:s,toggleCallback:l,...u}=this.props,c=(0,o.default)(n,e.className),f=(0,o.default)("action-menu__dropdown",t.className);return a.default.createElement(r.Dropdown,d({className:(0,o.default)("action-menu",s),isOpen:this.state.isOpen,toggle:this.toggle},u),a.default.createElement(r.DropdownToggle,d({className:c,"aria-label":i.default._t("Admin.ACTIONS","View actions")},e)),a.default.createElement(r.DropdownMenu,d({className:f},t),this.props.children))}}u.propTypes={toggleCallback:s.default.func,dropdownToggleClassNames:s.default.arrayOf(s.default.string)},u.defaultProps={className:"",dropdownToggleClassNames:["action-menu__toggle","btn","btn--no-text","btn--icon-xl","font-icon-dot-3"],dropdownToggleProps:{},dropdownMenuProps:{}};t.default=u},35505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addFormChanged=function(e){return{type:s.default.ADD_FORM_CHANGED,meta:{form:e}}},t.removeFormChanged=function(e){return{type:s.default.REMOVE_FORM_CHANGED,meta:{form:e}}};var a,s=(a=n(27798))&&a.__esModule?a:{default:a}},35962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=v(n(74692)),s=v(n(96540)),r=n(73729),i=n(5338),o=n(84976),l=v(n(80391)),d=v(n(75564)),u=v(n(3600)),c=v(n(28221)),f=v(n(95815)),p=n(53304),h=v(n(15042)),m=n(47767),g=n(13547),_=v(n(26285));function v(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e){this.store=e;const t=l.default.get("absoluteBaseUrl");d.default.setAbsoluteBase(t),this.shouldConfirmBeforeUnload=this.shouldConfirmBeforeUnload.bind(this)}setStore(e){this.store=e}start(e){this.matchesReactRoute(e)?this.initReactRouter():this.initLegacyRouter();const t=window.onbeforeunload;window.onbeforeunload=()=>this.shouldConfirmBeforeUnload()?f.default._t("Admin.CONFIRMUNSAVEDSHORT","WARNING: Your changes have not been saved."):"function"==typeof t?t():void 0}matchesReactRoute(e){const t=l.default.get("sections"),n=d.default.resolveURLToBase(e).replace(/\/$/,"");return!!t.find(e=>{const t=d.default.resolveURLToBase(e.url).replace(/\/$/,"");return!!e.reactRouter&&n.match(`${t}(/|$)`)})}initReactRouter(){u.default.updateRootRoute({component:c.default});const e=u.default.getRootRoute(),t=(0,o.createBrowserRouter)((0,o.createRoutesFromElements)(s.default.createElement(m.Route,{path:e.path,element:s.default.createElement(e.component,null,s.default.createElement(_.default,{shouldBlockFn:this.shouldConfirmBeforeUnload,blockMessage:this.getUnsavedChangesMessage()}))},u.default.getChildRoutes().map(e=>s.default.createElement(m.Route,{key:e.path,path:e.path,element:s.default.createElement(e.component,null)})))),{basename:(0,g.joinUrlPaths)(l.default.get("baseUrl"),l.default.get("adminUrl"))});(0,i.createRoot)(document.getElementsByClassName("cms-content")[0]).render(s.default.createElement(r.Provider,{store:this.store},s.default.createElement(o.RouterProvider,{router:t})))}initLegacyRouter(){const e=l.default.get("sections"),t=this.store;(0,d.default)("*",(e,n)=>{const a=this.getUnsavedChangesMessage();this.shouldConfirmBeforeUnload()&&!window.confirm(a)||(e.store=t,n())});let n=null;e.forEach(e=>{let t=d.default.resolveURLToBase(e.url);t=t.replace(/\/$/,""),t=`${t}(/*?)?`,(0,d.default)(t,(e,t)=>{if("complete"!==document.readyState||e.init)return void t();if(n||(n=window.location.pathname),e.state?.path&&this.matchesReactRoute(e.state.path))return history.pushState({},""),void(window.location=e.state.path);const s=e.state&&e.state.__forceReload;(e.path!==n||s)&&(n=e.path.replace(/#.*$/,""),(0,a.default)(".cms-container").entwine("ss").handleStateChange(null,e.state))})});(0,i.createRoot)(document.createElement("div")).render(s.default.createElement("a",{role:"none",onClick:()=>{}})),d.default.start()}shouldConfirmBeforeUnload(){const e=this.store.getState(),t=e.unsavedForms||[],n=e.form.formSchemas;return t.filter(t=>{const a=Object.values(n).find(e=>e.name===t.name);return!!(a&&a.state&&a.state.notifyUnsavedChanges)&&(0,p.isDirty)(t.name,h.default)(e)}).length>0}getUnsavedChangesMessage(){return f.default._t("Admin.CONFIRMUNSAVED","Are you sure you want to navigate away\n    from this page?\n\nWARNING: Your changes have not been saved.\n\n\n    Press OK to continue, or Cancel to stay on the current page.")}}},36087:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=f(n(5556)),r=n(58702),i=f(n(95815)),o=n(73729),l=n(28895),d=n(6679),u=n(44072),c=f(n(46942));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(null,arguments)}class h extends a.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.state={dropdownOpen:!1},this.handleSplitSelect=this.handleSplitSelect.bind(this),this.handlePreviewSelect=this.handlePreviewSelect.bind(this),this.handleEditSelect=this.handleEditSelect.bind(this)}getIconClass(){const{activeState:e,editIconClass:t,previewIconClass:n,splitIconClass:a}=this.props;switch(e){case u.VIEW_MODE_STATES.EDIT:return t;case u.VIEW_MODE_STATES.PREVIEW:return n;default:return a}}getTitle(){const{activeState:e}=this.props;switch(e){case u.VIEW_MODE_STATES.EDIT:return i.default._t("Admin.EDIT_MODE","Edit mode");case u.VIEW_MODE_STATES.PREVIEW:return i.default._t("Admin.PREVIEW_MODE","Preview mode");default:return i.default._t("Admin.SPLIT_MODE","Split mode")}}toggle(){window.setTimeout(()=>this.setState(e=>({dropdownOpen:!e.dropdownOpen})),0)}handleSplitSelect(){this.props.onSplitSelect()}handlePreviewSelect(){this.props.onPreviewSelect()}handleEditSelect(){this.props.onEditSelect()}renderSplitDropdownItem(){const{activeState:e,splitAvailable:t,splitIconClass:n}=this.props,s=(0,c.default)("btn","icon-view","first",n,{"viewmode-toggle__button":!0,"viewmode-toggle--selected":e===u.VIEW_MODE_STATES.SPLIT,disabled:!t});return a.default.createElement(r.DropdownItem,{type:"button",disabled:!t,className:s,value:u.VIEW_MODE_STATES.SPLIT,onClick:this.handleSplitSelect,id:"splitModeButton"},i.default._t("Admin.SPLIT_MODE","Split mode"))}renderEditDropDownItem(){const{activeState:e,editIconClass:t}=this.props,n=(0,c.default)("btn","icon-view","last","viewmode-toggle__button",t,{"viewmode-toggle--selected":e===u.VIEW_MODE_STATES.EDIT});return a.default.createElement(r.DropdownItem,{type:"button",className:n,value:"content",onClick:this.handleEditSelect},i.default._t("Admin.EDIT_MODE","Edit mode"))}renderPreviewDropDownItem(){const{activeState:e,previewIconClass:t}=this.props,n=(0,c.default)("btn","icon-view","viewmode-toggle__button",t,{"viewmode-toggle--selected":e===u.VIEW_MODE_STATES.PREVIEW});return a.default.createElement(r.DropdownItem,{type:"button",className:n,value:"preview",onClick:this.handlePreviewSelect},i.default._t("Admin.PREVIEW_MODE","Preview mode"))}render(){const{activeState:e,area:t,splitAvailable:n,dropdownToggleProps:s}=this.props;if(t===u.VIEW_MODE_STATES.EDIT&&e===u.VIEW_MODE_STATES.SPLIT)return null;const o=(0,c.default)(this.getIconClass(),"btn","viewmode-toggle__dropdown",s.classname);return a.default.createElement(r.Dropdown,{isOpen:this.state.dropdownOpen,toggle:this.toggle,className:"viewmode-toggle"},a.default.createElement(r.DropdownToggle,p({className:o,caret:!0},s),a.default.createElement("span",{className:"viewmode-toggle__chosen-view-title"},this.getTitle())),a.default.createElement(r.DropdownMenu,null,this.renderSplitDropdownItem(),this.renderEditDropDownItem(),this.renderPreviewDropDownItem(),!n&&a.default.createElement("div",{className:"disabled-tooltip"},a.default.createElement("span",{className:"disabled-tooltip-span"},i.default._t("Admin.SCREEN_TOO_SMALL","Screen size too small")))))}}t.Component=h,h.propTypes={activeState:s.default.oneOf(Object.values(u.VIEW_MODE_STATES)),area:s.default.string.isRequired,splitAvailable:s.default.bool,onPreviewSelect:s.default.func,onEditSelect:s.default.func,onSplitSelect:s.default.func,editIconClass:s.default.string,previewIconClass:s.default.string,splitIconClass:s.default.string},h.defaultProps={splitAvailable:!0,editIconClass:"font-icon-edit-write",previewIconClass:"font-icon-eye",splitIconClass:"font-icon-columns",dropdownToggleProps:{}};t.default=(0,l.compose)((0,o.connect)(function(e){return{activeState:e.viewMode.activeState,splitAvailable:e.viewMode.splitAvailable}},function(e){return{onSplitSelect(){e((0,d.selectSplitMode)())},onEditSelect(){e((0,d.selectEditMode)())},onPreviewSelect(){e((0,d.selectPreviewMode)())}}}))(h)},36171:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=l(n(5556)),r=l(n(80391)),i=l(n(95815)),o=l(n(61289));function l(e){return e&&e.__esModule?e:{default:e}}t.default=e=>{class t extends a.Component{constructor(e){super(e),this.state={active:r.default.getSection("SilverStripe\\Admin\\SudoModeController").sudoModeActive||!1}}isSudoModeActive(){return!0===this.state.active}render(){return this.isSudoModeActive()?a.default.createElement(e,this.props):a.default.createElement(o.default,{verifyMessage:i.default._t("Admin.VERIFY_ITS_YOU","Verify it's you first."),onSuccess:()=>this.setState({active:!0}),autocomplete:"off"})}}return t.propTypes={LoadingComponent:s.default.oneOfType([s.default.node,s.default.func])},t}},36208:function(e,t,n){"use strict";var a,s=(a=n(74692))&&a.__esModule?a:{default:a};(0,s.default)(window),(0,s.default)("html"),(0,s.default)("head");var r={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(e){if("object"===s.default.type(e))return e;var t=r.urlParseRE.exec(e||"")||[];return{href:t[0]||"",hrefNoHash:t[1]||"",hrefNoSearch:t[2]||"",domain:t[3]||"",protocol:t[4]||"",doubleSlash:t[5]||"",authority:t[6]||"",username:t[8]||"",password:t[9]||"",host:t[10]||"",hostname:t[11]||"",port:t[12]||"",pathname:t[13]||"",directory:t[14]||"",filename:t[15]||"",search:t[16]||"",hash:t[17]||""}},makePathAbsolute:function(e,t){if(e&&"/"===e.charAt(0))return e;e=e||"";for(var n=(t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?t.split("/"):[],a=e.split("/"),s=0;s<a.length;s++){var r=a[s];switch(r){case".":break;case"..":n.length&&n.pop();break;default:n.push(r)}}return"/"+n.join("/")},isSameDomain:function(e,t){return r.parseUrl(e).domain===r.parseUrl(t).domain},isRelativeUrl:function(e){return""===r.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==r.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!r.isRelativeUrl(e))return e;var n=r.parseUrl(e),a=r.parseUrl(t),s=n.protocol||a.protocol,i=n.protocol?n.doubleSlash:n.doubleSlash||a.doubleSlash,o=n.authority||a.authority,l=""!==n.pathname;return s+i+o+r.makePathAbsolute(n.pathname||a.filename,a.pathname)+(n.search||!l&&a.search||"")+n.hash},addSearchParams:function(e,t){var n=r.parseUrl(e),a=(t="string"==typeof t?r.convertSearchToArray(t):t,s.default.extend(r.convertSearchToArray(n.search),t)),i=r.convertObjectToSearch(a);return n.hrefNoSearch+"?"+i+(n.hash||"")},getSearchParams:function(e){var t=r.parseUrl(e);return r.convertSearchToArray(t.search)},convertSearchToArray:function(e){var t,n,a,s={};for(t=(e=e.replace(/^\?/,""))?e.split("&"):[],n=0;n<t.length;n++)a=t[n].split("="),s[decodeURIComponent(a[0])]=decodeURIComponent(a[1]);return s},convertObjectToSearch(e){let t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},convertUrlToDataUrl:function(e){var t=r.parseUrl(e);return r.isEmbeddedPage(t)?t.hash.split(dialogHashKey)[0].replace(/^#/,""):r.isSameDomain(t,document)?t.hrefNoHash.replace(document.domain,""):e},get:function(e){return void 0===e&&(e=location.hash),r.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(e){var t="&"+s.default.mobile.subPageUrlKey;return e&&e.split(t)[0].split(dialogHashKey)[0]},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(document.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},cleanHash:function(e){return r.stripHash(e.replace(/\?.*$/,"").replace(dialogHashKey,""))},isExternal:function(e){var t=r.parseUrl(e);return!(!t.protocol||t.domain===document.domain)},hasProtocol:function(e){return/^(:?\w+:)/.test(e)}};s.default.path=r},36726:function(e,t,n){var a=n(86313),s=n(34160);void 0===s.GridFieldRow&&(s.GridFieldRow=a),e.exports=a},38536:function(e,t,n){var a=n(15042),s=n(34160);void 0===s.getFormState&&(s.getFormState=a),e.exports=a},39054:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=d(n(28557)),r=d(n(96937)),i=d(n(46942)),o=d(n(5556)),l=d(n(325));function d(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(null,arguments)}class c extends a.Component{constructor(e){super(e),this.render=this.render.bind(this),this.onResize=this.onResize.bind(this),this.refreshShowSummaryView=this.refreshShowSummaryView.bind(this),this.getPlaceholderSize=this.getPlaceholderSize.bind(this),this.state={showSummaryView:!1}}componentDidUpdate(){const e=this.getPlaceholderSize();this.refreshShowSummaryView(e)}onResize(e){this.refreshShowSummaryView(e.width)}getPlaceholderSize(){const e=this.nodeRef;if(!e)return 0;const t=e.querySelector(".compact-tag-list__placeholder");return t?t.getBoundingClientRect().width:0}refreshShowSummaryView(e){const t=this.props.maxSize<e;this.state.showSummaryView!==t&&this.setState(()=>({showSummaryView:t}))}render(){const{maxSize:e,onSummary:t,...n}=this.props,o=this.state.showSummaryView,d=this.props.tags.length,c=(0,i.default)("compact-tag-list",{"compact-tag-list__show-summary-view":o});return a.default.createElement("div",{className:c,ref:e=>{this.nodeRef=e}},a.default.createElement(r.default,{onResize:this.onResize,className:"compact-tag-list__placeholder","aria-hidden":!0},a.default.createElement(s.default,u({},n,{focusable:!1}))),a.default.createElement("div",{className:"compact-tag-list__visible"},o?a.default.createElement(l.default,{count:d,onClick:t,onNext:n.onHolderFocus}):a.default.createElement(s.default,n)))}}c.propTypes=Object.assign({},s.default.propTypes,{maxSize:o.default.number,onSummary:o.default.func}),c.defaultProps={maxSize:0,onSummary:()=>{}};t.default=c},39078:function(e,t,n){var a=n(75308),s=n(34160);void 0===s.GridFieldHeaderCell&&(s.GridFieldHeaderCell=a),e.exports=a},39558:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),r=(a=n(53692))&&a.__esModule?a:{default:a};const i=(e,t)=>t;t.default=(e,t,n=i)=>a=>{if(e&&!Array.isArray(e))throw new Error(`\n      withInjector() passed an argument for dependencies that is ${typeof deps}.\n      Must be an array of named dependencies.\n    `);if(t&&"function"!=typeof t)throw new Error("\n      Second parameter of inject() [mapDependenciesToProps] must be a function, taking the resolved\n      dependencies as enumerated arguments, and returning a map of prop names to dependencies.\n    ");if("function"!=typeof n)throw new Error("\n      Third parameter of inject() [getContext] must be a function, taking the component's props\n      and current inject context as parameters, and returning a string representing the Injector\n      context to use throughout the component.\n    ");class i extends s.Component{constructor(e,t){super(e,t),this.state={context:n(e,t.injector.context)}}getChildContext(){return{injector:{...this.context.injector,context:this.state.context}}}static getDerivedStateFromProps(e,t){const a=n(e,t.context);return a!==t.context?{context:a}:null}render(){let n={};if(e){const{get:a}=this.context.injector,s=e.map(e=>a(e,this.state.context));if(t?n=t(...s):e.forEach((e,t)=>{n[e]=s[t]}),!n||"object"!=typeof n)throw new Error("\n            mapDepedenciesToProps parameter passed to inject()\n            should return an object that maps prop names to dependencies\n          ")}const r={...n,...this.props};return s.default.createElement(a,r)}}return i.contextTypes=r.default,i.childContextTypes=r.default,i}},39636:function(e,t,n){var a=n(96865),s=n(34160);void 0===s.FormBuilder&&(s.FormBuilder=a),e.exports=a},39734:function(e,t,n){var a=n(61080),s=n(34160);void 0===s.BackButton&&(s.BackButton=a),e.exports=a},40028:function(e,t,n){"use strict";var a=o(n(74692)),s=o(n(96540)),r=n(5338),i=n(14269);function o(e){return e&&e.__esModule?e:{default:e}}a.default.entwine("ss",e=>{e(".js-injector-boot .SudoModePasswordField:not(:input)").entwine({ReactRoot:null,ForGridField:null,onmatch(){this._super();const e=this.closest(".cms-content").attr("id"),t=e?{context:e}:{},n=(0,i.loadComponent)("SudoModePasswordField",t),a=this.find("input.SudoModePasswordField")[0],o={autocomplete:a.getAttribute("autocomplete"),initiallyCollapsed:a.getAttribute("data-initially-collapsed"),sectionTitle:a.getAttribute("data-section-title")||"",onSuccess:()=>this.reloadSection()};let l=this.getReactRoot();l||(l=(0,r.createRoot)(this[0])),l.render(s.default.createElement(n,o)),this.setReactRoot(l),this.setForGridField(a.hasAttribute("data-for-gridfield"))},onunmatch(){this._super();const e=this.getReactRoot();e&&(e.unmount(),this.setReactRoot(null))},reloadSection(){if(this.getForGridField()){const e=this.closest(".cms-container").find(".ss-gridfield").filter((e,t)=>(0,a.default)(t).find(".SudoModePasswordField").length);e.each((e,t)=>{const n=(0,a.default)(t).find(".gridstate"),s=JSON.parse(n.attr("value"));delete s.Readonly,n.attr("value",JSON.stringify(s))}),e.updateUrlGridState(e=>{e.Readonly&&delete e.Readonly}),e.reload()}else this.closest(".cms-container").reloadCurrentPanel()}})})},41048:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(12973))&&a.__esModule?a:{default:a};const r=(e,t,n)=>{if(!Array.isArray(t)||0===t.length)return!1;const a=n.state.fields.find(({name:t})=>t===e);if(a&&a.source){return t.map(e=>{const t=a.source.find(({value:t})=>t.toString()===e.toString());return t&&t.title?t.title:e}).join(", ")||!1}return!1},i={Date:(0,s.default)("ll"),Time:(0,s.default)("LT"),Datetime:(0,s.default)("lll"),Hidden:()=>!1,SingleSelect:(e,t,n)=>{if(void 0===e.value)return!1;const a=r(e.key,[e.value],n);return!!a&&Object.assign({},e,{value:a})},Boolean:e=>{if(e.value){const{value:t,...n}=e;return n}return!1},MultiSelect:(e,t,n)=>{const a=r(e.key,e.value,n);return!!a&&Object.assign({},e,{value:a})},default:e=>!!e.value&&e};t.default=i},42081:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(5147))&&a.__esModule?a:{default:a};t.default=(e=(0,s.default)())=>({...e,get(t,n,...a){const s=e.get.call(this,t,n,...a);if(s.displayName&&s.displayName.match(/\]$/))return s;const r=s.displayName||s.name||"Component",i=n?`[${n}]`:"";return s.displayName=`${r}${i}`,s},createTransformer(e,t){return(n,a,s)=>{this.customise({name:e,...t,displayName:s},n,a)}},getFactory(t,n){const a=e.getFactory.call(this,t,n),s=n.map(e=>e.displayName||e.name);var r,i;return a.displayName=(r=this.services[t],i=s,[r.displayName||r.name||"Component",...i].reduce((e,t)=>`${t}(${e})`)),a}})},42171:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=l(n(5556)),r=n(58702),i=l(n(46942)),o=l(n(95815));function l(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(null,arguments)}class u extends a.Component{constructor(e){super(e),this.handleToggle=this.handleToggle.bind(this),this.handleSearchValueClear=this.handleSearchValueClear.bind(this),this.handleSearchValueChange=this.handleSearchValueChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.doToggle=this.doToggle.bind(this),this.focusOnTarget=this.focusOnTarget.bind(this),this.state={searchValue:""}}handleToggle(){this.doToggle(!1)}doToggle(e){const{toggle:t}=this.props;t(),this.handleSearchValueClear(),e&&this.focusOnTarget()}focusOnTarget(){const{target:e}=this.props;if(e){const t=r.Util.getTarget(e);t&&t.focus()}}handleSearchValueClear(){this.setState({searchValue:""})}handleSearchValueChange(e){this.setState({searchValue:e.target.value})}handleKeyDown(e){"Escape"===e.key&&this.doToggle(!0)}renderSearchValueClearLink(){const{clearButtonClassName:e}=this.props,{searchValue:t}=this.state;return 0===t.length?null:a.default.createElement("button",{className:(0,i.default)(e),onClick:this.handleSearchValueClear},o.default._t("PopoverOptionSet.CLEAR","Clear"))}renderSearchBox(){const{searchPlaceholder:e,disableSearch:t,searchClassName:n,searchInputClassName:s}=this.props,{searchValue:o}=this.state;return t?null:a.default.createElement(r.InputGroup,{className:(0,i.default)(n)},a.default.createElement(r.Input,{autoFocus:!0,className:(0,i.default)(s),onChange:this.handleSearchValueChange,placeholder:e,type:"text",value:o}),this.renderSearchValueClearLink())}renderOptionButtons(){const{buttons:e,onSearch:t,buttonContainerClassName:n,emptyResultClassName:s,buttonClassName:r,ButtonComponent:l}=this.props,{searchValue:u}=this.state;let c=e;return 0!==u.length&&(c=t(u,c)),0===c.length?a.default.createElement("div",{className:(0,i.default)(n)},a.default.createElement("div",{className:(0,i.default)(s)},o.default._t("PopoverOptionSet.NO_RESULTS","No results found"))):a.default.createElement("div",{className:(0,i.default)(n)},c.map(e=>a.default.createElement(l,d({},e.buttonProps,{className:(0,i.default)(e.className,r),key:e.key,onClick:e.onClick}),e.content)))}render(){const{container:e,className:t,isOpen:n,placement:s,target:r,PopoverComponent:o}=this.props;return a.default.createElement(o,{className:(0,i.default)(t),container:e,hideArrow:!0,isOpen:n,onKeyDown:this.handleKeyDown,placement:s,target:r,toggle:this.handleToggle,trigger:"legacy"},this.renderSearchBox(),this.renderOptionButtons())}}u.propTypes={buttons:s.default.arrayOf(s.default.shape({key:s.default.string.isRequired,content:s.default.node.isRequired,onClick:s.default.func.isRequired,className:s.default.oneOfType([s.default.string,s.default.object,s.default.arrayOf(s.default.string)]),buttonProps:s.default.object})).isRequired,onSearch:s.default.func,container:s.default.oneOfType([s.default.string,s.default.elementType]),isOpen:s.default.bool.isRequired,placement:s.default.string,target:s.default.oneOfType([s.default.string,s.default.elementType]).isRequired,toggle:s.default.func.isRequired,searchPlaceholder:s.default.string,disableSearch:s.default.bool,ButtonComponent:s.default.oneOfType([s.default.object,s.default.func]),PopoverComponent:s.default.oneOfType([s.default.object,s.default.func]),className:s.default.oneOfType([s.default.string,s.default.array,s.default.object]),searchClassName:s.default.oneOfType([s.default.string,s.default.array,s.default.object]),searchInputClassName:s.default.oneOfType([s.default.string,s.default.array,s.default.object]),clearButtonClassName:s.default.oneOfType([s.default.string,s.default.array,s.default.object]),buttonContainerClassName:s.default.oneOfType([s.default.string,s.default.array,s.default.object]),emptyResultClassName:s.default.oneOfType([s.default.string,s.default.array,s.default.object]),buttonClassName:s.default.oneOfType([s.default.string,s.default.array,s.default.object])},u.defaultProps={searchPlaceholder:o.default._t("PopoverOptionSet.SEARCH_PLACEHOLDER","Search"),onSearch:(e,t)=>t.filter(({content:t})=>t.toLowerCase().includes(e.toLowerCase())),disableSearch:!1,ButtonComponent:r.Button,PopoverComponent:r.Popover,className:"popover-option-set",searchClassName:"popover-option-set__search",searchInputClassName:"popover-option-set__search-input",clearButtonClassName:"popover-option-set__search-clear btn btn-link",buttonContainerClassName:"popover-option-set__button-container",emptyResultClassName:"popover-option-set__no-results",buttonClassName:"popover-option-set__button"};t.default=u},42496:function(e,t,n){"use strict";var a,s=(a=n(74692))&&a.__esModule?a:{default:a};n(62727),n(66530),n(38344),s.default.entwine("ss",function(e){e(".ss-tabset, .cms-tabset").entwine({DeferRestoreState:!1,DefferredStateOverride:null,onmatch:function(){var e=window.location.hash;""!==e&&this.openTabFromURL(e),this._super()},onadd:function(){this.on("tabsactivate",function(e,{newPanel:t}){this.lazyLoadGridFields(t),this.triggerLazyLoad(t)}.bind(this)),this.on("tabscreate",function(e,{panel:t}){this.lazyLoadGridFields(t),this.triggerLazyLoad(t)}.bind(this)),this._super()},restoreState:function(t){const n=void 0!==window.sessionStorage&&window.sessionStorage?window.sessionStorage.getItem("tabs-"+window.ss.tabStateUrl()):null,a=!!n&&JSON.parse(n);let s,r;const i=this.attr("id"),o=this.children("ul").children("li.ss-tabs-force-active");if(!this.data("uiTabs"))return this.setDeferRestoreState(!0),void this.setDefferredStateOverride(t);this.tabs("refresh"),o.length?s=o.first().index():t?(r=this.find(t.tabSelector),r.length&&(s=r.index())):a&&e.each(a,function(e,t){i==t.id&&(s=t.selected)}),null!=s&&(this.tabs("option","active",s),this.parents(".cms-container").trigger("tabstaterestored"))},triggerLazyLoad:function(t,n=".lazy-loadable"){t.find(n).each((t,n)=>{var a=e(n),s=n.dataset.lazyEvent||"lazyload";a.closest(".ss-tabset, .cms-tabset").is(this)&&n.dispatchEvent(new Event(s))})},lazyLoadGridFields:function(t){t.find(".grid-field--lazy-loadable").each((t,n)=>{e(n).closest(".ss-tabset, .cms-tabset").is(this)&&e(n).lazyload()})},openTabFromURL:function(t){var n;e.each(this.find(".ui-tabs-anchor"),function(){if(-1!==this.href.indexOf(t)&&1===e(t).length)return n=e(this),!1}),void 0!==n&&e(()=>{n.click()})},redrawTabs:function(){this._super(),this.getDeferRestoreState()&&(this.restoreState(this.getDefferredStateOverride()),this.setDeferRestoreState(!1),this.setDefferredStateOverride(null))}}),e(".ss-tabset").entwine({IgnoreTabState:!1,onadd:function(){this.redrawTabs(),this._super()},onremove:function(){this.data("uiTabs")&&this.tabs("destroy"),this._super()},redrawTabs:function(){e(this).hasClass("ss-tabset")?(this.rewriteHashlinks(),this.tabs()):this._super()},rewriteHashlinks:function(){e(this).find("ul a").each(function(){if(e(this).attr("href")){var t=e(this).attr("href").match(/#.*/);t&&e(this).attr("href",document.location.href.replace(/#.*/,"")+t[0])}})}}),e(".ui-tabs-active .ui-tabs-anchor").entwine({onmatch:function(){this.addClass("nav-link active")},onunmatch:function(){this.removeClass("active")}})})},44072:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEW_MODE_STATES=void 0;t.VIEW_MODE_STATES={EDIT:"edit",PREVIEW:"preview",SPLIT:"split"}},45193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=d(n(23977)),s=d(n(95093)),r=d(n(48779)),i=d(n(95815)),o=d(n(5556)),l=n(2481);function d(e){return e&&e.__esModule?e:{default:e}}class u extends l.Component{render(){return super.render()}moment(...e){return s.default.locale(this.getLang()),(0,s.default)(...e)}getLang(){return(this.asHTML5()?this.props.isoLang:this.props.lang)||(0,s.default)().locale()}asHTML5(){return this.props.data.html5&&this.hasNativeSupport()}hasNativeSupport(){return this.props.modernizr.inputtypes.date}getInputProps(){const e=i.default.inject(i.default._t("Admin.FormatExample","Example: {format}"),{format:this.moment().endOf("month").format("L")}),t=this.asHTML5()?this.props.value:this.getLocalisedValue(),n=this.asHTML5()?"date":"text";return{...super.getInputProps(),type:n,value:t,placeholder:e}}getLocalisedValue(){return this.convertToLocalised(this.props.value)}isMultiline(){return!1}handleChange(e){const t=e.target.value;let n="";n=this.asHTML5()?t:this.convertToIso(t),"function"==typeof this.props.onChange&&this.triggerChange(e,n)}triggerChange(e,t){this.props.onChange(e,{id:this.props.id,value:t})}convertToIso(e){let t="";if(e){const n=this.moment(e,["L","YYYY-MM-DD"]);n.isValid()&&(t=n.format("YYYY-MM-DD"))}return t}convertToLocalised(e){let t="";if(e){const n=this.moment(e);n.isValid()&&(t=n.format("L"))}return t}}t.Component=u,u.propTypes={lang:o.default.string,isoLang:o.default.string,modernizr:o.default.object,data:o.default.shape({html5:o.default.bool})},u.defaultProps={modernizr:r.default,data:{}};t.default=(0,a.default)(u)},46172:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPLITMODE_BREAKPOINT=void 0;t.SPLITMODE_BREAKPOINT=800},46333:function(e,t,n){"use strict";var a,s=(a=n(74692))&&a.__esModule?a:{default:a},r=n(13547);s.default.entwine("ss",function(e){e(".cms-panel.cms-menu").entwine({siteTreePresent:function(){return e("#cms-content-tools-CMSMain").length>0},getPersistedStickyState:function(){var t,n;return void 0!==e.cookie&&null!=(n=e.cookie("cms-menu-sticky"))&&(t="true"===n),t},setPersistedStickyState:function(t){void 0!==e.cookie&&e.cookie("cms-menu-sticky",t,{path:"/",expires:31})},getEvaluatedCollapsedState:function(){var t=this.getPersistedCollapsedState(),n=e(".cms-menu").getPersistedStickyState(),a=this.siteTreePresent();return void 0===t?a:t!==a&&n?t:a},onadd:function(){var t=this;setTimeout(function(){t.togglePanel(!t.getEvaluatedCollapsedState(),!1,!1)},0),e(window).on("ajaxComplete",function(e){setTimeout(function(){t.togglePanel(!t.getEvaluatedCollapsedState(),!1,!1)},0)}),this._super()}}),e(".cms-menu__list").entwine({onmatch:function(){this.find("li.current").select(),this.updateItems(),this._super()},onunmatch:function(){this._super()},updateMenuFromResponse:function(e){var t=e.getResponseHeader("X-Controller");if(t){var n=this.find("li#Menu-"+t.replace(/\\/g,"-").replace(/[^a-zA-Z0-9\-_:.]+/,""));n.hasClass("current")||n.select()}this.updateItems()},"from .cms-container":{onafterstatechange:function(e,t){this.updateMenuFromResponse(t.xhr)},onaftersubmitform:function(e,t){this.updateMenuFromResponse(t.xhr)}},"from .cms-edit-form":{onrelodeditform:function(e,t){this.updateMenuFromResponse(t.xmlhttp)}},getContainingPanel:function(){return this.closest(".cms-panel")},fromContainingPanel:{ontoggle:function(t){this.toggleClass("collapsed",e(t.target).hasClass("collapsed")),e(".cms-container").trigger("windowresize")}},updateItems:function(){var t=this.find("#Menu-CMSMain");t[t.is(".current")?"show":"hide"]();var n=e(".cms-content input[name=ID]").val();n&&this.find("li").each(function(){"function"==typeof e(this).setRecordID&&e(this).setRecordID(n)})}}),e(".cms-menu__list *").entwine({getMenu:function(){return this.parents(".cms-menu__list:first")}}),e(".cms-menu__list li *").entwine({getMenuItem:function(){return this.parents("li:first")}}),e(".cms-menu__list li a").entwine({onclick:function(t){var n=e.path.isExternal(this.attr("href"));if(!(t.which>1||n)&&"_blank"!=this.attr("target")){t.preventDefault();var a=this.getMenuItem(),s=this.attr("href");n||(s=(0,r.joinUrlPaths)(e("base").attr("href"),s)),document.location.href=s,a.select()}}}),e(".cms .profile-link").entwine({onclick:function(){return e(".cms-container").loadPanel(this.attr("href")),e(".cms-menu__list li").removeClass("current").close(),!1}}),e(".cms-menu .sticky-toggle__button").entwine({onadd:function(){var t=!!e(".cms-menu").getPersistedStickyState();this.toggleCSS(t),this.toggleIndicator(t),this._super()},toggleCSS:function(e){this[e?"addClass":"removeClass"]("active")},toggleIndicator:function(e){this.next(".sticky-toggle__status").text(e?"fixed":"auto")},onclick:function(){var e=this.closest(".cms-menu"),t=e.getPersistedCollapsedState(),n=e.getPersistedStickyState(),a=void 0===n?!this.hasClass("active"):!n;void 0===t?e.setPersistedCollapsedState(e.hasClass("collapsed")):void 0!==t&&!1===a&&e.clearPersistedCollapsedState(),e.setPersistedStickyState(a),this.toggleCSS(a),this.toggleIndicator(a),this._super()}}),e(".cms-help__menu").entwine({onclick:function(){var t="true"===this.attr("aria-expanded");this.attr("aria-expanded",!t),e(".cms-help__toggle").toggleClass("cms-help__toggle--show")}})})},46353:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n=new class{constructor(){this.defaultLocale="en_US",this.currentLocale=null,this.autoDetectLocale=!0,this.lang={}}setLocale(e){this.currentLocale=e,this.autoDetectLocale=!1}getLocale(){return null!==this.currentLocale?this.currentLocale:this.defaultLocale}_t(e,t,n,a){const s=t||"";if(!this.lang)return s;const r=this.getLocale(),i=[r,r.replace(/_[\w]+/i,""),this.defaultLocale,this.defaultLocale.replace(/_[\w]+/i,"")];for(let t=0;t<i.length;t++){const n=i[t];if(this.lang[n]&&this.lang[n][e])return this.lang[n][e]}return s}addDictionary(e,t){void 0===this.lang[e]&&(this.lang[e]={});for(let n in t)this.lang[e][n]=t[n];this.autoDetectLocale&&(this.currentLocale=this.detectLocale())}getDictionary(e){return this.lang[e]}stripStr(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}stripStrML(e){const t=e.split("\n");for(let e=0;e<t.length;e+=1)t[e]=stripStr(t[e]);return stripStr(t.join(" "))}sprintf(e,...t){if(0===t.length)return e;const n=new RegExp("(.?)(%s)","g");let a=0;return e.replace(n,function(e,n,s,r,i){return"%"===n?e:n+t[a++]})}inject(e,t){const n=new RegExp("{([A-Za-z0-9_]*)}","g");return e.replace(n,function(e,n,a,s){return t[n]?t[n]:e})}detectLocale(){let e=document.documentElement.getAttribute("lang");if(e||(e=document.body.getAttribute("lang")),!e){const t=document.getElementsByTagName("meta");for(let n=0;n<t.length;n++)t[n].attributes["http-equiv"]&&"content-language"===t[n].attributes["http-equiv"].nodeValue.toLowerCase()&&(e=t[n].attributes.content.nodeValue)}if(e||(e=this.defaultLocale),2===e.length)for(let t in this.lang)if(t.substr(0,2).toLowerCase()===e.toLowerCase())return t;const t=e.match(/([^-|_]*)[-|_](.*)/);return t?t[1].toLowerCase()+"_"+t[2].toUpperCase():null}addEvent(e,t,n,a){return e.addEventListener?(e.addEventListener(t,n,a),!0):e.attachEvent?e.attachEvent("on"+t,n):void console.log("Handler could not be attached")}};window.ss=void 0!==window.ss?window.ss:{},window.ss.i18n=window.i18n=n;t.default=n},46381:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(96540)),s=l(n(95815)),r=l(n(46942)),i=l(n(21077)),o=l(n(5556));function l(e){return e&&e.__esModule?e:{default:e}}const d=({itemName:e,name:t,value:n})=>a.default.createElement("div",{className:(0,r.default)(e,"not-found-component")},a.default.createElement(i.default,{value:s.default.inject(s.default._t("Admin.NOT_FOUND_COMPONENT","The component here ({component}) failed to load, there is a chance that you may lose data when saving due to this."),{component:e})}),t&&"string"==typeof n?a.default.createElement("input",{type:"hidden",name:t,value:n}):null);d.propTypes={itemName:o.default.string.isRequired,name:o.default.string,value:o.default.any};t.default=d},47193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSelectedValues=function(e,t){return{type:s.default.TREEFIELD_ADD_SELECTED_VALUES,payload:{fieldId:e,values:t}}},t.beginTreeUpdating=function(e,t){return{type:s.default.TREEFIELD_UPDATING_TREE,payload:{fieldId:e,path:t}}},t.setSearch=function(e,t){return{type:s.default.TREEFIELD_SET_SEARCH,payload:{fieldId:e,search:t}}},t.setVisible=function(e,t){return{type:s.default.TREEFIELD_SET_VISIBLE,payload:{fieldId:e,path:t}}},t.updateTree=function(e,t,n){return{type:s.default.TREEFIELD_UPDATED_TREE,payload:{fieldId:e,path:t,tree:n}}},t.updateTreeFailed=function(e,t){return{type:s.default.TREEFIELD_UPDATE_FAILED,payload:{fieldId:e,path:t}}};var a,s=(a=n(82126))&&a.__esModule?a:{default:a}},47546:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),r=(a=n(5556))&&a.__esModule?a:{default:a};class i extends s.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){this.props.onClick&&this.props.onClick(e,this.props.onClickArg)}render(){const e=`list-group-item ${this.props.className}`;return s.default.createElement("a",{role:"button",tabIndex:0,className:e,onClick:this.handleClick},this.props.children)}}i.propTypes={onClickArg:r.default.any,onClick:r.default.func};t.default=i},47549:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),r=(a=n(5556))&&a.__esModule?a:{default:a};class i extends s.Component{constructor(e){super(e),this.wasClicked=!1,this.handleElementClick=this.handleElementClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this)}componentDidMount(){this.container.addEventListener("click",this.handleElementClick),document.addEventListener("click",this.handleDocumentClick)}componentWillUnmount(){this.container.removeEventListener("click",this.handleElementClick),document.removeEventListener("click",this.handleDocumentClick)}handleElementClick(){this.wasClicked=!0}handleDocumentClick(e){this.wasClicked||this.props.onClickOut(e),this.wasClicked=!1}render(){return s.default.createElement("div",{className:this.props.className,ref:e=>{this.container=e}},this.props.children)}}i.propTypes={children:r.default.any,className:r.default.string,onClickOut:r.default.func.isRequired},i.defaultProps={className:""};t.default=i},47646:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82229)),s=r(n(61481));function r(e){return e&&e.__esModule?e:{default:e}}const i={};t.default=function(e=i,t){switch(t.type){case s.default.FETCH_RECORDS_SUCCESS:{const n=t.payload.recordType;if(!n)throw new Error("Undefined record type");const s=t.payload.data._embedded[n]||[];return(0,a.default)({...e,[n]:s})}case s.default.FETCH_RECORD_SUCCESS:{const n=t.payload.recordType,s=t.payload.data;if(!n)throw new Error("Undefined record type");if(!s)throw new Error("Undefined record data given");const r=e[n]||[];return r.find(e=>e.ID===s.ID)?(0,a.default)({...e,[n]:r.map(e=>e.ID===s.ID?s:e)}):(0,a.default)({...e,[n]:[...r,s]})}case s.default.DELETE_RECORD_SUCCESS:{const n=t.payload.recordType;if(!n)throw new Error("Undefined record type");const s=e[n].filter(e=>e.ID!==t.payload.id);return(0,a.default)({...e,[n]:s})}default:return e}}},47735:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=d(n(96540)),s=n(58702),r=l(n(5556)),i=d(n(27807)),o=l(n(46942));function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return(d=function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i})(e,t)}function u({name:e,className:t,extraClass:n,disabled:r,children:l}){const{activeTab:d,isOnActiveTab:u}=(0,i.default)(),c=e,f=(0,a.useMemo)(()=>({activeTab:d,currentTab:c,isOnActiveTab:!1!==u&&d===e}),[d,c,u]);return a.default.createElement(i.TabContext.Provider,{value:f},a.default.createElement(s.TabPane,{tabId:e,className:(0,o.default)(t,n),disabled:r},a.default.createElement(s.Fade,{in:u},l)))}u.propTypes={name:r.default.string.isRequired,extraClass:r.default.string,className:r.default.string,disabled:r.default.bool};t.default=u},47928:function(e,t,n){var a=n(23977),s=n(34160);void 0===s.FieldHolder&&(s.FieldHolder=a),e.exports=a},48449:function(e,t,n){"use strict";var a=o(n(74692)),s=o(n(95815)),r=o(n(95093)),i=o(n(48779));function o(e){return e&&e.__esModule?e:{default:e}}a.default.entwine("ss",e=>{e("input[type=date]").entwine({onadd(){if(i.default.inputtypes.date)return;if(this.prop("disabled")||this.prop("readonly")||this.hasClass("hasDatepicker"))return;const t=e("<input/>",{type:"hidden",name:this.attr("name"),value:this.val()});this.parent().append(t),this.removeAttr("name"),r.default.locale(this.attr("lang"));const n=this.val();let a="";if(n){const e=(0,r.default)(n);e.isValid()&&(a=e.format("L"))}this.val(a);const o=s.default.inject(s.default._t("Admin.FormatExample","Example: {format}"),{format:(0,r.default)().endOf("month").format("L")});this.attr("placeholder",o),this.updateValue()},onchange(){this.updateValue()},updateValue(){const e=this.val();let t="";if(e)for(const n of["L","YYYY-MM-DD"]){const a=(0,r.default)(e,n);if(a.isValid()){t=a.format("YYYY-MM-DD");break}}this.parent().find("input[type=hidden]").val(t)}})})},48486:function(e,t,n){var a=n(74),s=n(34160);void 0===s.CircularLoading&&(s.CircularLoading=a),e.exports=a},48749:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=d(n(5556)),r=d(n(46942)),i=d(n(95815)),o=d(n(86713)),l=d(n(85068));function d(e){return e&&e.__esModule?e:{default:e}}class u extends a.PureComponent{renderHeader(){return a.default.createElement("thead",null,a.default.createElement("tr",null,a.default.createElement("th",{scope:"col",className:"used-on__col--index"},i.default._t("Admin.USED_ON_NUM","#")),a.default.createElement("th",{scope:"col",className:"used-on__col--title"},i.default._t("Admin.USED_ON","Used on"))))}renderBody(){const{usedOn:e,loading:t,error:n}=this.props;if(n||!e||!e.length){let e=null,s=null;n?(e=i.default.inject(i.default._t("Admin.LOADING_ERROR","As error occured when loading the data: {message}"),{message:n}),s="error"):t?(e=a.default.createElement(o.default,null),s="loading"):(e=i.default._t("Admin.NOT_USED","This file is currently not in use."),s="empty");const l=(0,r.default)(["used-on__message",`used-on__message--${s}`]);return a.default.createElement("tbody",{"aria-live":"polite"},a.default.createElement("tr",null,a.default.createElement("td",{className:l,colSpan:"3"},e)))}return a.default.createElement("tbody",{"aria-live":"polite"},e.map(this.renderRow))}renderRow(e,t){const{id:n,type:s}=e,i=e.ancestors?[e].concat(e.ancestors).reverse():[e].reverse();let o="#",l=!0;const d=i.map((e,s)=>{let i=e.title;const d=e.link;i&&i.length>=25&&(i=`${i.substring(0,25).trim()}...`),d&&(o=d);const u=`${t}-${n}-${s}`,c=["used-on__title-item"];return l&&(c.push("used-on__title-item--first"),l=!1),a.default.createElement("li",{className:(0,r.default)(c),key:u},i)}),u=`${t}-${n}`;return a.default.createElement("tr",{key:u,className:"used-on__row"},a.default.createElement("td",{className:"used-on__col--index"},a.default.createElement("a",{href:o,className:"used-on__cell-link"},t+1)),a.default.createElement("td",{className:"used-on__col--title"},a.default.createElement("a",{href:o,className:"used-on__cell-link"},a.default.createElement("ul",{className:"used-on__title-items"},d),a.default.createElement("span",{className:"used-on__type"},s))))}render(){return a.default.createElement("table",{className:"table used-on__table"},this.renderHeader(),this.renderBody())}}t.Component=u,u.propTypes={loading:s.default.bool,usedOn:s.default.arrayOf(s.default.shape({id:s.default.oneOfType([s.default.string,s.default.number]),title:s.default.string,type:s.default.string,link:s.default.string,ancestors:s.default.arrayOf(s.default.shape({title:s.default.string,link:s.default.string})).isRequired})),error:s.default.string};t.default=(0,l.default)(u)},49023:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={DISPLAY:"DISPLAY_TOAST",DISMISS:"DISMISS_TOAST",REMOVE:"REMOVE_TOAST",PAUSE:"PAUSE_TOAST",RESUME:"RESUME_TOAST"}},49153:function(e,t,n){var a=n(31229),s=n(34160);void 0===s.Paginator&&(s.Paginator=a),e.exports=a},49492:function(e,t,n){"use strict";var a;((a=n(74692))&&a.__esModule?a:{default:a}).default.entwine("ss",function(e){e(".cms-description-toggle").entwine({onadd:function(){var e=!1,t=this.prop("id").substr(0,this.prop("id").indexOf("_Holder")),n=this.find(".cms-description-trigger"),a=this.find(".description");this.hasClass("description-toggle-enabled")||(0===n.length&&(n=this.find(".middleColumn").first().after('<label class="form-label end" for="'+t+'"><a class="cms-description-trigger" href="javascript:void(0)"><span class="btn-icon-information"></span></a></label>').next()),this.addClass("description-toggle-enabled"),n.on("click",function(){a[e?"hide":"show"](),e=!e}),a.hide())}})})},50010:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VALIDATION_MIDDLEWARE_SERVICE=t.SCHEMA_MIDDLEWARE_SERVICE=void 0;var a=i(n(5147)),s=i(n(85841)),r=i(n(10135));function i(e){return e&&e.__esModule?e:{default:e}}const o=t.SCHEMA_MIDDLEWARE_SERVICE="FormSchemaMiddleware",l=t.VALIDATION_MIDDLEWARE_SERVICE="FormValidationMiddleware";t.default=(e=(0,a.default)())=>({...e,services:{[o]:e=>e,[l]:(e,t={})=>t},register(){throw new Error(`\n      Attempted to register a service on Injector.form. This container accepts only two\n      services by design (${o} and ${l}) \n      for updating form schema and adding validation, respectively. Consider using a more\n      generic container, e.g. Injector.reducer.\n    `)},registerMany(){this.register()},getSchema(t,...n){return e.get.call(this,o,t,...n)},getValidation(t,...n){return e.get.call(this,l,t,...n)},createTransformer(t,n){const a=a=>(s,r)=>e.customise.call(this,{name:t,...n},`${a}.${s}`,r);return{alterSchema:a(o),addValidation:a(l)}},getFactory(e,t){const n=t.map(e=>e.factory);if(e===o)return this.getSchemaReducer(n);if(e===l)return this.getValidationReducer(n);throw new Error(`Invalid service for form injector: ${e}`)},getSchemaReducer(e){return(t,n)=>e.reduce((e,t)=>{const a=t(new s.default(e,n));return{...e,...a}},t)},getValidationReducer(e){return(t,n)=>{const a=new r.default(t);return e.forEach(e=>e(t,a,n)),a.getState()}}})},50121:function(e,t,n){var a=n(1541),s=n(34160);void 0===s.Badge&&(s.Badge=a),e.exports=a},50237:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=i(n(96540)),s=i(n(23977)),r=i(n(81173));function i(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(null,arguments)}const l=e=>a.default.createElement(r.default,o({},e,{type:"checkbox"}));t.Component=l;t.default=e=>{const t=(0,s.default)(l);return a.default.createElement(t,o({},e,{hideLabels:!0}))}},50693:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=g(n(8539)),s=g(n(32613)),r=g(n(46942)),i=g(n(80391)),o=g(n(76459)),l=g(n(28181)),d=g(n(95815)),u=g(n(23977)),c=g(n(5556)),f=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),p=g(n(46005)),h=g(n(88835)),m=g(n(82734));function g(e){return e&&e.__esModule?e:{default:e}}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_.apply(null,arguments)}const v=({clearable:e,disabled:t,lazyLoad:n,multi:a,passRef:u,placeholder:c,options:p,optionUrl:g,onChange:v,searchable:b,value:y,SelectComponent:w,AsyncSelectComponent:C,...E})=>{const[O,S]=(0,f.useState)(!1),[T,M]=(0,f.useState)(!1),[P,D]=(0,f.useState)({}),j=(0,f.createRef)();(0,f.useEffect)(()=>{if(!T)return;const e=j.current.inputRef,t=new Event("change",{bubbles:!0});e.dispatchEvent(t),M(!1)});const R=(0,o.default)(e=>e?(e=>{if(P.hasOwnProperty(e))return Promise.resolve(P[e]);const t=h.default.parse(g,!0);t.search&&delete t.search,t.query.term=e;const n=h.default.format(t),a={};return a[m.default.CSRF_HEADER]=i.default.get("SecurityID"),s.default.get(n,a).then(e=>e.json()).then(t=>(P[e]=t,D(P),t))})(e):Promise.resolve([]),500),k=(0,r.default)({"no-change-track":!O,"ss-searchable-dropdown-field--lazy-load":n}),x=n?{loadOptions:R}:{options:p},I=u?{ref:j}:{};let A=y;if(!a&&A){const e=Object.keys(A);if(e.length>0){const t=A[e[0]];"object"==typeof t&&(A=t)}}const N=`${E.id}__input`,F=n?C:w;return f.default.createElement(l.default,null,f.default.createElement(F,_({},E,{classNamePrefix:"ss-searchable-dropdown-field",className:k,isClearable:e,isDisabled:t,isMulti:a,isSearchable:b,placeholder:c,onChange:e=>{S(!1),JSON.stringify(y)!==JSON.stringify(e)&&(S(!0),M(!0)),v(e)},onBlur:()=>{}},x,{noOptionsMessage:e=>e?d.default._t("Admin.NO_MATCHING_OPTIONS","No matching options"):d.default._t("Admin.TYPE_TO_SEARCH","Type to search")},I,{value:A,inputId:N})))};t.Component=v,v.propTypes={clearable:c.default.bool.isRequired,disabled:c.default.bool.isRequired,lazyLoad:c.default.bool.isRequired,multi:c.default.bool.isRequired,name:c.default.string.isRequired,placeholder:c.default.string.isRequired,onChange:c.default.func,options:c.default.arrayOf(c.default.object),optionUrl:c.default.string,passRef:c.default.bool.isRequired,searchable:c.default.bool.isRequired,value:c.default.any,SelectComponent:c.default.oneOfType([c.default.object,c.default.func]).isRequired,AsyncSelectComponent:c.default.oneOfType([c.default.object,c.default.func]).isRequired},v.defaultProps={disabled:!1,lazyLoad:!1,clearable:!0,searchable:!0,multi:!1,passRef:!0,placeholder:"",onChange:()=>{},value:"",SelectComponent:p.default,AsyncSelectComponent:a.default};t.default=(0,u.default)(v)},51266:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(95815))&&a.__esModule?a:{default:a};t.default=async e=>{let t=null;try{t=(await e.response.json()).errors[0].value}catch(e){}return t||(t=s.default._t("Admin.UNKNOWN_ERROR","An unknown error has occurred.")),t}},52358:function(e,t,n){"use strict";var a;((a=n(74692))&&a.__esModule?a:{default:a}).default.entwine("ss",function(e){e.entwine.warningLevel=e.entwine.WARN_LEVEL_BESTPRACTISE,e(".cms-panel").entwine({WidthExpanded:null,WidthCollapsed:null,canSetCookie:function(){return void 0!==e.cookie&&void 0!==this.attr("id")},getPersistedCollapsedState:function(){var t,n;return this.canSetCookie()&&null!=(n=e.cookie("cms-panel-collapsed-"+this.attr("id")))&&(t="true"===n),t},setPersistedCollapsedState:function(t){this.canSetCookie()&&e.cookie("cms-panel-collapsed-"+this.attr("id"),t,{path:"/",expires:31})},clearPersistedCollapsedState:function(){this.canSetCookie()&&e.cookie("cms-panel-collapsed-"+this.attr("id"),"",{path:"/",expires:-1})},getInitialCollapsedState:function(){var e=this.getPersistedCollapsedState();return void 0===e&&(e=this.hasClass("collapsed")),e},onadd:function(){if(!this.find(".cms-panel-content").length)throw new Exception('Content panel for ".cms-panel" not found');if(!this.find(".cms-panel-toggle").length){const t=i18n._t("Admin.COLLAPSEPANEL","Collapse Panel"),n=i18n._t("Admin.EXPANDPANEL","Expand Panel"),a="&laquo;",s=e(`<div class='toolbar toolbar--south cms-panel-toggle'>\n          <button\n            class="cms-panel-toggle__button"\n            title="${t}"\n            data-bs-toggle="tooltip"\n            aria-expanded="true"\n            aria-controls="cms-menu"\n            data-expanded-label="${a}"\n            data-expanded-title="${t}"\n            data-collapsed-label="${"&raquo;"}"\n            data-collapsed-title="${n}"\n          >${a}</button>\n        </div>`);this.append(s)}this.setWidthExpanded(this.find(".cms-panel-content").innerWidth());const t=this.find(".cms-panel-content-collapsed");this.setWidthCollapsed(t.length?t.innerWidth():this.find(".cms-panel-toggle__button").innerWidth()),this.togglePanel(!this.getInitialCollapsedState(),!0,!1),this._super()},togglePanel:function(e,t,n){var a;t||(this.trigger("beforetoggle.sspanel",e),this.trigger(e?"beforeexpand":"beforecollapse")),this.toggleClass("collapsed",!e),a=e?this.getWidthExpanded():this.getWidthCollapsed(),this.width(a),this.find(".cms-panel-content-collapsed").length&&(this.find(".cms-panel-content")[e?"show":"hide"](),this.find(".cms-panel-content-collapsed")[e?"hide":"show"]()),!1!==n&&this.setPersistedCollapsedState(!e),this.trigger("toggle",e),this.trigger(e?"expand":"collapse");const s=this.find(".cms-panel-toggle__button");if(e){const e=s.attr("data-expanded-title");s.attr("aria-expanded","true"),s.attr("aria-label",e),s.attr("title",e),s.html(s.attr("data-expanded-label"))}else{const e=s.attr("data-collapsed-title");s.attr("aria-expanded","false"),s.attr("aria-label",e),s.attr("title",e),s.html(s.attr("data-collapsed-label"))}},expandPanel:function(e){(e||this.hasClass("collapsed"))&&this.togglePanel(!0)},collapsePanel:function(e){!e&&this.hasClass("collapsed")||this.togglePanel(!1)}}),e(".cms-panel *").entwine({getPanel:function(){return this.parents(".cms-panel:first")}}),e(".cms-panel .cms-panel-toggle__button").entwine({onclick:function(e){e.preventDefault(),e.stopPropagation();const t="false"===this.attr("aria-expanded");this.closest(".cms-panel").togglePanel(t),this._super(e)}}),e(".cms-content-tools.collapsed").entwine({onclick:function(e){this.expandPanel(),this._super(e)}})})},52415:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),r=(a=n(53692))&&a.__esModule?a:{default:a};t.default=e=>t=>{class n extends s.Component{getChildContext(){return{injector:{...this.context.injector,context:e}}}render(){return s.default.createElement(t,this.props)}}return n.contextTypes=r.default,n.childContextTypes=r.default,n}},53692:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(5556))&&a.__esModule?a:{default:a};t.default={injector:s.default.shape({get:s.default.func,context:s.default.string,validate:s.default.func})}},53896:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(49023))&&a.__esModule?a:{default:a},r=n(34526);const i={paused:!1,toasts:[]},o=({stay:e,dismissCallback:t})=>e?void 0:setTimeout(t,r.STAY_TIME),l=(e,t)=>({...e,toasts:t});t.default=function(e=i,{type:t,payload:n}){switch(t){case s.default.DISPLAY:return((e,t)=>l(e,[...e.toasts,{...t,timeout:e.paused?void 0:o(t),dismissed:!1}]))(e,n);case s.default.DISMISS:return((e,t)=>l(e,e.toasts.map(e=>e.id===t?{...e,dismissed:!0}:e)))(e,n.id);case s.default.REMOVE:return((e,t)=>l(e,e.toasts.filter(e=>e.id!==t)))(e,n.id);case s.default.PAUSE:return(e=>({paused:!0,toasts:e.toasts.map(({timeout:e,...t})=>(e&&clearTimeout(e),t))}))(e);case s.default.RESUME:return(e=>({paused:!1,toasts:e.toasts.map(e=>({timeout:o(e),...e}))}))(e);default:return e}}},54475:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=h,t.default=void 0;var a=p(n(96540)),s=n(58702),r=f(n(46942)),i=f(n(5556)),o=n(73729),l=p(n(25827)),d=p(n(27807)),u=f(n(63855)),c=f(n(29909));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return(p=function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i})(e,t)}function h({hideNav:e,children:t,activeTab:n,className:i,extraClass:o,id:l,activateTab:f,defaultActiveKey:p}){const h={className:(0,r.default)([i,o]),id:l},m=n||(0,c.default)(p,t),g=(0,d.default)(),_=g?g.isOnActiveTab:void 0,v=(0,a.useMemo)(()=>({activeTab:m,isOnActiveTab:_}),[n,_]);return a.default.createElement("div",h,a.default.createElement("div",{className:"wrapper"},!e&&a.default.createElement(u.default,{currentTab:m,onToggle:f},t),a.default.createElement(s.TabContent,{activeTab:m},a.default.createElement(d.TabContext.Provider,{value:v},t))))}h.propTypes={id:i.default.string.isRequired,defaultActiveKey:i.default.string,extraClass:i.default.string,hideNav:i.default.bool,activateTab:i.default.func,activeTab:i.default.string},h.defaultProps={className:"",extraClass:"",hideNav:!1};const m=e=>`${e.formid}__${e.id}`;t.default=(0,o.connect)(function(e,t){const n=m(t);return{...e.tabs.fields[n]?e.tabs.fields[n]:{activeTab:null}}},function(e,t){const n=m(t);return{activateTab(t){e(l.activateTab(n,t))}}})(h)},54583:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findTreePath=t.findTreeByPath=t.findTreeByID=void 0;const n=(e,t)=>{if(!e||0===Object.keys(e).length)return null;if(0===t.length)return e;const a=t.slice(0),s=a.shift(),r=e.children.find(e=>e.id===s);return r?n(r,a):null};t.findTreeByPath=n;const a=(e,t)=>{if(!t||!e||!e.children||0===Object.keys(e).length)return null;if(e.id===t)return e;for(const n of e.children){const e=a(n,t);if(null!==e)return e}return null};t.findTreeByID=a;const s=(e,t,n=0)=>{if(!t)return[];if(!e||0===Object.keys(e).length)return null;if(e.id===t)return[e.id];if(!e.children)return null;for(const a of e.children){const r=s(a,t);if(null!==r)return e.id&&e.id!==n&&r.unshift(e.id),r}return null};t.findTreePath=s},54663:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=l(n(95815)),s=l(n(96540)),r=n(58702),i=l(n(46942)),o=l(n(5556));function l(e){return e&&e.__esModule?e:{default:e}}const d=a.default._t("Admin.SHOW_SEARCH","Show search"),u=e=>(0,i.default)("btn--no-text","search-toggle","font-icon-search","btn--icon-lg",{"search-toggle__active":e}),c=({onToggle:e,toggled:t})=>s.default.createElement(r.Button,{title:d,onClick:e,className:u(t)},s.default.createElement("span",{className:"visually-hidden"},d));t.Component=c,c.propTypes={onToggle:o.default.func,toggled:o.default.bool};t.default=c},54758:function(e,t,n){var a=n(54663),s=n(34160);void 0===s.SearchToggle&&(s.SearchToggle=a),e.exports=a},54951:function(e,t,n){"use strict";var a;((a=n(74692))&&a.__esModule?a:{default:a}).default.entwine("ss",function(e){e(".permissioncheckboxset .valADMIN input").entwine({onmatch:function(){this._super()},onunmatch:function(){this._super()},onclick:function(e){this.toggleCheckboxes()},toggleCheckboxes:function(){var t=e(this).parents(".field:eq(0)").find(".checkbox").not(this);e(this).is(":checked")?t.each(function(){e(this).data("SecurityAdmin.oldChecked",e(this).attr("checked")),e(this).data("SecurityAdmin.oldDisabled",e(this).attr("disabled")),e(this).attr("disabled","disabled"),e(this).attr("checked","checked")}):t.each(function(){var t=e(this).data("SecurityAdmin.oldChecked"),n=e(this).data("SecurityAdmin.oldDisabled");null!==t&&e(this).attr("checked",t),null!==n&&e(this).attr("disabled",n)})}}),e(".permissioncheckboxset .valCMS_ACCESS_LeftAndMain input").entwine({getCheckboxesExceptThisOne:function(){return e(this).parents(".field:eq(0)").find("li").filter(function(t){var n=e(this).attr("class");return!!n&&n.match(/CMS_ACCESS_/)}).find(".checkbox").not(this)},onadd:function(){this.toggleCheckboxes(),this._super()},onclick:function(e){this.toggleCheckboxes()},toggleCheckboxes:function(){var t=this.getCheckboxesExceptThisOne();e(this).is(":checked")?t.each(function(){e(this).data("PermissionCheckboxSetField.oldChecked",e(this).is(":checked")),e(this).data("PermissionCheckboxSetField.oldDisabled",e(this).is(":disabled")),e(this).prop("disabled","disabled"),e(this).prop("checked","checked")}):t.each(function(){e(this).prop("checked",e(this).data("PermissionCheckboxSetField.oldChecked")),e(this).prop("disabled",e(this).data("PermissionCheckboxSetField.oldDisabled"))})}})})},55064:function(e,t,n){var a=n(5549),s=n(34160);void 0===s.InsertLinkModal&&(s.InsertLinkModal=a),e.exports=a},55180:function(e,t,n){var a=n(96937),s=n(34160);void 0===s.ResizeAware&&(s.ResizeAware=a),e.exports=a},55239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a,s=l(n(96540)),r=n(58702),i=(a=n(5556))&&a.__esModule?a:{default:a},o=l(n(99197));function l(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return(l=function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i})(e,t)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(null,arguments)}class u extends s.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}getInputProps(){const e={className:`${this.props.className} ${this.props.extraClass}`,id:this.props.id,name:this.props.name,disabled:this.props.disabled,readOnly:this.props.readOnly,value:this.props.value||"",placeholder:this.props.placeholder,autoFocus:this.props.autoFocus,maxLength:this.props.data&&this.props.data.maxlength,type:this.props.type?this.props.type:null,onBlur:this.props.onBlur,onFocus:this.props.onFocus};return this.props.attributes&&!Array.isArray(this.props.attributes)&&Object.assign(e,this.props.attributes),this.props.readOnly||Object.assign(e,{onChange:this.handleChange}),e}handleChange(e){if("function"==typeof this.props.onChange){if(!e.target)return;this.props.onChange(e,{id:this.props.id,value:e.target.value})}}renderFieldWithTip(){const{id:e,title:t,tip:n}=this.props;return s.default.createElement(r.InputGroup,null,s.default.createElement(r.Input,this.getInputProps()),s.default.createElement(o.default,d({},n,{fieldTitle:t,id:`${e}-tip`})))}render(){return this.props.tip?this.renderFieldWithTip():s.default.createElement(r.Input,this.getInputProps())}}t.Component=u,u.propTypes={extraClass:i.default.string,id:i.default.string,name:i.default.string.isRequired,onChange:i.default.func,onBlur:i.default.func,onFocus:i.default.func,value:i.default.oneOfType([i.default.string,i.default.number]),readOnly:i.default.bool,disabled:i.default.bool,placeholder:i.default.string,type:i.default.string,autoFocus:i.default.bool,attributes:i.default.oneOfType([i.default.object,i.default.array]),tip:i.default.shape(o.tipShape)},u.defaultProps={value:"",extraClass:"",className:"",type:"text",attributes:{}};t.default=u},55337:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SET_SCHEMA:"SET_SCHEMA",SET_SCHEMA_STATE_OVERRIDES:"SET_SCHEMA_STATE_OVERRIDES",SET_SCHEMA_LOADING:"SET_SCHEMA_LOADING"}},56086:function(e,t,n){var a=n(85281),s=n(34160);void 0===s.HiddenField&&(s.HiddenField=a),e.exports=a},56091:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=d(n(23077)),r=d(n(80328)),i=d(n(46942)),o=d(n(5556)),l=d(n(32185));function d(e){return e&&e.__esModule?e:{default:e}}const u=()=>null,c=({children:e,FormBuilderLoaderComponent:t,onLoadingError:n,onSubmit:s,responseClassBad:o,responseClassGood:d,showErrorMessage:c,autoFocus:f,bodyClassName:p,identifier:h,onAction:m,schemaUrl:g,className:_,isOpen:v,modalClassName:b,ModalComponent:y,ModalHeaderComponent:w,onClosed:C,showCloseButton:E,size:O,title:S})=>{const[T,M]=(0,a.useState)(null),[P,D]=(0,a.useState)(null),j={className:_,isOpen:v,modalClassName:b,ModalComponent:y,ModalHeaderComponent:w,onClosed:()=>{M(null),D(!1),"function"==typeof C&&C()},showCloseButton:E,size:O,title:S},R={actionHolder:{className:"modal-footer"},autoFocus:f,bodyClassName:p,fieldHolder:{className:(0,i.default)("modal-body",p)},identifier:h,onAction:m,onLoadingError:e=>{const t=n!==u;if(c||!t){const t=e.errors&&e.errors[0];M(t.value),D(!0)}t&&n(e)},onSubmit:(e,t,n)=>{M(null),D(!1);let a=null;if(a="function"==typeof s?s(e,t,n):n(),!a)throw new Error("Promise was not returned for submitting");return a.then(e=>(e&&(M(e.message),D(!1)),e)).catch(e=>{e.then(e=>{M(e),D(!0)})}),a},schemaUrl:g};return a.default.createElement(l.default,j,T&&a.default.createElement("div",{className:P?o:d},(0,r.default)("span",{html:T})),g&&a.default.createElement(t,R),e)};c.propTypes={autoFocus:o.default.bool,bodyClassName:o.default.string,schemaUrl:o.default.string,onSubmit:o.default.func,onAction:o.default.func,responseClassGood:o.default.string,responseClassBad:o.default.string,identifier:o.default.string,showErrorMessage:o.default.bool,onLoadingError:o.default.func,FormBuilderLoaderComponent:o.default.oneOfType([o.default.object,o.default.func]),...l.default.propTypes},c.defaultProps={showErrorMessage:!1,onLoadingError:u,modalClassName:"form-builder-modal",responseClassGood:"alert alert-success",responseClassBad:"alert alert-danger",FormBuilderLoaderComponent:s.default};t.default=c},56173:function(e,t,n){var a=n(32541),s=n(34160);void 0===s.FileStatusIcon&&(s.FileStatusIcon=a),e.exports=a},56425:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=n(58702),r=l(n(23977)),i=l(n(95815)),o=l(n(5556));function l(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(null,arguments)}class u extends a.Component{constructor(e){super(e),this.getValueCSV=this.getValueCSV.bind(this)}getValueCSV(){const e=this.props.value;if(!Array.isArray(e)&&(e||"string"==typeof e||"number"==typeof e)){const t=this.props.source.find(t=>t.value===e);return t?t.title:""}return e&&e.length?e.map(e=>{const t=this.props.source.find(t=>t.value===e);return t&&t.title}).filter(e=>`${e}`.length).join(", "):""}getFieldProps(){return{id:this.props.id,name:this.props.name,className:`${this.props.className} ${this.props.extraClass}`}}render(){if(!this.props.source)return null;const e=`('${i.default._t("Admin.NONE","None")}')`,t=this.getValueCSV()||e;return a.default.createElement(s.Input,d({plaintext:!0},this.getFieldProps(),{tag:"p"}),t)}}t.Component=u,u.propTypes={extraClass:o.default.string,id:o.default.string,name:o.default.string.isRequired,source:o.default.arrayOf(o.default.shape({value:o.default.oneOfType([o.default.string,o.default.number]),title:o.default.any,disabled:o.default.bool})),value:o.default.any},u.defaultProps={extraClass:"",className:"",value:[]};t.default=(0,r.default)(u)},56726:function(e,t,n){var a=n(99417),s=n(34160);void 0===s.Preview&&(s.Preview=a),e.exports=a},56779:function(e,t,n){var a=n(25827),s=n(34160);void 0===s.TabsActions&&(s.TabsActions=a),e.exports=a},57840:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),s=r(n(86313));function r(e){return e&&e.__esModule?e:{default:e}}t.default=e=>a.default.createElement(s.default,null,e.children)},58749:function(e,t,n){var a=n(62129),s=n(34160);void 0===s.BreadcrumbsActions&&(s.BreadcrumbsActions=a),e.exports=a},58760:function(e,t,n){var a=n(66373),s=n(34160);void 0===s.ShortcodeSerialiser&&(s.ShortcodeSerialiser=a),e.exports=a},59338:function(e,t,n){var a=n(89091),s=n(34160);void 0===s.Search&&(s.Search=a),e.exports=a},59523:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=e=>{const t={};return e&&e.split(" ").forEach(e=>{""!==e&&(t[e]=!0)}),t}},60022:function(e,t,n){var a=n(23443),s=n(34160);void 0===s.FormAction&&(s.FormAction=a),e.exports=a},60093:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=i(n(80328)),r=i(n(5556));function i(e){return e&&e.__esModule?e:{default:e}}class o extends a.Component{getLegend(){return"fieldset"===this.props.data.tag&&this.props.data.legend?(0,s.default)("legend",this.props.data.legend):null}getClassName(){return`${this.props.className} ${this.props.extraClass}`}render(){const e=this.getLegend(),t=this.props.data.tag||"div",n=this.getClassName();return a.default.createElement(t,{className:n},e,this.props.children)}}t.Component=o,o.propTypes={data:r.default.oneOfType([r.default.array,r.default.shape({tag:r.default.string,legend:r.default.string})]),extraClass:r.default.string},o.defaultProps={className:"",extraClass:""};t.default=o},60246:function(e,t,n){var a=n(87523),s=n(34160);void 0===s.VersionedBadge&&(s.VersionedBadge=a),e.exports=a},60906:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t)return{};return t.fields.reduce((t,n)=>{const a=r(e.fields,n.name);return a?"Structural"===a.type||!0===a.readOnly?t:Object.assign({},t,{[n.name]:n.value}):t},{})},t.findField=r,t.schemaMerge=function(e,t){if(void 0===t)return e;return s.default.recursive(!0,e,t)};var a,s=(a=n(84010))&&a.__esModule?a:{default:a};function r(e,t){return e?e.reduce((e,n)=>e||r(n.children,t),e.find(e=>e.name===t||e.name===`${t}[]`)):null}},61080:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(96540)),s=o(n(73323)),r=o(n(46942)),i=o(n(95815));function o(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(null,arguments)}const d=({className:e,...t})=>a.default.createElement(s.default,l({className:(0,r.default)(e,"back-button")},t));d.propTypes=s.default.propTypes,d.defaultProps={...s.default.defaultProps,noText:!0,icon:"left-open-big",children:i.default._t("Admin.BACK","Back")};t.default=d},61289:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=f,t.default=void 0;var a=u(n(73323)),s=u(n(95815)),r=u(n(80391)),i=u(n(32613)),o=u(n(5556)),l=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),d=n(58702);function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(null,arguments)}function f(e){const{onSuccess:t,autocomplete:n,initiallyCollapsed:o,verifyMessage:u,sectionTitle:f}=e,p=(0,l.createRef)(),[h,m]=(0,l.useState)(""),[g,_]=(0,l.useState)(!1),v=r.default.getSection("SilverStripe\\Admin\\SudoModeController");let b=u;b||(b=f?s.default.inject(s.default._t("Admin.SUDO_MODE_PASSWORD_FIELD_VERIFY_SECTION_TITLE",'"{sectionTitle}" is protected and is in read-only mode. Before editing please verify that it\'s you first.'),{sectionTitle:f}):s.default._t("Admin.SUDO_MODE_PASSWORD_FIELD_VERIFY","This section is protected and is in read-only mode. Before editing please verify that it's you first."));const y=v.helpLink;function w(){_(!0)}async function C(){if(null===v.endpoints.activate)return void m("Invalid password message");i.default.createEndpointFetcher({url:v.endpoints.activate,method:"post",payloadFormat:"urlencoded",responseFormat:"json"})({Password:p.current.value},{"X-SecurityID":r.default.get("SecurityID")}).then(()=>t()).catch(async e=>{const t=await e.response.json();m(t.message)})}y&&(b=l.default.createElement(l.default.Fragment,null,b,l.default.createElement("a",{href:y,className:"sudo-mode-password-field__notice-help",target:"_blank",rel:"noopener noreferrer"},s.default._t("Admin.WHATS_THIS","What is this?"))));const E=!o||g;return l.default.createElement("div",{className:"sudo-mode-password-field"},!E&&l.default.createElement("div",{className:"sudo-mode-password-field__expander alert alert-info panel"},l.default.createElement("div",{className:"sudo-mode-password-field__expander-text-container"},b),l.default.createElement("div",{className:"sudo-mode-password-field__expander-button-container"},l.default.createElement(a.default,{className:"sudo-mode-password-field__expander-button font-icon-lock",color:"info",onClick:()=>w()},s.default._t("Admin.VERIFY","Verify")))),E&&l.default.createElement("div",{className:"sudo-mode-password-field__inner alert alert-info panel panel--padded"},l.default.createElement("div",{className:"sudo-mode__notice sudo-mode-password-field__notice--required"},l.default.createElement("p",{className:"sudo-mode-password-field__notice-message"},b),!g&&l.default.createElement(a.default,{className:"sudo-mode-password-field__notice-button font-icon-lock",color:"info",onClick:()=>w()},s.default._t("Admin.VERIFY_TO_CONTINUE","Verify to continue"))),g&&function(){const e={type:"password",name:"SudoModePassword",id:"SudoModePassword",className:"no-change-track",autoComplete:n,onKeyDown:e=>function(e){"Enter"===e.key&&(e.stopPropagation(),e.preventDefault(),C())}(e),innerRef:p,autoFocus:!0},t=h?{valid:!1,invalid:!0}:{};return l.default.createElement("div",{className:"sudo-mode-password-field__verify"},l.default.createElement(d.FormGroup,{className:"sudo-mode-password-field__verify-form-group form-group"},l.default.createElement(d.Label,{for:"SudoModePassword"},s.default._t("Admin.ENTER_PASSWORD","Enter your password")),l.default.createElement(d.InputGroup,null,l.default.createElement(d.Input,c({},e,t)),l.default.createElement(a.default,{className:"sudo-mode-password-field__verify-button",color:"info",onClick:()=>C()},s.default._t("Admin.VERIFY","Verify")),l.default.createElement(d.FormFeedback,null,h))))}()))}f.propTypes={verifyMessage:o.default.string,onSuccess:o.default.func.isRequired,autocomplete:o.default.string.isRequired,initiallyCollapsed:o.default.bool.isRequired,sectionTitle:o.default.string.isRequired};t.default=f},61455:function(e,t,n){var a=n(44072),s=n(34160);void 0===s.ViewModeStates&&(s.ViewModeStates=a),e.exports=a},61481:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={FETCH_RECORDS_REQUEST:"FETCH_RECORDS_REQUEST",FETCH_RECORDS_FAILURE:"FETCH_RECORDS_FAILURE",FETCH_RECORDS_SUCCESS:"FETCH_RECORDS_SUCCESS",FETCH_RECORD_REQUEST:"FETCH_RECORD_REQUEST",FETCH_RECORD_FAILURE:"FETCH_RECORD_FAILURE",FETCH_RECORD_SUCCESS:"FETCH_RECORD_SUCCESS",DELETE_RECORD_REQUEST:"DELETE_RECORD_REQUEST",DELETE_RECORD_FAILURE:"DELETE_RECORD_FAILURE",DELETE_RECORD_SUCCESS:"DELETE_RECORD_SUCCESS"}},62038:function(e,t,n){"use strict";var a=p(n(14269)),s=n(28895),r=n(29069),i=p(n(80391)),o=n(91667),l=p(n(34121)),d=p(n(90420)),u=p(n(99136)),c=p(n(7803)),f=p(n(35962));function p(e){return e&&e.__esModule?e:{default:e}}window.ss=window.ss||{},window.onload=async function(){(0,l.default)(),(0,d.default)();const e=[r.thunk],t=i.default.get("debugging");let n=(0,s.applyMiddleware)(...e);t&&(n=(0,u.default)(n));const p=n(s.createStore),h=new f.default(null);(0,c.default)(),a.default.init(()=>{const e=(0,s.combineReducers)(a.default.reducer.getAll()),t=p(e,{});t.dispatch((0,o.setConfig)(i.default.getAll())),a.default.reducer.setStore(t),window.ss.store=t,h.setStore(t),h.start(window.location.pathname),window.jQuery&&window.jQuery("body").addClass("js-react-boot").addClass("js-injector-boot")}),window.setTimeout(()=>a.default.load(),0)}},62129:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setBreadcrumbs=function(e){return{type:s.default.SET_BREADCRUMBS,payload:{breadcrumbs:e}}};var a,s=(a=n(90473))&&a.__esModule?a:{default:a}},62886:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(96540)),s=i(n(5556)),r=i(n(46942));function i(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(null,arguments)}t.default=e=>{const t=({icon:t,className:n,...s})=>a.default.createElement(e,o({className:(0,r.default)(n,t&&`font-icon-${t}`)},s));return t.propTypes={...e.propTypes,icon:s.default.string},t.defaultProps=e.defaultProps,t.displayName=e.name,t}},62930:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var _jquery=_interopRequireDefault(__webpack_require__(74692)),_react=_interopRequireDefault(__webpack_require__(96540)),_client=__webpack_require__(5338),_IframeDialog=_interopRequireDefault(__webpack_require__(78335)),_Loading=_interopRequireDefault(__webpack_require__(86713)),_Injector=__webpack_require__(14269),_lodash=_interopRequireDefault(__webpack_require__(10912));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_extends.apply(null,arguments)}function decodeEntities(e){const t=document.createElement("textarea");return t.innerHTML=e,t.innerText}__webpack_require__(65060),_jquery.default.noConflict(),window.ss=window.ss||{},window.ss.debounce=function(e,t,n){var a,s,r,i=function(){a=null,n||e.apply(s,r)};return function(){var o=n&&!a;s=this,r=arguments,clearTimeout(a),a=setTimeout(i,t),o&&e.apply(s,r)}},window.ss.tabStateUrl=function(){return window.ss.formatTabStateUrl(window.location.href)},window.ss.formatTabStateUrl=function(e){return e.replace(/\?.*/,"").replace(/#.*/,"").replace(new RegExp(`^${(0,_lodash.default)((0,_jquery.default)("base").attr("href"))}/?`),"")},(0,_jquery.default)(window).on("resize.leftandmain",function(e){(0,_jquery.default)(".cms-container").trigger("windowresize")}),_jquery.default.entwine.warningLevel=_jquery.default.entwine.WARN_LEVEL_BESTPRACTISE,_jquery.default.entwine("ss",function($){$(window).on("message",function(e){var t,n=e.originalEvent,a=null;try{a="object"==typeof n.data?n.data:JSON.parse(n.data)}catch(e){}if(a&&$.path.parseUrl(window.location.href).domain===$.path.parseUrl(n.origin).domain)switch(t=void 0===a.target?$(window):$(a.target),a.type){case"event":let e=a.event,n=a.data;e||(e=a.message.type),n||(n=a.message.payload),t.trigger(e,n);break;case"callback":t[a.callback].call(t,a.data)}});var positionLoadingSpinner=function(){var e=$(".ss-loading-screen .loading-animation"),t=($(window).height()-e.height())/2;e.css("top",t+120),e.show()},applyChosen=function(e){e.is(":visible")?e.addClass("has-chosen").chosen({allow_single_deselect:!0,disable_search_threshold:20,display_disabled_options:!0,width:"100%"}):setTimeout(function(){e.show(),applyChosen(e)},500)},isSameUrl=function(e,t){var n=$("base").attr("href");e=$.path.isAbsoluteUrl(e)?e:$.path.makeUrlAbsolute(e,n),t=$.path.isAbsoluteUrl(t)?t:$.path.makeUrlAbsolute(t,n);var a=$.path.parseUrl(e),s=$.path.parseUrl(t);return a.pathname.replace(/\/*$/,"")==s.pathname.replace(/\/*$/,"")&&a.search==s.search},ajaxCompleteEvent=window.ss.debounce(function(){$(window).trigger("ajaxComplete")},1e3,!0);$(window).on("resize",positionLoadingSpinner).trigger("resize"),$(document).ajaxComplete(function(e,t,n){var a=document.URL,s=t.getResponseHeader("X-ControllerURL"),r=n.url,i=null!==t.getResponseHeader("X-Status")?t.getResponseHeader("X-Status"):t.statusText,o=t.status<200||t.status>399?"error":"success";null===s||isSameUrl(a,s)&&isSameUrl(r,s)||window.ss.router.show(s,{id:(new Date).getTime()+String(Math.random()).replace(/\D/g,""),pjax:t.getResponseHeader("X-Pjax")?t.getResponseHeader("X-Pjax"):n.headers["X-Pjax"]}),t.getResponseHeader("X-Reauthenticate")?$(".cms-container").showLoginDialog():(0!==t.status&&i&&-1===$.inArray(i,["OK","success","load","HTTP/2.0 200"])&&statusMessage(decodeURIComponent(i),o),ajaxCompleteEvent(this))}),$(".cms-container").entwine({StateChangeXHR:null,FragmentXHR:{},StateChangeCount:0,LayoutOptions:{minContentWidth:940,minPreviewWidth:400,mode:"content"},onadd:function(){this.redraw(),$(".ss-loading-screen").hide(),$("body").removeClass("loading"),$(window).off("resize",positionLoadingSpinner),this.restoreTabState(),this._super()},onwindowresize:function(){this.redraw()},"from .cms-panel":{ontoggle:function(){this.redraw()}},"from .cms-container":{onaftersubmitform:function(){this.redraw()}},updateLayoutOptions:function(e){var t=this.getLayoutOptions(),n=!1;for(var a in e)t[a]!==e[a]&&(t[a]=e[a],n=!0);n&&this.redraw()},clearViewMode:function(){this.removeClass("cms-container--split-mode"),this.removeClass("cms-container--preview-mode"),this.removeClass("cms-container--content-mode")},splitViewMode:function(){this.updateLayoutOptions({mode:"split"})},contentViewMode:function(){this.updateLayoutOptions({mode:"content"})},previewMode:function(){this.updateLayoutOptions({mode:"preview"})},RedrawSuppression:!1,redraw:function(){this.getRedrawSuppression()||(window.debug&&console.log("redraw",this.attr("class"),this.get(0)),this.setProperMode()||(this.find(".cms-panel-layout").redraw(),this.find(".cms-content-fields[data-layout-type]").redraw(),this.find(".cms-edit-form[data-layout-type]").redraw(),this.find(".cms-preview").redraw(),this.find(".cms-content").redraw()))},setProperMode:function(){var e=this.getLayoutOptions(),t=e.mode;this.clearViewMode();var n=this.find(".cms-content"),a=this.find(".cms-preview");if(n.css({"min-width":0}),a.css({"min-width":0}),n.width()+a.width()>=e.minContentWidth+e.minPreviewWidth)n.css({"min-width":e.minContentWidth}),a.css({"min-width":e.minPreviewWidth}),a.trigger("enable");else if(a.trigger("disable"),"split"==t)return a.trigger("forcecontent"),!0;return this.addClass("cms-container--"+t+"-mode"),!1},checkCanNavigate:function(e){var t=this._findFragments(e||["Content"]),n=t.find(":data(changetracker)").add(t.filter(":data(changetracker)")),a=!0;return!n.length||(n.each(function(){$(this).confirmUnsavedChanges()||(a=!1)}),a)},loadPanel:function(e,t="",n={},a,s=document.URL){this.checkCanNavigate(n.pjax?n.pjax.split(","):["Content"])&&(this.clearTabState(window.ss.tabStateUrl()),this.saveTabState(window.ss.formatTabStateUrl(e),!0),n.__forceReferer=s,a&&(n.__forceReload=1+Math.random()),window.ss.router.show(e,n))},reloadCurrentPanel:function(){this.loadPanel(document.URL,"",{},!0)},submitForm:function(e,t,n,a){var s=this;t||(t=this.find(".btn-toolbar :submit[name=action_save]")),t||(t=this.find(".btn-toolbar :submit:first")),$(t).addClass("btn--loading loading"),$(t).prop("disabled",!0),$(t).is("button")&&($(t).append($('<div class="btn__loading-icon"><span class="btn__circle btn__circle--1"></span><span class="btn__circle btn__circle--2"></span><span class="btn__circle btn__circle--3"></span></div>')),$(t).css($(t).outerWidth()+"px"));var r={promises:[],onAjaxSuccessCallbacks:[]};e.trigger("beforesubmitform",r);var i=function(){$(t).removeClass("btn--loading loading"),$(t).prop("disabled",!1),$(t).find(".btn__loading-icon").remove(),$(t).css("width","auto"),$(t).text($(t).data("original-text"))};return Promise.all(r.promises).then(function(o){let l=!0;const d=[];for(const e of o)!1===e.success&&(l=!1,d.push(e.reason));if(!l){let e=!1;for(const t of d)if("invalid"===t){e=!0;break}return e&&jQuery.noticeAdd({text:window.ss.i18n._t("Admin.VALIDATIONERROR","Validation Error"),type:"error",stayTime:5e3,inEffect:{left:"0",opacity:"show"}}),i(),!1}s.trigger("submitform",{form:e,button:t});var u=e.validate();void 0===u||u||(statusMessage("Validation failed.","bad"),i());var c=e.serializeArray();c.push({name:$(t).attr("name"),value:"1"}),c.push({name:"BackURL",value:document.URL.replace(/\/$/,"")}),s.saveTabState(window.ss.tabStateUrl(),!1),jQuery.ajax(jQuery.extend({headers:{"X-Pjax":"CurrentForm,Breadcrumbs,ValidationResult"},url:e.attr("action"),data:c,type:"POST",complete:function(){i()},success:function(t,a,o){r.onAjaxSuccessCallbacks.forEach(e=>e()),i(),e.removeClass("changed"),n&&n(t,a,o);var l=s.handleAjaxResponse(t,a,o);l&&l.filter("form").trigger("aftersubmitform",{status:a,xhr:o,formData:c})}},a))}).catch(function(){i()}),!1},LastState:null,PauseState:!1,handleStateChange:function(e,t=window.history.state){if(this.getPauseState())return;this.getStateChangeXHR()&&this.getStateChangeXHR().abort();var n=this,a=t.pjax||"Content",s={},r=a.split(","),i=this._findFragments(r);if(this.setStateChangeCount(this.getStateChangeCount()+1),!this.checkCanNavigate())return void this.reverseStateChange();if(i.length<r.length&&(a="Content",r=["Content"],i=this._findFragments(r)),this.trigger("beforestatechange",{state:t,element:i}),s["X-Pjax"]=a,void 0!==t.__forceReferer){let e=t.__forceReferer;try{e=decodeURI(e)}catch(e){}finally{s["X-Backurl"]=encodeURI(e)}}i.addClass("loading");let o=$.ajax({headers:s,url:t.path||document.URL}).fail((e,t,n)=>{0!==e.readyState&&"1"!==e.getResponseHeader("X-Reauthenticate")&&this.reverseStateChange()}).done((e,a,s)=>{this.setLastState(t);var r=n.handleAjaxResponse(e,a,s,t);n.trigger("afterstatechange",{data:e,status:a,xhr:s,element:r,state:t})}).always(()=>{n.setStateChangeXHR(null),i.removeClass("loading")});return this.setStateChangeXHR(o),o},reverseStateChange:function(){var e=this.getLastState();this.setPauseState(!0),this.setStateChangeCount(this.getStateChangeCount()-1),e&&e.path?(window.ss.router.show(e.path),this.setPauseState(!1)):(window.ss.router.back(),setTimeout(()=>{this.setPauseState(!1)}))},loadFragment:function(e,t){var n,a=this,s={},r=$("base").attr("href"),i=this.getFragmentXHR();return void 0!==i[t]&&null!==i[t]&&(i[t].abort(),i[t]=null),e=$.path.isAbsoluteUrl(e)?e:$.path.makeUrlAbsolute(e,r),s["X-Pjax"]=t,n=$.ajax({headers:s,url:e,success:function(e,t,n){var s=a.handleAjaxResponse(e,t,n,null);a.trigger("afterloadfragment",{data:e,status:t,xhr:n,elements:s})},error:function(e,t,n){a.trigger("loadfragmenterror",{xhr:e,status:t,error:n})},complete:function(){var e=a.getFragmentXHR();void 0!==e[t]&&null!==e[t]&&(e[t]=null)}}),i[t]=n,n},handleAjaxResponse:function(e,t,n,a){let s,r;if(n.getResponseHeader("X-Reload")&&n.getResponseHeader("X-ControllerURL")){const e=$("base").attr("href"),t=n.getResponseHeader("X-ControllerURL"),a=$.path.isAbsoluteUrl(t)?t:$.path.makeUrlAbsolute(t,e);return void(document.location.href=a)}if(!e)return;var i=n.getResponseHeader("X-Title");i&&(document.title=decodeURIComponent(i.replace(/\+/g," ")));let o,l={};n.getResponseHeader("Content-Type").match(/^((text)|(application))\/json[ \t]*;?/i)?l=e:(r=$($.parseHTML(e,document,!1)),s="Content",r.is("form")&&!r.is("[data-pjax-fragment~=Content]")&&(s="CurrentForm"),l[s]=r),this.setRedrawSuppression(!0);try{$.each(l,function(e,t){var n=$("[data-pjax-fragment]").filter(function(){return-1!=$.inArray(e,$(this).data("pjaxFragment").split(" "))}),a=$(t);if(o?o.add(a):o=a,a.find(".cms-container").length)throw'Content loaded via ajax is not allowed to contain tags matching the ".cms-container" selector to avoid infinite loops';var s=n.attr("style"),r=(n.parent(),["east","west","center","north","south","column-hidden"]),i=n.attr("class"),l=[];i&&(l=$.grep(i.split(" "),function(e){return $.inArray(e,r)>=0})),a.removeClass(r.join(" ")).addClass(l.join(" ")),s&&a.attr("style",s);var d=a.find("style").detach();d.length&&$(document).find("head").append(d),n.replaceWith(a)});var d=o.filter("form");d.hasClass("cms-tabset")&&d.removeClass("cms-tabset").addClass("cms-tabset")}finally{this.setRedrawSuppression(!1)}return this.redraw(),this.restoreTabState(a&&void 0!==a.tabState?a.tabState:null),o},_findFragments:function(e){return $("[data-pjax-fragment]").filter(function(){var t,n=$(this).data("pjaxFragment").split(" ");for(t in e)if(-1!=$.inArray(e[t],n))return!0;return!1})},refresh:function(){$(window).trigger("statechange"),$(this).redraw()},saveTabState:function(e,t){if(void 0!==window.sessionStorage&&null!==window.sessionStorage){if(void 0===e){window.ss.tabStateUrl()}var n=[];if(this.find(".cms-tabset,.ss-tabset").each(function(e,a){var s=$(a).attr("id");s&&$(a).data("uiTabs")&&($(a).data("ignoreTabState")||$(a).getIgnoreTabState()||n.push({id:s,selected:t?0:$(a).tabs("option","active")}))}),n){var a="tabs-"+e;try{window.sessionStorage.setItem(a,JSON.stringify(n))}catch(e){if(e.code===DOMException.QUOTA_EXCEEDED_ERR&&0===window.sessionStorage.length)return;throw e}}}},restoreTabState:function(e){const t=this.find(".cms-tabset, .ss-tabset");t.length?t.each(function(){const t=$(this),n=t.attr("id"),a=e&&e[n]?e[n]:null;t.restoreState(a)}):$("#Form_AddForm_action_doAdd").focus()},clearTabState:function(e){if(void 0!==window.sessionStorage){var t=window.sessionStorage;if(e)t.removeItem("tabs-"+e);else for(var n=0;n<t.length;n++)t.key(n).match(/^tabs-/)&&t.removeItem(t.key(n))}},clearCurrentTabState:function(){this.clearTabState(window.ss.tabStateUrl())},showLoginDialog:function(){let e=$(".leftandmain__login-dialog");e.length&&e.destroy(),e=$('<div class="leftandmain__login-dialog" />'),$("body").append(e),e.open()}}),$(".leftandmain__login-dialog").entwine({ReactRoot:null,onunmatch(){this._super();const e=this.getReactRoot();e&&(e.unmount(),this.setReactRoot(null))},destroy(){this.close(),this.remove()},close(){this.renderModal(!1)},open(){this.renderModal(!0)},renderModal(e){const t=$("body").data("member-tempid"),n=$.path.addSearchParams("CMSSecurity/login",{tempid:t,BackURL:window.location.href});let a=this.getReactRoot();a||(a=(0,_client.createRoot)(this[0]),this.setReactRoot(a));a.render(_react.default.createElement(_IframeDialog.default,{title:i18n._t("Admin.CMS_LOGIN_TITLE","Login"),className:"login-dialog",bodyClassName:"login-dialog__body",iframeId:"login-dialog-iframe",iframeClassName:"login-dialog__body__iframe",isOpen:e,onClosed:()=>this.close(),url:n}))},reauthenticate(e){void 0!==e.SecurityID&&$(":input[name=SecurityID]").val(e.SecurityID),void 0!==e.TempID&&$("body").data("member-tempid",e.TempID),this.close()}}),$("form.loading,.cms-content.loading,.cms-content-fields.loading,.cms-content-view.loading,.ss-gridfield-item.loading").entwine({ReactRoot:null,onmatch:function(){this._super();const e=$('<div class="cms-loading-container"/>');this.append(e);const t=(0,_client.createRoot)(e[0]);t.render(_react.default.createElement(_Loading.default,null)),this.setReactRoot(t)},onunmatch:function(){this._super();const e=this.find(".cms-loading-container");if(e&&e.length){const t=this.getReactRoot();t&&(t.unmount(),this.setReactRoot(null)),e.remove()}}}),$(".cms .cms-panel-link").entwine({onclick:function(e){if($(this).hasClass("external-link"))e.stopPropagation();else{var t=this.attr("href"),n=t&&!t.match(/^#/)?t:this.data("href"),a={pjax:this.data("pjaxTarget")};$(".cms-container").loadPanel(n,null,a),e.preventDefault()}}}),$(".cms button.action.discard-confirmation").entwine({onclick:function(e){$(".cms-container").checkCanNavigate()||e.preventDefault()}}),$(".cms .ss-ui-button-ajax").entwine({onclick:function(e){$(this).removeClass("ui-button-text-only"),$(this).addClass("ss-ui-button-loading ui-button-text-icons");var loading=$(this).find(".ss-ui-loading-icon");loading.length<1&&(loading=$("<span></span>").addClass("ss-ui-loading-icon ui-button-icon-primary ui-icon"),$(this).prepend(loading)),loading.show();var href=this.attr("href"),url=href||this.data("href");jQuery.ajax({url:url,complete:function(xmlhttp,status){var msg=xmlhttp.getResponseHeader("X-Status")?xmlhttp.getResponseHeader("X-Status"):xmlhttp.responseText;try{null!=msg&&eval(msg)}catch(e){}loading.hide(),$(".cms-container").refresh(),$(this).removeClass("ss-ui-button-loading ui-button-text-icons"),$(this).addClass("ui-button-text-only")},dataType:"html"}),e.preventDefault()}}),$(".cms .ss-ui-dialog-link").entwine({UUID:null,onmatch:function(){this._super(),this.setUUID((new Date).getTime())},onunmatch:function(){this._super()},onclick:function(){this._super();var e="ss-ui-dialog-"+this.getUUID(),t=$("#"+e);t.length||(t=$('<div class="ss-ui-dialog" id="'+e+'" />'),$("body").append(t));var n=this.data("popupclass")?this.data("popupclass"):"";return t.ssdialog({iframeUrl:this.attr("href"),autoOpen:!0,dialogExtraClass:n}),!1}}),$(".cms .field.date input.text").entwine({onmatch:function(){var e=$(this).parents(".field.date:first").data();e.showcalendar?(e.showOn="button",e.locale&&$.datepicker.regional[e.locale]&&(e=$.extend(e,$.datepicker.regional[e.locale],{})),this.prop("disabled")||this.prop("readonly")||$(this).datepicker(e),this._super()):this._super()},onunmatch:function(){this._super()}}),$(".cms .field.dropdown select, .cms .field select[multiple], .form__fieldgroup-item select.dropdown").entwine({onmatch:function(){this.is(".no-chosen")||(this.data("placeholder")||this.data("placeholder"," "),this.removeClass("has-chosen").chosen("destroy"),this.siblings(".chosen-container").remove(),applyChosen(this)),this._super()},onunmatch:function(){this._super()}}),$(".cms-panel-layout").entwine({redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0))}}),$(".cms .grid-field:not([cms-loading-ignore-url-params])").entwine({showDetailView:function(e,t){this.openUrl(t,e,()=>$(".cms-container").loadPanel(e))}}),$(".cms-search-form button[type=reset], .cms-search-form input[type=reset]").entwine({onclick:function(e){e.preventDefault();var t=$(this).parents("form");t.clearForm(),t.find(".dropdown select").prop("selectedIndex",0).trigger("chosen:updated"),t.submit()}}),window._panelDeferredCache={},$(".cms-panel-deferred").entwine({onadd:function(){this._super(),this.redraw()},onremove:function(){window.debug&&console.log("saving",this.data("url"),this),this.data("deferredNoCache")||(window._panelDeferredCache[this.data("url")]=this.html()),this._super()},redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0));var e=this,t=this.data("url");if(!t)throw'Elements of class .cms-panel-deferred need a "data-url" attribute';this._super(),this.data("deferredNoCache")||void 0===window._panelDeferredCache[t]?(this.addClass("loading"),$.ajax({url:t,complete:function(){e.removeClass("loading")},success:function(t,n,a){e.html(t)}})):this.html(window._panelDeferredCache[t])}}),$(".cms-tabset").entwine({onadd:function(){this.redrawTabs(),this._super()},onremove:function(){this.data("uiTabs")&&this.tabs("destroy"),this._super()},redrawTabs:function(){this.rewriteHashlinks();this.attr("id");var e=this.find("ul:first .ui-tabs-active");this.data("uiTabs")||this.tabs({active:-1!=e.index()?e.index():0,beforeLoad:function(e,t){return!1},beforeActivate:function(e,t){var n=t.oldTab.find(".cms-panel-link");if(n&&1===n.length)return!1},activate:function(e,t){var n=$(this).closest("form").find(".btn-toolbar");$(t.newTab).closest("li").hasClass("readonly")?n.fadeOut():n.show()}}),this.trigger("afterredrawtabs")},rewriteHashlinks:function(){$(this).find("ul a").each(function(){if($(this).attr("href")){var e=$(this).attr("href").match(/#.*/);e&&$(this).attr("href",document.location.href.replace(/#.*/,"")+e[0])}})}}),$(".view-controls :button[name=showFilter]").entwine({onmatch:function(){this._super(),this.data("collapsed",!0),this.data("animating",!1)},showHide:function(){const e=$(`#${this.attr("aria-controls")}`),t=this.data("collapsed");t?(this.addClass("active"),e.removeClass("cms-content-filters--hidden"),e.find(":input:first").focus()):(this.removeClass("active"),e.addClass("cms-content-filters--hidden")),this.data("collapsed",!t)},onclick:function(e){this.showHide(),e.preventDefault()}}),$(".js-injector-boot .search-holder").entwine({Component:null,ReactRoot:null,onmatch(){this._super();const e=this.closest(".cms-content").attr("id"),t=e?{context:e}:{},n=(0,_Injector.loadComponent)("Search",t);this.setComponent(n),this.refresh()},onunmatch(){this._super();const e=this.getReactRoot();e&&(e.unmount(),this.setReactRoot(null))},onfocusin(){this.css("z-index","100")},onfocusout(){this.css("z-index","")},close(){$("#filters-button").showHide();if(this.data("schema").filters){const e=$(".cms-search-form").attr("action");this.closest(".cms-container").loadPanel(e,"",{},!0)}},search(e){this._super();let t=$(".cms-search-form").attr("action");if(t&&e){const n=[];for(const[t,a]of Object.entries(e))a&&(n[`q[${t}]`]=a);0===Object.keys(n).length&&(n[`q[${this.data("schema").name}]`]=""),t=$.path.addSearchParams(t,n),$(".cms-panel-deferred.cms-content-view").data("deferredNoCache",!0),this.closest(".cms-container").loadPanel(t,"",{},!0)}},getSearchID(){return"Search"},refresh(){const e=this.data("schema"),t=this.getComponent(),n="cms-content-tools-CMSMain"===this.closest(".cms-content-tools").attr("id");let a=this.getReactRoot();a||(a=(0,_client.createRoot)(this[0])),a.render(_react.default.createElement(t,_extends({id:this.getSearchID(),identifier:"Search",display:"VISIBLE",displayBehavior:"HIDEABLE",filterPrefix:"Search__",onHide:()=>this.close(),onSearch:e=>this.search(e),borders:{left:!n}},e))),this.setReactRoot(a)}})});var statusMessage=function(e,t){e=decodeEntities(e),jQuery.noticeAdd({text:e,type:t,stayTime:5e3,inEffect:{left:"0",opacity:"show"}})}},63249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteRecord=function(e,t,n,r,o={}){const l={recordType:e,id:t},d=n.toLowerCase(),u="get"===d?[i(r,l),o]:[i(r,l),{},o];return n=>(n({type:s.default.DELETE_RECORD_REQUEST,payload:l}),a.default[d](...u).then(()=>{n({type:s.default.DELETE_RECORD_SUCCESS,payload:{recordType:e,id:t}})}).catch(a=>{throw n({type:s.default.DELETE_RECORD_FAILURE,payload:{error:a,recordType:e,id:t}}),a}))},t.fetchRecord=function(e,t,n){const r={recordType:e},o={Accept:"application/json"},l=t.toLowerCase();return t=>{t({type:s.default.FETCH_RECORD_REQUEST,payload:r});const d="get"===l?[i(n,r),o]:[i(n,r),{},o];return a.default[l](...d).then(e=>e.json()).then(n=>{t({type:s.default.FETCH_RECORD_SUCCESS,payload:{recordType:e,data:n}})}).catch(n=>{throw t({type:s.default.FETCH_RECORD_FAILURE,payload:{error:n,recordType:e}}),n})}},t.fetchRecords=function(e,t,n){const r={recordType:e},o={Accept:"application/json"},l=t.toLowerCase();return t=>{t({type:s.default.FETCH_RECORDS_REQUEST,payload:r});const d="get"===l?[i(n,r),o]:[i(n,r),{},o];return a.default[l](...d).then(e=>e.json()).then(n=>{t({type:s.default.FETCH_RECORDS_SUCCESS,payload:{recordType:e,data:n}})}).catch(n=>{throw t({type:s.default.FETCH_RECORDS_FAILURE,payload:{error:n,recordType:e}}),n})}};var a=r(n(32613)),s=r(n(61481));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return Object.keys(t).reduce((e,n)=>e.replace(`:${n}`,t[n]),e)}},63855:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(96540)),s=n(58702),r=o(n(5556)),i=o(n(18116));function o(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(null,arguments)}function d({currentTab:e,children:t,onToggle:n}){const r=a.default.Children.map(t,({props:t})=>a.default.createElement(i.default,l({},t,{onToggle:()=>e!==t.name&&n(t.name),active:e===t.name})));return r&&r.length>1?a.default.createElement(s.Nav,{tabs:!0,role:"tablist"},r):null}d.propTypes={currentTab:r.default.string,onToggle:r.default.func.isRequired};t.default=d},64038:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82229)),s=r(n(80593));function r(e){return e&&e.__esModule?e:{default:e}}const i={isOpen:!1};t.default=function(e=i,t){switch(t.type){case s.default.TOGGLE_MENU:return(0,a.default)({...e,isOpen:!e.isOpen});case s.default.OPEN_MENU:return(0,a.default)({...e,isOpen:!0});case s.default.CLOSE_MENU:return(0,a.default)({...e,isOpen:!1});default:return e}}},64145:function(e,t,n){var a=n(63249),s=n(34160);void 0===s.RecordsActions&&(s.RecordsActions=a),e.exports=a},64477:function(e,t,n){var a=n(15357),s=n(34160);void 0===s.Breadcrumb&&(s.Breadcrumb=a),e.exports=a},65060:function(e,t,n){"use strict";var a,s=(a=n(74692))&&a.__esModule?a:{default:a};n(62727),s.default.widget("ssui.ssdialog",s.default.ui.dialog,{options:{iframeUrl:"",reloadOnOpen:!0,dialogExtraClass:"",modal:!0,bgiframe:!0,autoOpen:!1,autoPosition:!0,minWidth:500,maxWidth:800,minHeight:300,maxHeight:700,widthRatio:.8,heightRatio:.8,resizable:!1},_create:function(){s.default.ui.dialog.prototype._create.call(this);var e=this,t=(0,s.default)('<iframe marginWidth="0" marginHeight="0" frameBorder="0" scrolling="auto"></iframe>');t.on("load",function(n){"about:blank"!=(0,s.default)(this).attr("src")&&(t.addClass("loaded").show(),e._resizeIframe(),e.uiDialog.removeClass("loading"))}).hide(),this.options.dialogExtraClass&&this.uiDialog.addClass(this.options.dialogExtraClass),this.element.append(t),this.options.iframeUrl&&this.element.css("overflow","hidden")},open:function(){s.default.ui.dialog.prototype.open.call(this);var e=this,t=this.element.children("iframe");!this.options.iframeUrl||t.hasClass("loaded")&&!this.options.reloadOnOpen||(t.hide(),t.attr("src",this.options.iframeUrl),this.uiDialog.addClass("loading")),(0,s.default)(window).on("resize.ssdialog",function(){e._resizeIframe()})},close:function(){s.default.ui.dialog.prototype.close.call(this),this.uiDialog.off("resize.ssdialog"),(0,s.default)(window).off("resize.ssdialog")},_resizeIframe:function(){var e,t,n={},a=this.element.children("iframe");this.options.widthRatio&&(e=(0,s.default)(window).width()*this.options.widthRatio,this.options.minWidth&&e<this.options.minWidth?n.width=this.options.minWidth:this.options.maxWidth&&e>this.options.maxWidth?n.width=this.options.maxWidth:n.width=e),this.options.heightRatio&&(t=(0,s.default)(window).height()*this.options.heightRatio,this.options.minHeight&&t<this.options.minHeight?n.height=this.options.minHeight:this.options.maxHeight&&t>this.options.maxHeight?n.height=this.options.maxHeight:n.height=t),jQuery.isEmptyObject(n)||(this._setOptions(n),a.attr("width",n.width-parseFloat(this.element.css("paddingLeft"))-parseFloat(this.element.css("paddingRight"))),a.attr("height",n.height-parseFloat(this.element.css("paddingTop"))-parseFloat(this.element.css("paddingBottom"))),this.options.autoPosition&&this._setOption("position",this.options.position))}}),s.default.widget("ssui.titlebar",{_create:function(){this.originalTitle=this.element.attr("title");var e=this.options,t=e.title||this.originalTitle||"&nbsp;",n=s.default.ui.dialog.getTitleId(this.element);this.element.parent().addClass("ui-dialog");var a=this.element.addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix");if(e.closeButton){var r=(0,s.default)('<a href="#"/>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){r.addClass("ui-state-hover")},function(){r.removeClass("ui-state-hover")}).focus(function(){r.addClass("ui-state-focus")}).blur(function(){r.removeClass("ui-state-focus")}).mousedown(function(e){e.stopPropagation()}).appendTo(a);(this.uiDialogTitlebarCloseText=(0,s.default)("<span/>")).addClass("ui-icon ui-icon-closethick").text(e.closeText).appendTo(r)}(0,s.default)("<span/>").addClass("ui-dialog-title").attr("id",n).html(t).prependTo(a);a.find("*").add(a).disableSelection()},destroy:function(){this.element.off(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.originalTitle&&this.element.attr("title",this.originalTitle)}}),s.default.extend(s.default.ssui.titlebar,{version:"0.0.1",options:{title:"",closeButton:!1,closeText:"close"},uuid:0,getTitleId:function(e){return"ui-dialog-title-"+(e.attr("id")||++this.uuid)}})},65376:function(e,t,n){"use strict";var a=l(n(74692)),s=l(n(96540)),r=n(5338),i=n(60906),o=n(14269);function l(e){return e&&e.__esModule?e:{default:e}}a.default.entwine("ss",e=>{e(".js-injector-boot .used-on__polyfill-holder").entwine({Timer:null,Component:null,ReactRoot:null,onmatch(){this._super();const e=this.closest(".cms-content").attr("id"),t=e?{context:e}:{},n=(0,o.loadComponent)("UsedOnTable",t);this.setComponent(n),this.refresh()},onunmatch(){this._super();const e=this.getReactRoot();e&&(e.unmount(),this.setReactRoot(null))},refresh(){const e=this.getAttributes(),t=this.getComponent();let n=this.getReactRoot();n||(n=(0,r.createRoot)(this[0])),n.render(s.default.createElement(t,e)),this.setReactRoot(n)},getAttributes(){const e=this.data("state"),t=this.data("schema");return(0,i.schemaMerge)(t,e)}})})},65484:function(e,t,n){var a=n(13547),s=n(34160);void 0===s.ssUrlLib&&(s.ssUrlLib=a),e.exports=a},65739:function(e,t,n){var a=n(61289),s=n(34160);void 0===s.SudoModePasswordField&&(s.SudoModePasswordField=a),e.exports=a},66373:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitiseShortCodeProperties=t.default=t.createHTMLSanitiser=void 0;var a,s=(a=n(95815))&&a.__esModule?a:{default:a};const r=e=>e.toString().slice(1,-1),i=r(/((?:[,\s]+(?:[a-z0-9\-_]+)=(?:(?:[a-z0-9\-_]+)|(?:\d+\.\d+)|(?:'[^']*')|(?:"[^"]*")))*)/),o=/[,\s]+([a-z0-9\-_]+)=(?:([a-z0-9\-_]+)|(\d+\.\d+)|(?:'([^']*)')|(?:"([^"]*)"))/,l=r(/\[%s/),d=r(/\[\s*\/\s*%s\s*]/),u=r(/((?:.|\n|)*?)/),c=r(/\s*/),f={match(e,t,n){let a=`${s.default.sprintf(l,e)}${i}${c}\\]`;t&&(a=`${a}${u}${s.default.sprintf(d,e)}`);const r=new RegExp(a,"i").exec(n);if(!r)return null;return{name:e,wrapped:t,properties:this.parseProperties(r[1]),original:r[0],content:t?r[2]:null}},parseProperties(e){let t=e;const n={};let a=t.match(o);for(;a;){const e=a[1]||"",s=a[2]||a[3]||a[4]||a[5]||"";e&&(n[e]=s);const r=t.indexOf(a[0]);t=t.substr(r+a[0].length),a=t.match(o)}return n},serialise(e,t=!1){const n=t?{sep:",",quote:"",replacer:/[^a-z0-9\-_.]/gi}:{sep:" ",quote:'"',replacer:/"/g},a=Object.entries(e.properties).map(([e,t])=>t?`${n.sep}${e}=${n.quote}${`${t}`.replace(n.replacer,"")}${n.quote}`:null).filter(e=>null!==e).join("");return e.wrapped?`[${e.name}${a}]${e.content}[/${e.name}]`:`[${e.name}${a}]`}},p=()=>{const e=document.createElement("div");return t=>void 0===t?"":(e.textContent=t,e.innerHTML)};t.createHTMLSanitiser=p;t.sanitiseShortCodeProperties=e=>{const t=p();return Object.entries(e).reduce((e,[n,a])=>({...e,[n]:t(a)}),{})};t.default=f},66463:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),r=(a=n(5556))&&a.__esModule?a:{default:a};class i extends s.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){this.props.onClick(e,this.props.record.ID)}render(){return s.default.createElement("button",{className:`grid-field__icon-action font-icon-${this.props.icon} btn--icon-lg`,onClick:this.handleClick})}}i.propTypes={onClick:r.default.func.isRequired};t.default=i},66802:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=Number(e);if(null!==e&&t>=0&&t<10)return[s.default._t("Admin.WRITTEN_NUMBER_ZERO","zero"),s.default._t("Admin.WRITTEN_NUMBER_ONE","one"),s.default._t("Admin.WRITTEN_NUMBER_TWO","two"),s.default._t("Admin.WRITTEN_NUMBER_THREE","three"),s.default._t("Admin.WRITTEN_NUMBER_FOUR","four"),s.default._t("Admin.WRITTEN_NUMBER_FIVE","five"),s.default._t("Admin.WRITTEN_NUMBER_SIX","six"),s.default._t("Admin.WRITTEN_NUMBER_SEVEN","seven"),s.default._t("Admin.WRITTEN_NUMBER_EIGHT","eight"),s.default._t("Admin.WRITTEN_NUMBER_NINE","nine")][t];if(t)return String(t);return null};var a,s=(a=n(95815))&&a.__esModule?a:{default:a}},67694:function(e,t,n){var a=n(97525),s=n(34160);void 0===s.GridFieldCell&&(s.GridFieldCell=a),e.exports=a},68413:function(e,t,n){"use strict";var a,s=(a=n(74692))&&a.__esModule?a:{default:a};n(64484);var r=void 0!==window.ss?window.ss:{};r.editorWrappers={textarea(){let e,t;return{init(n){e=n;const a=(0,s.default)(`#${e}`);a.css("visibility","visible"),t=a.val()},destroy(){},save(){},isDirty(){return(0,s.default)(`#${e}`).val()===t},getContent(){return(0,s.default)(`#${e}`).val()},getSelection(){const t=(0,s.default)(`#${e}`),n=t.val(),a=t[0].selectionStart,r=t[0].selectionEnd;return n.slice(a,r)},selectByCssSelector(t){const n=(0,s.default)(`#${e}`),a=(0,s.default)(`<body>${n.val()}</body>`);if(0===a.length)return;const r=a.find(t);if(0===r.length)return;const i=r[0].outerHTML,o=n.val().indexOf(i);n[0].focus(),n[0].setSelectionRange(o,o+i.length)},setContent(t){(0,s.default)(`#${e}`).val(t)},insertContent(t){const n=(0,s.default)(`#${e}`);n.val(`${n.val()}${t}`)},prepValueForChangeTracker(e){return e}}}},s.default.entwine("ss",function(e){e("textarea.htmleditor").entwine({Editor:null,onadd:function(){var e=this.data("editor")||"default",t=r.editorWrappers[e]();this.setEditor(t),t.init(this.attr("id")),this._super()},onmatch:function(){this.getEditor()||this.onadd(),this._super()},onremove:function(){this.getEditor().destroy(),this._super()},onunmatch:function(){this.getEditor()&&this.onremove(),this._super()},"from .cms-edit-form":{onbeforesubmitform:function(){this.getEditor().save({silent:!0}),this._super()}},openLinkDialog:function(){this.openDialog("link")},openMediaDialog:function(){this.openDialog("media")},openEmbedDialog:function(){this.openDialog("embed")},openDialog:function(t){if("media"===t&&window.InsertMediaModal){let t=e("#insert-media-react__dialog-wrapper");return t.length||(t=e('<div id="insert-media-react__dialog-wrapper" class="insert-link__dialog-wrapper" />'),e("body").append(t)),t.setElement(this),void t.open()}if("embed"===t&&window.InsertEmbedModal){let t=e("#insert-embed-react__dialog-wrapper");return t.length||(t=e('<div id="insert-embed-react__dialog-wrapper" />'),e("body").append(t)),t.setElement(this),void t.open()}throw new Error(`Dialog named ${t} is not available.`)}})})},69161:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(5556))&&a.__esModule?a:{default:a};const r=()=>null;r.propTypes={id:s.default.oneOfType([s.default.string,s.default.number]),title:s.default.string,titlePath:s.default.string,disabled:s.default.bool,parentid:s.default.number,count:s.default.number,depth:s.default.number,expanded:s.default.bool,limited:s.default.bool,marked:s.default.bool,opened:s.default.bool,children:s.default.array};t.default=r},70077:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=n(58702),r=d(n(46942)),i=d(n(5556)),o=d(n(81179)),l=d(n(35421));function d(e){return e&&e.__esModule?e:{default:e}}class u extends a.PureComponent{renderMultipleActions(e){const t=e.reduce((e,t)=>{const n=e,a=t.group;if(!a)throw new Error(`Action: "${t.title}" has no group assigned`);return n[a]||(n[a]=[]),n[a].push(t),n},[]);return a.default.createElement(l.default,{dropdownMenuProps:{end:!0},dropdownToggleClassNames:["action-menu__toggle","btn","btn--no-text","btn-sm","font-icon-dot-3"]},Object.keys(t).map((e,n)=>[0!==n&&a.default.createElement(s.DropdownItem,{divider:!0,key:e}),t[e].map((e,t)=>a.default.createElement(o.default,{data:e.data,title:e.title,type:e.type,url:e.url,key:t}))]))}renderSingleAction(e){const{type:t,title:n,data:i}=e;let o,{url:l}=e;"submit"===t&&(o="submit",l=void 0);const d=(0,r.default)("action",i.classNames);return a.default.createElement(s.Button,{className:d,type:o,href:l,"data-url":i["data-url"],"data-action-state":i["data-action-state"],name:i.name,color:"secondary"},n)}render(){const{schema:e}=this.props;return e.length>1?this.renderMultipleActions(e):1===e.length?this.renderSingleAction(e[0]):null}}const c=o.default.propTypes;c.group=i.default.string,u.propTypes=i.default.arrayOf(i.default.shape(c)).isRequired;t.default=u},71285:function(e,t,n){"use strict";var a=l(n(74692)),s=l(n(95815)),r=l(n(96540)),i=n(5338),o=n(14269);function l(e){return e&&e.__esModule?e:{default:e}}n(62727),n(38344),a.default.entwine("ss",function(e){e(".grid-field").entwine({onmatch:function(){this.needsColumnFix()&&this.fixColumns(),this.fixShowFilters(),!this.is(".grid-field--lazy-loadable")||0!==this.closest(".ss-tabset, .cms-tabset").length&&"force"!==this.data("gridfield-lazy-load-state")||(this.data("gridfield-lazy-load-state","ready"),this.lazyload()),this.data("gridfield-lazy-load-state","ready")},fixShowFilters:function(){this.hasFilters()?this.addClass("show-filter"):this.removeClass("show-filter")},lazyload:function(){"ready"!==this.data("gridfield-lazy-load-state")?this.data("gridfield-lazy-load-state","force"):(this.removeClass("grid-field--lazy-loadable").addClass("grid-field--lazy-loaded"),this.reload())},reload:function(t,n){var a=this,r=this.closest("form"),i=this.find(":input:focus").attr("name"),o=r.find(":input:not(.cms-content-filters :input, .relation-search)").serializeArray(),l=this.find("tbody"),d=this.find(".grid-field__title-row th").attr("colspan");if(t||(t={}),t.data||(t.data=[]),t.data=t.data.concat(o),window.location.search){let e=window.location.search.replace(/^\?/,"").split("&");for(let n=0;n<e.length;n++){let a=e[n].split("=");2==a.length&&t.data.push({name:decodeURIComponent(a[0]),value:decodeURIComponent(a[1])})}}l.find("tr").remove();var u=e("<td />").addClass("ss-gridfield-item loading").attr("colspan",d);l.append(e("<tr />").append(u));e.ajax(e.extend({},{headers:{"X-Pjax":"CurrentField"},type:"POST",url:this.data("url"),dataType:"html",success:function(s){a.empty().append(e(s).children()),i&&a.find(':input[name="'+i+'"]').focus(),n&&n.apply(this,arguments),a.trigger("reload",a),!1!==t.data[0].triggerChange&&a.trigger("change")},error:function(e){alert(s.default._t("Admin.ERRORINTRANSACTION"))},complete:function(e,t){a.find(".loading").removeClass("loading"),a.fixShowFilters()}},t))},showDetailView:function(e,t){this.openUrl(t,e,()=>window.location.href=e)},openUrl:function(e,t,n){if(e&&(e.metaKey||e.ctrlKey||e.shiftKey)){window.open(t,"_blank").focus()}else n()},getItems:function(){return this.find(".ss-gridfield-item")},setState:function(e,t){var n=this.getState();n[e]=t,this.find(':input[name="'+this.data("name")+'[GridState]"]').val(JSON.stringify(n))},getState:function(){const e=this.find(':input[name="'+this.data("name")+'[GridState]"]').val();return e?JSON.parse(e):{}},hasFilters:function(){return!!this.getState().GridFieldFilterHeader},needsColumnFix:function(){return this.find(".cms-content-filters").length&&!this.find(".grid-field__col-compact").length&&!this.find("th.col-Actions").length},fixColumns:function(t){this.find(".sortable-header").append('<th class="main col-Actions" />'),this.find("tbody tr").each(function(){var t=e(this).find("td:last"),n=t.attr("colspan")??1;t.attr("colspan",Number(n)+1)})},keepStateInHistory:function(){const t=e(this).find(".gridfield-actionmenu__container").data("schema"),n=e(this).data("name");t&&t.length>0&&t.filter(e=>{if("link"===e.type){const t=this.buildUrlQueryString(e.url,n),a=window.location.pathname+t;window.ss.router.replace(a,void 0,void 0,!1)}})},buildUrlQueryString:function(e,t){const n={};for(const e of window.location.search.replace(/^\?/,"").split("&")){const[a,s]=e.split("=");a.match(new RegExp(`^gridState\\-${t}\\-[0-9]$`))||(n[a]=s)}const a={},s=[window.location.origin,e].join("/"),r=new URL(s).searchParams;for(const[e,t]of r.entries())a[e]=t;const i=Object.assign(n,a),o=[];for(const e in i){if(""===e)continue;const t=encodeURIComponent(i[e]);o.push([e,t].join("="))}return 0===o.length?"":"?"+o.join("&")},updateUrlGridState:function(e){const t=[],n=window.location.search.replace(/^\?/,"").split("&");for(let a=0;a<n.length;a++){let s=n[a];const r=s.split("=");if(console.log(this.data("name")),2===r.length){const t=decodeURIComponent(r[0]);let n=decodeURIComponent(r[1]);if(0===t.indexOf("gridState-"+this.data("name"))){const t=JSON.parse(n);e(t),n=JSON.stringify(t)}s=encodeURIComponent(t)+"="+encodeURIComponent(n)}t.push(s)}const a=window.location.origin+window.location.pathname+"?"+t.join("&");window.ss.router.replace(a,void 0,void 0,!1)}}),e(".grid-field *").entwine({getGridField:function(){return this.closest(".grid-field")}}),e(".gridfield-actionmenu__container").entwine({Timer:null,Component:null,Actions:null,ReactRoot:null,onmatch(){this._super();let t=[];e(".action-menu--handled",this.parent()).each(function(){const n=e(this).detach();t.push(n)}),this.setActions(t);const n=this.closest(".cms-content").attr("id"),a=n?{context:n}:{},s=(0,o.loadComponent)("GridFieldActions",a);this.setComponent(s),this.refresh()},onunmatch(){this._super();const t=this.getReactRoot();t&&(t.unmount(),this.setReactRoot(null));const n=this.getActions(),a=this.parent();n&&e(n).each(function(){e(this).appendTo(a)})},refresh(){const e=this.data("schema"),t=this.getComponent();let n=this.getReactRoot();n||(n=(0,i.createRoot)(this[0])),n.render(r.default.createElement(t,{schema:e})),this.setReactRoot(n)}}),e(".grid-field :button[name=showFilter]").entwine({showHide(){this.closest(".grid-field").toggleClass("show-filter"),this._super(),jQuery(this).toggle()}}),e(".grid-field .ss-gridfield-item").entwine({onclick:function(t){if(t.target.classList.contains("action-menu__toggle"))return this._super(t),!1;if(e(t.target).closest(".action").length)return this._super(t),!1;var n=this.find(".edit-link, .view-link");n.length&&this.getGridField().showDetailView(n.prop("href"),t)},onmouseover:function(){this.find(".edit-link, .view-link").length&&this.css("cursor","pointer")},onmouseout:function(){this.css("cursor","default")}}),e(".grid-field .action.action_import:button").entwine({onclick:function(e){e.preventDefault(),this.openmodal()},onmatch:function(){this._super(),"open"===this.data("state")&&this.openmodal()},onunmatch:function(){this._super()},openmodal:function(){let t=e(this.data("target")),n=e(this.data("modal"));t.length<1?(t=n,t.appendTo(document.body)):t.innerHTML=n.innerHTML;let a=e(".modal-backdrop");function s(){a.removeClass("show"),t.removeClass("show"),setTimeout(function(){a.remove()},150)}a.length<1&&(a=e('<div class="modal-backdrop fade"></div>'),a.appendTo(document.body)),t.find("[data-dismiss]").add(".modal-backdrop").on("click",function(){s()}),e(document).on("keydown",function(e){27===e.keyCode&&s()}),setTimeout(function(){a.addClass("show"),t.addClass("show")},0)}}),e(".grid-field .action:button").entwine({onclick:function(t){var n="show";let a=!0;if(this.is(":disabled"))return void t.preventDefault();!this.hasClass("ss-gridfield-button-close")&&this.closest(".grid-field").hasClass("show-filter")||(n="hidden"),(this.hasClass("ss-gridfield-pagination-action")||this.hasClass("grid-field__sort"))&&(a=!1);var s=[{name:this.attr("name"),value:this.val(),filter:n,triggerChange:a}],r=this.data("action-state");r&&s.push({name:"ActionState",value:JSON.stringify(r)});const i=e(this).getGridField();i.reload({data:s},function(t,n,a){i.keepStateInHistory();const s=a.getResponseHeader("X-Message-Text"),r=a.getResponseHeader("X-Message-Type");if(s&&r){var o=e("#Form_EditForm_error");o.addClass(r),o.html(s),o.show()}}),t.preventDefault()},actionurl:function(){var t=this.closest(":button"),n=this.getGridField(),a=this.closest("form"),s=a.find(":input.gridstate").serialize(),r=a.find('input[name="SecurityID"]').val();s+="&"+encodeURIComponent(t.attr("name"))+"="+encodeURIComponent(t.val()),r&&(s+="&SecurityID="+encodeURIComponent(r));var i=this.data("action-state");i&&(s+="&ActionState="+encodeURIComponent(JSON.stringify(i))),window.location.search&&(s=window.location.search.replace(/^\?/,"")+"&"+s);var o=-1==n.data("url").indexOf("?")?"?":"&";return e.path.makeUrlAbsolute(n.data("url")+o+s,e("base").attr("href"))}}),e(".grid-field .add-existing-autocompleter").entwine({onbuttoncreate:function(){var e=this;this.toggleDisabled(),this.find('input[type="text"]').on("keyup",function(){e.toggleDisabled()})},onunmatch:function(){this.find('input[type="text"]').off("keyup")},toggleDisabled:function(){var e=this.find(".ss-ui-button"),t=""!==this.find('input[type="text"]').val(),n=e.is(":disabled");(t&&n||!t&&!n)&&e.attr("disabled",!n)}}),e(".grid-field .grid-field__col-compact .action--delete, .grid-field .grid-field__col-compact .action--archive, .cms-edit-form .btn-toolbar .action--delete, .cms-edit-form .btn-toolbar .action--archive, .grid-field__col-compact .gridfield-button-unlink, .grid-field__col-compact .action--unlink").entwine({onclick:function(t){let n=s.default._t("Admin.DELETECONFIRMMESSAGE","Are you sure you want to delete this record?"),a=s.default._t("Admin.DELETE_CONFIRM_MESSAGE","Deleted");if(e(this).hasClass("action--archive")?(n=s.default._t("Admin.ARCHIVECONFIRMMESSAGE","Are you sure you want to archive this record?"),a=s.default._t("Admin.ARCHIVE_CONFIRM_MESSAGE","Archived")):e(this).hasClass("action--unlink")&&(n=s.default._t("Admin.UNLINKCONFIRMMESSAGE","Are you sure you want to unlink this record?"),a=s.default._t("Admin.UNLINK_CONFIRM_MESSAGE","Unlinked")),!confirm(n))return t.preventDefault(),!1;this._super(t),e(this).hasClass("dropdown-item")&&jQuery.noticeAdd({text:a,type:"success",stayTime:5e3,inEffect:{left:"0",opacity:"show"}})}}),e(".grid-field .grid-print-button.action:button").entwine({UUID:null,onmatch:function(){this._super(),this.setUUID((new Date).getTime())},onunmatch:function(){this._super()},onclick:function(e){var t=this.actionurl();return window.open(t),e.preventDefault(),!1}}),e(".ss-gridfield-print-iframe").entwine({onmatch:function(){this._super(),this.hide().on("load",function(){this.focus(),(this.contentWindow||this).print()})},onunmatch:function(){this._super()}}),e(".grid-field .action.no-ajax, .grid-field .no-ajax .action:button").entwine({onclick:function(e){const t=this.actionurl();return this.getGridField().openUrl(e,t,()=>window.location.href=t),e.preventDefault(),!1}}),e(".grid-field .action-detail").entwine({onclick:function(t){return this.getGridField().showDetailView(e(this).prop("href"),t),!1}}),e(".grid-field[data-selectable]").entwine({getSelectedItems:function(){return this.find(".ss-gridfield-item.ui-selected")},getSelectedIDs:function(){return e.map(this.getSelectedItems(),function(t){return e(t).data("id")})}}),e(".grid-field[data-selectable] .ss-gridfield-items").entwine({onadd:function(){this._super(),this.selectable()},onremove:function(){this._super(),this.data("selectable")&&this.selectable("destroy")}}),e(".js-injector-boot .grid-field .search-holder").entwine({onmatch(){const e=this.closest(".cms-content-filters");e.prependTo(e.parent()),this._super()},close(){const t=this.data("schema"),n=[{name:t.clearAction,value:"",filter:"hidden",triggerChange:!1}];t.clearActionState&&n.push({name:"ActionState",value:t.clearActionState});const a=e(this).getGridField();a.reload({data:n},function(){a.keepStateInHistory()})},search(t){const n=this.data("schema"),a=[{name:n.searchAction,value:"",filter:"show",triggerChange:!1}];n.searchActionState&&a.push({name:"ActionState",value:n.searchActionState});for(const[e,s]of Object.entries(t))if(s){const t=`filter[${n.gridfield}][${e}]`;a.push({name:t,value:s})}const s=e(this).getGridField();s.reload({data:a},function(){s.keepStateInHistory()})},getSearchID(){return`${this.data("schema").gridfield}Search`}}),e(".js-injector-boot .grid-field .search-box__content-field").entwine({onkeydown:function(e){"Enter"===e.key&&e.preventDefault()}}),e(".grid-field .relation-search").entwine({onfocusin:function(t){this.autocomplete({source:function(t,n){var a=e(this.element);e(this.element).closest("form");e.ajax({headers:{"X-Pjax":"Partial"},dataType:"json",type:"GET",url:e(a).data("searchUrl"),data:encodeURIComponent(a.attr("name"))+"="+encodeURIComponent(a.val()),success:n,error:function(e){alert(s.default._t("Admin.ERRORINTRANSACTION","An error occured while fetching data from the server\n Please try again later."))}})},select:function(t,n){var a=e('<input type="hidden" name="relationID" class="action_gridfield_relationfind no-change-track" />');a.val(n.item.id),e(this).closest(".grid-field").find(".action_gridfield_relationfind").replaceWith(a),e(this).closest(".grid-field").find(".action_gridfield_relationadd").removeAttr("disabled")}})}}),e(".grid-field .pagination-page-number input").entwine({onkeydown:function(t){if(13==t.keyCode){t.preventDefault();var n=parseInt(e(this).val(),10),a=e(this).getGridField();a.setState("GridFieldPaginator",{currentPage:n});const s=function(){a.keepStateInHistory()};return a.reload({},s),!1}}})})},71916:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=o,t=null){const n=(0,s.default)(e,t,l);if(t.type===r.default.TABS_ACTIVATE_TAB)return n(()=>({activeTab:t.payload.tab}));return e};var a=i(n(82229)),s=i(n(89919)),r=i(n(87835));function i(e){return e&&e.__esModule?e:{default:e}}const o=(0,a.default)({fields:{}}),l=(0,a.default)({activeTab:null})},72041:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=m(n(46005)),r=m(n(8539)),i=m(n(93943)),o=m(n(66963)),l=m(n(28181)),d=m(n(95815)),u=m(n(60328)),c=m(n(23977)),f=m(n(88835)),p=m(n(76459)),h=m(n(5556));function m(e){return e&&e.__esModule?e:{default:e}}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},g.apply(null,arguments)}class _ extends a.Component{constructor(e){super(e),this.isControlled()||(this.state={value:e.value}),this.handleChange=this.handleChange.bind(this),this.handleOnBlur=this.handleOnBlur.bind(this),this.isValidNewOption=this.isValidNewOption.bind(this),this.getOptions=this.getOptions.bind(this),this.fetchOptions=(0,p.default)(this.fetchOptions,500)}getOptions(e){const{lazyLoad:t,options:n}=this.props;return t?e?this.fetchOptions(e):Promise.resolve([]):Promise.resolve(n)}handleChange(e){this.isControlled()?this.props.onChange(e):this.setState({value:e})}isControlled(){return"function"==typeof this.props.onChange}handleOnBlur(){}fetchOptions(e){const{optionUrl:t,labelKey:n,valueKey:a}=this.props,s=f.default.parse(t,!0);return s.query.term=e,(0,u.default)(f.default.format(s),{credentials:"same-origin"}).then(e=>e.json()).then(e=>e.items.map(e=>({[n]:e.Title,[a]:e.Value,Selected:e.Selected})))}isValidNewOption(e,t,n){const{valueKey:a}=this.props;if(!e)return!1;if(Array.isArray(t)){if(this.valueInOptions(e,t,a))return!1}else if(e===t[a])return!1;return!this.valueInOptions(e,n,a)}valueInOptions(e,t,n){for(const a of t)if(e===a[n])return!0;return!1}render(){const{lazyLoad:e,options:t,creatable:n,multi:s,disabled:r,labelKey:i,valueKey:o,SelectComponent:u,AsyncCreatableSelectComponent:c,AsyncSelectComponent:f,CreatableSelectComponent:p,...h}=this.props,m=e?{loadOptions:this.getOptions}:{options:t};let _=u;if(e&&n?_=c:e?_=f:n&&(_=p),this.isControlled()||(h.value=this.state.value),!s&&h.value&&Object.keys(h.value).length>0){const e=h.value[Object.keys(h.value)[0]];"object"==typeof e&&(h.value=e)}return a.default.createElement(l.default,null,a.default.createElement(_,g({},h,{isMulti:s,isDisabled:r,cacheOptions:!0,onChange:this.handleChange,onBlur:this.handleOnBlur},m,{getOptionLabel:e=>e[i],getOptionValue:e=>e[o],noOptionsMessage:({inputValue:e})=>e?d.default._t("ListboxField.NO_OPTIONS","No options"):d.default._t("ListboxField.TYPE_TO_SEARCH","Type to search"),isValidNewOption:this.isValidNewOption,getNewOptionData:(e,t)=>({[i]:t,[o]:e}),classNamePrefix:"ss-listbox-field"})))}}t.Component=_,_.propTypes={name:h.default.string.isRequired,labelKey:h.default.string.isRequired,valueKey:h.default.string.isRequired,lazyLoad:h.default.bool,creatable:h.default.bool,multi:h.default.bool,disabled:h.default.bool,options:h.default.arrayOf(h.default.object),optionUrl:h.default.string,value:h.default.any,onChange:h.default.func,onBlur:h.default.func,SelectComponent:h.default.oneOfType([h.default.object,h.default.func]),AsyncCreatableSelectComponent:h.default.oneOfType([h.default.object,h.default.func]),AsyncSelectComponent:h.default.oneOfType([h.default.object,h.default.func]),CreatableSelectComponent:h.default.oneOfType([h.default.object,h.default.func])},_.defaultProps={labelKey:"Title",valueKey:"Value",disabled:!1,lazyLoad:!1,creatable:!1,multi:!1,SelectComponent:s.default,AsyncCreatableSelectComponent:i.default,AsyncSelectComponent:r.default,CreatableSelectComponent:o.default};t.default=(0,c.default)(_)},72250:function(e,t,n){var a=n(73323),s=n(34160);void 0===s.Button&&(s.Button=a),e.exports=a},72298:function(e,t,n){var a=n(21077),s=n(34160);void 0===s.FormAlert&&(s.FormAlert=a),e.exports=a},72806:function(e,t,n){"use strict";var a=l(n(74692)),s=l(n(96540)),r=n(5338),i=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(14269)),o=n(16679);function l(e){return e&&e.__esModule?e:{default:e}}const d=(0,i.loadComponent)("ToastsContainer");a.default.entwine("toastcontainernamespace",e=>{e("body").entwine({onmatch(){const t=e('<div class="toasts-container"></div>');this.append(t);(0,r.createRoot)(t[0]).render(s.default.createElement(d,null))}})}),a.default.extend({noticeAdd(e){i.default.ready(()=>{const{dispatch:t}=i.default.reducer.store;t((0,o.display)(e))})}})},73226:function(e,t,n){var a=n(5417),s=n(34160);void 0===s.Tag&&(s.Tag=a),e.exports=a},73323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(96540)),s=n(58702),r=l(n(5556)),i=l(n(46942)),o=l(n(62886));function l(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(null,arguments)}const u=({className:e,noText:t,children:n,...r})=>a.default.createElement(s.Button,d({className:(0,i.default)(e,{"btn--no-text":t}),"aria-label":t?n:void 0},r),t?void 0:n);u.propTypes={...s.Button.propTypes,noText:r.default.bool},u.defaultProps={...s.Button.defaultProps,noText:!1};t.default=(0,o.default)(u)},73581:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={LOAD_USED_ON:"LOAD_USED_ON",SAVE_USED_ON:"SAVE_USED_ON",LOAD_USED_ON_FAILED:"LOAD_USED_ON_FAILED"}},74291:function(e,t,n){"use strict";var a;((a=n(74692))&&a.__esModule?a:{default:a}).default.entwine("ss",function(e){e(".cms .field.cms-description-tooltip").entwine({onmatch:function(){this._super();var e=this.find(".description");e.length&&(this.attr("title",e.text()).tooltip({content:e.html()}),e.remove())}}),e(".cms .field.cms-description-tooltip :input").entwine({onfocusin:function(e){this.closest(".field").tooltip("open")},onfocusout:function(e){this.closest(".field").tooltip("close")}})})},74491:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(96540)),s=r(n(5556));function r(e){return e&&e.__esModule?e:{default:e}}const i=({id:e,className:t,title:n,extraClass:s,data:r})=>{const i=r&&r.target,o=`form-label ${t} ${s}`;return a.default.createElement("label",{id:e,className:o,htmlFor:i},n)};i.propTypes={id:s.default.number,className:s.default.string,extraClass:s.default.string,title:s.default.node,data:s.default.shape({target:s.default.string})},i.defaultProps={className:"",extraClass:""};t.default=i},74626:function(e,t,n){var a=n(35505),s=n(34160);void 0===s.UnsavedFormsActions&&(s.UnsavedFormsActions=a),e.exports=a},75252:function(e,t,n){var a=n(23077),s=n(34160);void 0===s.FormBuilderLoader&&(s.FormBuilderLoader=a),e.exports=a},75308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(96540))&&a.__esModule?a:{default:a};t.default=e=>s.default.createElement("th",null,e.children)},75564:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=o(n(74827)),r=o(n(88835)),i=o(n(10912));function o(e){return e&&e.__esModule?e:{default:e}}s.default.oldshow||(s.default.oldshow=s.default.show),s.default.setAbsoluteBase=function(e){s.default.absoluteBaseURL=e.replace(/\/?$/,"/");const t=document.createElement("a");t.href=e;let n=t.pathname;n=n.replace(/\/$/,""),n.match(/^[^\/]/)&&(n=`/${n}`),s.default.base(n)}.bind(s.default),s.default.getAbsoluteBase=function(){return s.default.absoluteBaseURL}.bind(s.default),s.default.resolveURLToBase=function(e){const t=s.default.getAbsoluteBase(),n=r.default.resolve(t,e);if(0!==n.indexOf(t))return n;const a=new RegExp(`^${(0,i.default)(t)}/?`);return n.replace(a,"/")}.bind(s.default),s.default.show=(a=s.default.oldshow,(e,t,n,r)=>a(s.default.resolveURLToBase(e),t,n,r)),s.default.routeAppliesToCurrentLocation=function(e){return new s.default.Route(e).match(s.default.current,{})},window.ss=window.ss||{},window.ss.router=window.ss.router||s.default;t.default=window.ss.router},76361:function(e,t,n){var a=n(47549),s=n(34160);void 0===s.Focusedzone&&(s.Focusedzone=a),e.exports=a},76606:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(82229)),s=r(n(90473));function r(e){return e&&e.__esModule?e:{default:e}}const i=(0,a.default)([]);t.default=function(e=i,t){return t.type===s.default.SET_BREADCRUMBS?(0,a.default)(Object.assign([],t.payload.breadcrumbs)):e}},76768:function(e,t,n){"use strict";var a,s=(a=n(96540))&&a.__esModule?a:{default:a},r=n(5338),i=n(14269);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(null,arguments)}window.jQuery.entwine("ss",e=>{e(".js-injector-boot .ss-searchable-dropdown-field").entwine({Root:null,Component:null,onmatch(){const e=this.closest(".cms-content").attr("id"),t=e?{context:e}:{},n=this.data("schema");if(n){this.data("entwine-value",n.value);const e=(0,r.createRoot)(this[0]),a=(0,i.loadComponent)(n.component,t);this.setRoot(e),this.setComponent(a),this._super(),this.refresh()}},onunmatch(){const e=this.getRoot();e&&e.unmount()},getProps(){return{...this.data("schema"),value:this.data("entwine-value")||"",onChange:this.handleChange.bind(this)}},refresh(){const e=this.getRoot(),t=this.getComponent(),n=this.getProps();e.render(s.default.createElement(t,o({},n,{noHolder:!0})))},handleChange(e){this.data("entwine-value",e),this.refresh()}}),e(".cms-edit-form").entwine({getChangeTrackerOptions(){const t=void 0===this.entwineData("ChangeTrackerOptions");let n=this._super();return t&&(n=e.extend({},n),n.ignoreFieldSelector+=", .ss-searchable-dropdown-field .no-change-track :input",this.setChangeTrackerOptions(n)),n}})})},76958:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=i,t=null){switch(t.type){case s.default.SET_SCHEMA:{const n=e[t.payload.id]||{};return(0,a.default)({...e,[t.payload.id]:{...n,...t.payload}})}case s.default.SET_SCHEMA_STATE_OVERRIDES:{const n=e[t.payload.id]||{},s=t.payload.stateOverride;return s&&s.fields?(0,a.default)({...e,[t.payload.id]:{...n,stateOverride:s}}):e}case s.default.SET_SCHEMA_LOADING:{const n=e[t.payload.id]||{},s=n.metadata||{};return(0,a.default)({...e,[t.payload.id]:{...n,metadata:{...s,loading:t.payload.loading}}})}default:return e}};var a=r(n(82229)),s=r(n(55337));function r(e){return e&&e.__esModule?e:{default:e}}const i=(0,a.default)({})},77773:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(96540)),s=i(n(5556)),r=i(n(46942));function i(e){return e&&e.__esModule?e:{default:e}}function o({className:e,extraClass:t,id:n,data:{headingLevel:s,title:i}}){const o=`h${s||3}`;return a.default.createElement("div",{className:"field"},a.default.createElement(o,{className:(0,r.default)(e,t),id:n},i))}o.propTypes={className:s.default.string,extraClass:s.default.string,id:s.default.string,data:s.default.oneOfType([s.default.array,s.default.shape({headingLevel:s.default.number,title:s.default.string})]).isRequired},o.defaultProps={className:"",extraClass:""};t.default=o},77964:function(e,t,n){"use strict";var a=s(n(95815));function s(e){return e&&e.__esModule?e:{default:e}}s(n(74692)).default.entwine("ss.preview",function(e){e(".cms-preview").entwine({AlreadyInitialised:!1,AllowedStates:["StageLink","LiveLink","Unversioned","ArchiveLink"],CurrentStateName:null,CurrentSizeName:"auto",IsPreviewEnabled:!1,DefaultMode:"split",Sizes:{auto:{width:"100%",height:"100%"},mobile:{width:"335px",height:"568px"},mobileLandscape:{width:"583px",height:"320px"},tablet:{width:"783px",height:"1024px"},tabletLandscape:{width:"1039px",height:"768px"},desktop:{width:"1024px",height:"800px"}},changeState:function(t,n){var a=this,s=this._getNavigatorStates();return!1!==n&&e.each(s,function(e,n){a.saveState("state",t)}),this.setCurrentStateName(t),this._loadCurrentState(),this.redraw(),this},changeMode:function(t,n){var a=e(".cms-container").entwine(".ss");if("split"==t)a.splitViewMode(),this.setIsPreviewEnabled(!0),this._loadCurrentState();else if("content"==t)a.contentViewMode(),this.setIsPreviewEnabled(!1);else{if("preview"!=t)throw"Invalid mode: "+t;a.previewMode(),this.setIsPreviewEnabled(!0),this._loadCurrentState()}return!1!==n&&this.saveState("mode",t),this.redraw(),this},changeSize:function(e){this.getSizes();return this.setCurrentSizeName(e),this.removeClass("auto desktop tablet mobile").addClass(e),this.saveState("size",e),this.redraw(),this},redraw:function(){window.debug&&console.log("redraw",this.attr("class"),this.get(0));var t=this.getCurrentStateName();t&&this.find(".cms-preview-states").changeVisibleState(t);var n=e(".cms-container").entwine(".ss").getLayoutOptions();return n&&e(".preview-mode-selector").changeVisibleMode(n.mode),this.getCurrentSizeName()&&this.find(".preview-size-selector").changeVisibleSize(this.getCurrentSizeName()),this},saveState:function(e,t){this._supportsLocalStorage()&&window.localStorage.setItem("cms-preview-state-"+e,t)},loadState:function(e){if(this._supportsLocalStorage())return window.localStorage.getItem("cms-preview-state-"+e)},disablePreview:function(){return this.setPendingURL(null),this._loadUrl("about:blank"),this._block(),this.changeMode("content",!1),this.setIsPreviewEnabled(!1),this},enablePreview:function(){return this.getIsPreviewEnabled()||(this.setIsPreviewEnabled(!0),this.changeMode(this.getDefaultMode(),!1)),this},onadd:function(){var t=this,n=this.find("iframe");n.addClass("center"),n.on("load",function(){t._adjustIframeForPreview(),t._loadCurrentPage(),e(this).removeClass("loading")}),this._unblock(),this.disablePreview(),this._super()},_supportsLocalStorage:function(){var e,t,n=new Date;try{return(e=window.localStorage).setItem(n,n),t=e.getItem(n)==n,e.removeItem(n),t&&e}catch(e){console.warn("localStorge is not available due to current browser / system settings.")}},onforcecontent:function(){this.changeMode("content",!1)},onenable:function(){var t=e(".preview-mode-selector");t.removeClass("split-disabled"),t.find(".disabled-tooltip").hide()},ondisable:function(){var t=e(".preview-mode-selector");t.addClass("split-disabled"),t.find(".disabled-tooltip").show()},_block:function(){return this.find(".preview-note").show(),this},_unblock:function(){return this.find(".preview-note").hide(),this},_initialiseFromContent:function(){var t,n;if(e(".cms-previewable").length){t=this.loadState("mode"),n=this.loadState("size");let e=!0;this._moveNavigator(),t&&"content"==t||(this.enablePreview(),this._loadCurrentState()),this.redraw();const a=this.find("iframe").attr("src");this.getPendingURL()||a&&"about:blank"!==a||(t="content",e=!1),t&&this.changeMode(t,e),n&&this.changeSize(n)}else this.disablePreview();return this.setAlreadyInitialised(!0),this},"from .cms-container":{onafterstatechange:function(e,t){t.xhr.getResponseHeader("X-ControllerURL")||this._initialiseFromContent()}},PendingURL:null,oncolumnvisibilitychanged:function(){var e=this.getPendingURL();e&&!this.is(".column-hidden")&&(this.setPendingURL(null),this._loadUrl(e),this._unblock())},"from .cms-container .cms-edit-form":{onaftersubmitform:function(){this._initialiseFromContent()}},_loadUrl:function(e){return this.find("iframe").addClass("loading").attr("src",e),this},_getNavigatorStates:function(){return e.map(this.getAllowedStates(),function(t){var n=e(".cms-preview-states .state-name[data-name="+t+"]");return n.length?{name:t,url:n.attr("href"),active:n.hasClass("active")}:null})},_loadCurrentState:function(){if(!this.getIsPreviewEnabled())return this;var t=this._getNavigatorStates(),n=this.getCurrentStateName(),a=null;t&&(a=e.grep(t,function(e,t){return n===e.name||!n&&e.active}));var s=null;if(a[0]?s=a[0].url:t.length?(this.setCurrentStateName(t[0].name),s=t[0].url):this.setCurrentStateName(null),s){let e=s.split("#");const t=e.shift().split(/[?&]/),n=t.shift();t.push("CMSPreview=1"),e=e.length?"#"+e.join("#"):"",s=n+"?"+t.join("&")+e}return this.is(".column-hidden")?(this.setPendingURL(s),this._loadUrl("about:blank"),this._block()):(this.setPendingURL(null),s?(this._loadUrl(s),this._unblock()):(this._loadUrl("about:blank"),this._block())),this},_moveNavigator:function(){var t=e(".cms-preview .cms-preview-controls");e(".cms-edit-form .cms-navigator").length&&t.length?t.html(e(".cms-edit-form .cms-navigator").detach()):this._block()},_loadCurrentPage:function(){if(this.getIsPreviewEnabled()){var t;e(".cms-container");try{t=this.find("iframe")[0].contentDocument}catch(e){console.warn("Unable to access iframe, possible https mis-match")}if(t){var n=e(t).find("meta[name=x-page-id]").attr("content"),a=e(t).find("meta[name=x-cms-edit-link]").attr("content"),s=e(".cms-content").find(":input[name=ID]").val();n&&void 0!==s&&s!=n&&e(".cms-container").entwine(".ss").loadPanel(a)}}},_adjustIframeForPreview:function(){var e,t=this.find("iframe")[0];if(t){try{e=t.contentDocument}catch(e){console.warn("Unable to access iframe, possible https mis-match")}if(e){for(var n=e.getElementsByTagName("A"),a=0;a<n.length;a++){var s=n[a].getAttribute("href");s&&(s.match(/^http:\/\//)&&n[a].setAttribute("target","_blank"))}var r=e.getElementById("SilverStripeNavigator");r&&(r.style.display="none");var i=e.getElementById("SilverStripeNavigatorMessage");i&&(i.style.display="none"),this.trigger("afterIframeAdjustedForPreview",[e])}}}}),e(".cms-edit-form").entwine({onadd:function(){this._super(),e(".cms-preview").setAlreadyInitialised(!1),e(".cms-preview")._initialiseFromContent()}}),e(".cms-preview-states").entwine({changeVisibleState:function(e){this.find('[data-name="'+e+'"]').addClass("active").siblings().removeClass("active")}}),e(".cms-preview-states .state-name").entwine({onclick:function(t){if(1==t.which){var n=e(this).attr("data-name");this.addClass("active").siblings().removeClass("active"),e(".cms-preview").changeState(n),t.preventDefault()}}}),e(".preview-mode-selector").entwine({changeVisibleMode:function(e){this.find("select").val(e).trigger("chosen:updated")._addIcon()}}),e(".preview-mode-selector select").entwine({onchange:function(t){this._super(t),t.preventDefault();var n=e(this).val();e(".cms-preview").changeMode(n)}}),e(".cms-container--content-mode").entwine({onmatch:function(){e(".cms-preview .result-selected").hasClass("font-icon-columns")&&statusMessage(a.default._t("Admin.DISABLESPLITVIEW","Screen too small to show site preview in split mode"),"error"),this._super()}}),e(".preview-size-selector").entwine({changeVisibleSize:function(e){this.find("select").val(e).trigger("chosen:updated")._addIcon()}}),e(".preview-size-selector select").entwine({onchange:function(t){t.preventDefault();var n=e(this).val();e(".cms-preview").changeSize(n)}}),e(".preview-selector select.preview-dropdown").entwine({"onchosen:ready":function(){this._super(),this._addIcon()},_addIcon:function(){var e=this.find(":selected").attr("data-icon"),t=this.parent().find(".chosen-container a.chosen-single"),n=t.attr("data-icon");return void 0!==n&&t.removeClass(n),t.addClass(e),t.attr("data-icon",e),this}}),e(".preview-mode-selector .chosen-drop li:last-child").entwine({onmatch:function(){e(".preview-mode-selector").hasClass("split-disabled")?this.parent().append('<div class="disabled-tooltip"></div>'):this.parent().append('<div class="disabled-tooltip" style="display: none;"></div>')}}),e(".preview-device-outer").entwine({onclick:function(){this.parent(".preview__device").toggleClass("rotate")}})})},77986:function(e,t,n){var a=n(28557),s=n(34160);void 0===s.TagList&&(s.TagList=a),e.exports=a},78155:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SET_CONFIG:"SET_CONFIG"}},78318:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeQuery=function(e){return s.default.parse(e.replace(/^\?/,""))},t.fileSize=function(e){let t=null,n="";e<1024?(t=e,n="bytes"):e<10240?(t=Math.round(e/1024*10)/10,n="KB"):e<1048576?(t=Math.round(e/1024),n="KB"):e<10485760?(t=Math.round(e/1048576*10)/10,n="MB"):e<1073741824&&(t=Math.round(e/1048576),n="MB");(t||0===t)&&n||(t=Math.round(e/1073741824*10)/10,n="GB");if(isNaN(t))return a.default._t("Admin.NO_SIZE","N/A");return`${t} ${n}`},t.getFileExtension=function(e){return/[.]/.exec(e)?e.replace(/^.+[.]/,""):""};var a=r(n(95815)),s=r(n(55373));function r(e){return e&&e.__esModule?e:{default:e}}},78335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=n(58702),r=o(n(46942)),i=o(n(5556));function o(e){return e&&e.__esModule?e:{default:e}}class l extends a.Component{constructor(e){super(e),this.handleClosed=this.handleClosed.bind(this)}handleClosed(){"function"==typeof this.props.onClosed&&this.props.onClosed()}renderHeader(){const e=this.props.title;return e?a.default.createElement(s.ModalHeader,{toggle:this.handleClosed},e):null}render(){return a.default.createElement(s.Modal,{isOpen:this.props.isOpen,onClosed:this.handleClosed,className:(0,r.default)("iframe-dialog",this.props.className),modalClassName:this.props.modalClassName},this.renderHeader(),a.default.createElement(s.ModalBody,{className:this.props.bodyClassName},a.default.createElement("iframe",{id:this.props.iframeId,className:(0,r.default)("iframe-dialog__iframe",this.props.iframeClassName),src:this.props.url,frameBorder:0})))}}l.propTypes={url:i.default.string.isRequired,onClosed:i.default.func,isOpen:i.default.bool,title:i.default.oneOfType([i.default.string,i.default.bool]),modalClassName:i.default.string,iframeId:i.default.string,iframeClassName:i.default.string,className:i.default.string,bodyClassName:i.default.string},l.defaultProps={isOpen:!1,title:null};t.default=l},78443:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(57761)),s=r(n(95815));function r(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e){this.setValues(e)}setValues(e){this.values=e}getFieldValue(e){let t=this.values[e];return"string"!=typeof t&&(t=null==t||!1===t?"":t.toString()),t}validateValue(e,t,n,s){if(t.includes(e))return"required"!==n;switch(n){case"equals":{const t=this.getFieldValue(s.field);return a.default.equals(e,t)}case"numeric":return a.default.isNumeric(e);case"date":return a.default.isDate(e);case"alphanumeric":return a.default.isAlphanumeric(e);case"alpha":return a.default.isAlpha(e);case"regex":return a.default.matches(e,s.pattern);case"max":return e.length<=s.length;case"email":return a.default.isEmail(e);case"currency":return!0;default:return console.warn(`Unknown validation rule used: '${n}'`),!1}}validateFieldSchema(e){return this.validateField(e.name,e.validation,null!==e.leftTitle?e.leftTitle:e.title,e.customValidationMessage)}getMessage(e,t){const n=t.title,a="string"==typeof t.message?t.message:s.default._t(`Admin.VALIDATOR_MESSAGE_${e.toUpperCase()}`,s.default._t("Admin.VALIDATOR_MESSAGE_DEFAULT","{name} is not a valid value."));return s.default.inject(a,{name:n})}validateField(e,t,n,a){const s={valid:!0,errors:[]};if(!t)return s;const r=this.getFieldValue(e);let i=[""];if(t.required&&"object"==typeof t.required&&t.required.hasOwnProperty("extraEmptyValues")&&(i=i.concat(t.required.extraEmptyValues)),t.required&&i.includes(r)){const s=Object.assign({title:""!==n?n:e},t.required);return{valid:!1,errors:[a||this.getMessage("required",s)]}}return Object.entries(t).forEach(t=>{const[a,o]=t,l=Object.assign({title:e},{title:n},o);if("required"===a)return;if(!this.validateValue(r,i,a,l)){const e=this.getMessage(a,l);s.valid=!1,s.errors.push(e)}}),a&&!s.valid&&(s.errors=[a]),s}}},78769:function(e,t,n){var a=n(90277),s=n(34160);void 0===s.TreeDropdownField&&(s.TreeDropdownField=a),e.exports=a},78848:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){const n=(0,s.useLocation)(),r=(0,s.useNavigate)(),i=(0,s.useParams)();return a.default.createElement(e,o({},t,{router:{location:n,navigate:r,params:i}}))}},t.routerPropTypes=void 0;var a=i(n(96540)),s=n(84976),r=i(n(5556));function i(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(null,arguments)}t.routerPropTypes=r.default.shape({location:r.default.shape({pathname:r.default.string,query:r.default.object,search:r.default.string}),navigate:r.default.func,params:r.default.object})},79797:function(e,t,n){"use strict";var a,s=(a=n(74692))&&a.__esModule?a:{default:a};n(62930),s.default.entwine("ss",function(e){e(".cms-content-tools #Form_SearchForm").entwine({onsubmit:function(e){this.trigger("beforeSubmit")}}),e(".importSpec").entwine({onmatch:function(){this.find("div.details").hide(),this.find("a.detailsLink").click(function(){return e("#"+e(this).attr("href").replace(/.*#/,"")).slideToggle(),!1}),this._super()},onunmatch:function(){this._super()}}),e(".cms .btn.clear-search").entwine({onclick:function(e){e.preventDefault(),this.parents(".cms-container").loadPanel(this.attr("href"),"",{},!0,!1)}})})},80125:function(e,t,n){var a=n(32493),s=n(34160);void 0===s.CheckboxSetField&&(s.CheckboxSetField=a),e.exports=a},80328:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n={}){if(t&&void 0!==t.react)return s.default.createElement(e,n,t.react);if(t&&void 0!==t.html){if(null!==t.html){const a={__html:t.html};return s.default.createElement(e,r({},n,{dangerouslySetInnerHTML:a}))}return null}let a=null;a=t&&void 0!==t.text?t.text:t;if(a&&"object"==typeof a)throw new Error(`Unsupported string value ${JSON.stringify(a)}`);if(null!=a)return s.default.createElement(e,n,a);return null},t.mapHighlight=function(e,t,n){let a=0,r=e;const i=[],o=t.toLocaleLowerCase();for(;-1!==a;)if(a=r.toLocaleLowerCase().indexOf(o),-1!==a){const e=a+t.length,o=r.substring(0,a),l=r.substring(a,e),d=r.substring(e);o.length&&i.push(o),i.push(n?s.default.createElement(n,{key:i.length/2},l):l),r=d}return i.push(r),i};var a,s=(a=n(96540))&&a.__esModule?a:{default:a};function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(null,arguments)}},80391:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{static get(e){return window.ss.config[e]}static getAll(){return window.ss.config}static getSection(e){return window.ss.config.sections.find(t=>t.name===e)}static getCurrentSection(){}}},80593:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={TOGGLE_MENU:"TOGGLE_MENU",OPEN_MENU:"OPEN_MENU",CLOSE_MENU:"CLOSE_MENU"}},80597:function(e,t,n){"use strict";var a=r(n(74692)),s=r(n(38221));function r(e){return e&&e.__esModule?e:{default:e}}(0,a.default)(document).on("click",".confirmedpassword .showOnClick a",function(){var e=(0,a.default)(".showOnClickContainer",(0,a.default)(this).parent());return e.toggle("fast",function(){e.toggleClass("d-none").find('input[type="hidden"]').val(e.hasClass("d-none")?0:1)}),!1});const i={0:"danger",1:"danger",2:"warning",3:"info",4:"success"};const o=(0,s.default)(e=>async function(e){const t=e.target,n=t.getAttribute("data-strength-url");if(!n)return;const a=t.getAttribute("data-min-strength"),s=t.closest(".confirmedpassword").querySelector(".passwordstrength");if(!s)return;const r=await fetch(n,{method:"POST",body:JSON.stringify({password:t.value})});if(!r.ok)return void(s.innerHTML="");const o=await r.json();if(!o)return void(s.innerHTML="");const l=o.strength>=a;let d="danger";l&&i.hasOwnProperty(o.strength)&&(d=i[o.strength]);let u=o.message;l||(u+=`<br/>${o.tooLow}`),s.innerHTML=`<p class="alert alert-${d}" role="alert">${u}</p>`}(e),300,{leading:!0,trailing:!0,maxWait:300});document.addEventListener("input",e=>{e.target.matches(".confirmedpassword [data-strength-url]")&&o(e)})},80753:function(e,t,n){var a=n(6679),s=n(34160);void 0===s.ViewModeActions&&(s.ViewModeActions=a),e.exports=a},81173:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=n(58702),r=l(n(46942)),i=l(n(80328)),o=l(n(5556));function l(e){return e&&e.__esModule?e:{default:e}}class d extends a.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}getInputProps(){const e=(0,r.default)({[this.props.className]:!0,[this.props.extraClass]:!0,checked:this.props.value,disabled:this.props.readOnly,"option-field--disabled":this.props.readOnly||this.props.disabled}),t={id:this.props.id,type:this.props.type,name:this.props.name,disabled:this.props.disabled||this.props.readOnly,readOnly:this.props.readOnly,className:e,onChange:this.handleChange,checked:!!this.props.value,value:1};return this.props.role&&(t.role=this.props.role),t}handleChange(e){if(this.props.readOnly||this.props.disabled)return void e.preventDefault();let t=null;"function"==typeof this.props.onChange?t=this.props.onChange:"function"==typeof this.props.onClick&&(t=this.props.onClick),t&&t(e,{id:this.props.id,value:e.target.checked?1:0})}render(){const e=null!==this.props.leftTitle?this.props.leftTitle:this.props.title,t=null!==this.props.rightTitle?`${e} ${this.props.rightTitle}`:e;return a.default.createElement(s.FormGroup,{check:!0},a.default.createElement(s.Label,{check:!0},a.default.createElement(s.Input,this.getInputProps()),(0,i.default)("span",t)))}}t.Component=d,d.propTypes={type:o.default.oneOf(["checkbox","radio"]),role:o.default.string,leftTitle:o.default.any,rightTitle:o.default.any,title:o.default.any,extraClass:o.default.string,id:o.default.string,name:o.default.string,onChange:o.default.func,value:o.default.oneOfType([o.default.string,o.default.number,o.default.bool]),readOnly:o.default.bool,disabled:o.default.bool},d.defaultProps={extraClass:"",className:"",type:"radio",leftTitle:null,rightTitle:null};t.default=d},81179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=n(58702),r=o(n(46942)),i=o(n(5556));function o(e){return e&&e.__esModule?e:{default:e}}class l extends a.PureComponent{render(){const{type:e,title:t,data:n}=this.props;let{url:i}=this.props;const o=(0,r.default)("action",n.classNames);let l=null;switch(e){case"submit":case"button":l="button",i=void 0;break;case"link":l="a";break;default:l=void 0}return a.default.createElement(s.DropdownItem,{className:o,href:i,tag:l,type:"button"===l?"button":void 0,"data-url":n["data-url"],"data-action-state":n["data-action-state"],name:n.name},t)}}l.propTypes={data:i.default.object,title:i.default.string.isRequired,type:i.default.oneOf(["submit","link"]),url:i.default.string};t.default=l},81637:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(96540)),s=i(n(5556)),r=i(n(47546));function i(e){return e&&e.__esModule?e:{default:e}}const o=e=>a.default.createElement("div",{className:"list-group"},e.items.map(e=>a.default.createElement(r.default,e)));o.propTypes={items:s.default.array};t.default=o},81885:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=o(n(23977)),s=o(n(95093)),r=o(n(95815)),i=n(45193);function o(e){return e&&e.__esModule?e:{default:e}}const l="L LT";class d extends i.Component{getInputProps(){const e=r.default.inject(r.default._t("Admin.FormatExample","Example: {format}"),{format:this.moment().endOf("month").format(l)}),t=this.asHTML5()?"datetime-local":"text";return{...super.getInputProps(),type:t,placeholder:e}}isMultiline(){return!1}hasNativeSupport(){return this.props.modernizr.inputtypes["datetime-local"]}triggerChange(e,t){/^\d{4}-\d\d-\d\dT\d\d:\d\d$/.test(t)?this.props.onChange(e,{id:this.props.id,value:`${t}:00`}):this.props.onChange(e,{id:this.props.id,value:t})}convertToLocalised(e){s.default.locale(this.props.lang);let t="";if(e){const n=this.moment(e);n.isValid()&&(t=n.format(l))}return t}convertToIso(e){s.default.locale(this.props.lang);let t="";if(e){const n=[l,"L",s.default.ISO_8601],a=this.moment(e,n);a.isValid()&&(t=a.format("YYYY-MM-DDTHH:mm:ss"))}return t}}t.Component=d,d.propTypes=i.Component.propTypes,d.defaultProps=i.Component.defaultProps;t.default=(0,a.default)(d)},82126:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={TREEFIELD_SET_VISIBLE:"TREEDROPDOWNFIELD_SET_VISIBLE",TREEFIELD_UPDATED_TREE:"TREEDROPDOWNFIELD_UPDATED_TREE",TREEFIELD_UPDATING_TREE:"TREEDROPDOWNFIELD_UPDATING_TREE",TREEFIELD_UPDATE_FAILED:"TREEFIELD_UPDATE_FAILED",TREEFIELD_SET_SEARCH:"TREEFIELD_SET_SEARCH",TREEFIELD_ADD_SELECTED_VALUES:"TREEFIELD_ADD_SELECTED_VALUES"}},82405:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=n(58702),r=o(n(46942)),i=o(n(5556));function o(e){return e&&e.__esModule?e:{default:e}}class l extends a.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.state={isOpen:!1}}getPlacement(){return this.props.data.placement||"bottom"}getContainer(){return this.props.container?this.props.container:this.wrapper}toggle(){const{toggleCallback:e}=this.props;window.setTimeout(()=>this.setState({isOpen:!this.state.isOpen},e),0)}render(){const e=this.getPlacement(),t=(0,r.default)({btn:!0,"btn-secondary":!0,[this.props.className]:!0,[this.props.buttonClassName]:!0,"btn--no-focus":this.state.isOpen,"font-icon-dot-3 btn--no-text":!this.props.title,[`btn--icon-${this.props.buttonSize}`]:!this.props.title}),n={id:this.props.id,type:"button",className:t,onClick:this.toggle,title:this.props.data.buttonTooltip},i=(0,r.default)({[this.props.className]:!0,"popover-container":!0,"popover-field":!0});return a.default.createElement("div",{className:i,ref:e=>{this.wrapper=e}},a.default.createElement(s.Button,n,this.props.title),a.default.createElement(s.Popover,{id:`${this.props.id}_Popover`,placement:e,isOpen:this.state.isOpen,target:this.props.id,toggle:this.toggle,className:this.props.popoverClassName,container:this.getContainer()},a.default.createElement(s.PopoverHeader,null,this.props.data.popoverTitle),a.default.createElement(s.PopoverBody,null,this.props.children)))}}l.propTypes={id:i.default.string.isRequired,title:i.default.any,container:i.default.any,className:i.default.string,buttonClassName:i.default.string,popoverClassName:i.default.string,buttonSize:i.default.oneOf(["sm","md","large","xl"]),data:i.default.oneOfType([i.default.array,i.default.shape({popoverTitle:i.default.string,buttonTooltip:i.default.string,placement:i.default.oneOf(["top","bottom","left","right"])})]),toggleCallback:i.default.func},l.defaultProps={data:{},className:"",buttonClassName:"",popoverClassName:"",buttonSize:"xl",toggleCallback:()=>{}};t.default=l},82414:function(e,t,n){var a=n(21757),s=n(34160);void 0===s.GridField&&(s.GridField=a),e.exports=a},82513:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSchema=function(e,t={},n){return{type:s.default.SET_SCHEMA,payload:{...t,id:e,name:n}}},t.setSchemaLoading=function(e,t){return{type:s.default.SET_SCHEMA_LOADING,payload:{id:e,loading:t}}},t.setSchemaStateOverrides=function(e,t){return{type:s.default.SET_SCHEMA_STATE_OVERRIDES,payload:{id:e,stateOverride:t}}};var a,s=(a=n(55337))&&a.__esModule?a:{default:a}},82548:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toastShape=t.default=void 0;var a=u(n(96540)),s=u(n(5556)),r=u(n(95815)),i=n(58702),o=u(n(46942)),l=u(n(73323)),d=n(19405);function u(e){return e&&e.__esModule?e:{default:e}}const c=t.toastShape={text:s.default.string.isRequired,dismissed:s.default.bool.isRequired,type:s.default.string.isRequired,actions:s.default.arrayOf(s.default.shape(l.default.propTypes))},f=({type:e,text:t,onDismiss:n,dismissed:s,actions:u})=>{const c=(0,o.default)("toast",`toast--${e}`,{"toast--dismissing":s});return a.default.createElement(i.Toast,{className:c,isOpen:!0},a.default.createElement(i.ToastBody,{className:"toast__body"},a.default.createElement(l.default,{className:"toast__close",icon:"cancel",noText:!0,onClick:e=>{e.preventDefault(),n()},color:"none"},r.default._t("Admin.DISMISS","Dismiss")),a.default.createElement("div",{className:"toast__content",role:"alert","aria-live":"assertive","aria-atomic":"true"},t)),u.length>0&&a.default.createElement(d.ToastActions,{actions:u,onDismiss:n,dismissed:s}))};f.propTypes={...c,onDismiss:s.default.func},f.defaultProps={actions:[],onDismiss:()=>{}};t.default=f},82660:function(e,t,n){var a=n(80391),s=n(34160);void 0===s.Config&&(s.Config=a),e.exports=a},82734:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={CSRF_HEADER:"X-SecurityID"}},83713:function(e,t,n){var a=n(61481),s=n(34160);void 0===s.RecordsActionTypes&&(s.RecordsActionTypes=a),e.exports=a},83952:function(e,t,n){var a=n(89919),s=n(34160);void 0===s.reduxFieldReducer&&(s.reduxFieldReducer=a),e.exports=a},84265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(60093)),s=i(n(5556)),r=i(n(46942));function i(e){return e&&e.__esModule?e:{default:e}}class o extends a.default{getClassName(){return(0,r.default)("field-group-component",{"field-group-component__small-holder":this.props.smallholder},super.getClassName())}}o.propTypes={...a.default.propTypes,smallholder:s.default.bool},o.defaultProps={...a.default.defaultProps,smallholder:!0};t.default=o},84326:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=c(n(95815)),s=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),r=n(58702),i=c(n(46942)),o=c(n(39054)),l=c(n(96937)),d=c(n(5556)),u=c(n(13164));function c(e){return e&&e.__esModule?e:{default:e}}class f extends s.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.renderInput=this.renderInput.bind(this),this.renderFilterButton=this.renderFilterButton.bind(this),this.renderEnterHint=this.renderEnterHint.bind(this),this.renderHideButton=this.renderHideButton.bind(this),this.componentDidUpdate=this.componentDidUpdate.bind(this),this.onResize=this.onResize.bind(this),this.setWidth=this.setWidth.bind(this),this.renderTags=this.renderTags.bind(this),this.getComponentWidth=this.getComponentWidth.bind(this),this.calculateSpaceForTags=this.calculateSpaceForTags.bind(this),this.calculateInputLeftPadding=this.calculateInputLeftPadding.bind(this),this.calculateInputRightPadding=this.calculateInputRightPadding.bind(this),this.onTagListResize=this.onTagListResize.bind(this),this.focusOnLastTag=this.focusOnLastTag.bind(this),this.focusOnInput=this.focusOnInput.bind(this),this.state={hasFocus:!1,width:window.innerWidth-180-55,tagWidth:0}}componentDidUpdate(){const e=this.getComponentWidth();this.setWidth(e)}onResize(e){this.setWidth(e.width)}onTagListResize(e){const t=e.width;this.state.tagWidth!==t&&this.setState({tagWidth:t})}setWidth(e){this.state.width!==e&&this.setState({width:e})}getComponentWidth(){const e=this.nodeRef;return e?e.getBoundingClientRect().width:0}calculateInputLeftPadding(){const e=this.state.width>576?55:20;return this.state.tagWidth+e}calculateInputRightPadding(){return this.state.width<576?121:264}calculateSpaceForTags(){let e=this.state.width;e-=150,e=e-55-52;const{hideable:t,showFilters:n}=this.props;return t&&(e-=52),n&&(e-=52),e=Math.max(e,0),e}handleKeyDown(e){"Enter"===e.key?(e.preventDefault(),this.props.onSearch()):0===e.target.selectionStart&&("ArrowLeft"===e.key||"Backspace"===e.key&&e.target.selectionEnd-e.target.selectionStart===0)&&(e.preventDefault(),this.focusOnLastTag())}handleFocus(){this.state.hasFocus||this.setState({hasFocus:!0}),this.props.onHideFilter&&this.props.onHideFilter()}handleBlur(){this.state.hasFocus&&this.setState({hasFocus:!1})}focusOnLastTag(){const e=this.nodeRef;if(!e)return;const t=e.querySelector(".compact-tag-list__visible .tag:last-child");t&&t.focus()}focusOnInput(){const e=this.nodeRef;if(!e)return;const t=e.querySelector("input");t&&t.focus()}renderInput(){const{id:e,searchText:t,onChange:n,placeholder:a,name:r,borders:o}=this.props,l={paddingLeft:`${this.calculateInputLeftPadding()}px`,paddingRight:`${this.calculateInputRightPadding()}px`},d=Object.assign({},f.defaultProps.borders,o),u="search-box__content-field",c=(0,i.default)("form-control",u,{[`${u}--top-border`]:d.top,[`${u}--right-border`]:d.right,[`${u}--bottom-border`]:d.bottom,[`${u}--left-border`]:d.left});return s.default.createElement("input",{"aria-labelledby":`${e}_label`,type:"search",name:r,placeholder:a,className:c,onKeyDown:this.handleKeyDown,onChange:n,onFocus:this.handleFocus,onBlur:this.handleBlur,value:t,id:e,autoFocus:!0,style:l})}renderTags(){const{tagData:e,onTagDelete:t,onTagClick:n,onToggleFilter:a}=this.props;return s.default.createElement("div",{className:"search-box__tags"},s.default.createElement(l.default,{onResize:this.onTagListResize},s.default.createElement(o.default,{onTagDelete:t,onTagClick:n,onHolderFocus:this.focusOnInput,tags:e,onSummary:a,maxSize:this.calculateSpaceForTags(),deletable:!0})))}renderEnterHint(){return s.default.createElement("div",{role:"presentation",className:"search-box__enter",onClick:e=>{e.stopPropagation(),e.preventDefault(),this.props.onSearch()}},a.default._t("Admin.ENTER","Enter"),"")}renderFilterButton(){const{expanded:e,onToggleFilter:t,formId:n}=this.props,o=(0,i.default)("btn--icon","font-icon-caret-down-two","search-box__filter-trigger",this.state.width<576?"search-box--no-label":"",{collapsed:!e}),l=this.state.width<576?"visually-hidden":"";return s.default.createElement(r.Button,{"aria-expanded":e,"aria-controls":n,"aria-label":a.default._t("Admin.ADVANCED","Advanced"),onClick:t,className:o,title:a.default._t("Admin.ADVANCED","Advanced")},s.default.createElement("span",{className:l},a.default._t("Admin.SEARCH_OPTIONS","Search options")))}renderHideButton(){const{id:e,onHide:t}=this.props;return s.default.createElement(r.Button,{onClick:t,title:a.default._t("Admin.CLOSE","Close"),"aria-label":a.default._t("Admin.CLOSE","Close"),className:"font-icon-cancel btn--no-text btn--icon-lg search-box__cancel","aria-controls":e,"aria-expanded":"true"})}render(){const{children:e,id:t,hideable:n,expanded:o,showFilters:d,dirty:u,clearable:c}=this.props,f=(0,i.default)("search-box",{"search-box--hideable":n,"search-box--not-hideable":!n,"search-box--has-focus":this.state.hasFocus,"search-box--has-not-focus":!this.state.hasFocus,"search-box--has-filters":d,"search-box--has-not-filters":!d,"search-box--compact":this.state.width<576,"search-box--expanded":o}),p=(u||!c)&&this.state.hasFocus;return s.default.createElement("div",{className:f,ref:e=>{this.nodeRef=e}},s.default.createElement(l.default,{onResize:this.onResize},s.default.createElement("div",{className:"search-box__group"},s.default.createElement(r.Label,{for:t,id:`${t}_label`,hidden:!0},a.default._t("Admin.SEARCH","Search")),this.renderTags(),this.renderInput(),p&&this.renderEnterHint(),e,s.default.createElement("div",{className:"icon font-icon-search"}),d&&this.renderFilterButton(),n&&this.renderHideButton())))}}t.Component=f,f.propTypes={onSearch:d.default.func,onToggleFilter:d.default.func,onHideFilter:d.default.func,onChange:d.default.func,onHide:d.default.func,onTagDelete:d.default.func,onTagClick:d.default.func,placeholder:d.default.string,expanded:d.default.bool,formId:d.default.string,id:d.default.string,searchText:d.default.string,hideable:d.default.bool,showFilters:d.default.bool,name:d.default.string,dirty:d.default.bool,clearable:d.default.bool,tagData:d.default.arrayOf(u.default)},f.defaultProps={placeholder:a.default._t("Admin.SEARCH","Search"),tagData:[],filters:{},formData:{},term:"",borders:{top:!1,right:!1,bottom:!0,left:!0}};t.default=f},84374:function(e,t,n){"use strict";var a=o(n(74692)),s=o(n(95815)),r=o(n(95093)),i=o(n(48779));function o(e){return e&&e.__esModule?e:{default:e}}n(38344),a.default.entwine("ss",e=>{e("input[type=datetime-local]").entwine({onadd(){if(i.default.inputtypes["datetime-local"])return;if(this.prop("disabled")||this.prop("readonly")||this.hasClass("hasDatepicker"))return;const t=e("<input/>",{type:"hidden",name:this.attr("name"),value:this.val()});this.parent().append(t),this.removeAttr("name"),r.default.locale(this.attr("lang"));const n=this.val();let a="";if(n){const e=(0,r.default)(n);e.isValid()&&(a=e.format("L LT"))}this.val(a);const o=s.default.inject(s.default._t("Admin.FormatExample","Example: {format}"),{format:(0,r.default)().endOf("month").format("L LT")});this.attr("placeholder",o),this.updateValue()},onchange(){this.updateValue()},updateValue(){const e=this.val();let t="";if(e){const n=(0,r.default)(e,["L LT",r.default.ISO_8601]);n.isValid()&&(t=n.format("YYYY-MM-DDTHH:mm:ss"))}this.parent().find("input[type=hidden]").val(t)}})})},84795:function(e,t,n){var a=n(82513),s=n(34160);void 0===s.SchemaActions&&(s.SchemaActions=a),e.exports=a},85068:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),r=(a=n(5556))&&a.__esModule?a:{default:a},i=n(73729),o=n(98307),l=n(27807);t.default=e=>{class t extends s.Component{componentDidMount(){const e=void 0===this.haveFetchedData,t=!!this.props.tabContext&&this.props.tabContext,n=!!t&&t.isOnActiveTab;this.haveFetchedData=!1,(e&&n||this.props.forceFetch)&&this.fetchDataFromEndpoint()}componentDidUpdate(e){const t=this.props.tabContext;(e.identifier!==this.props.identifier||!t||t.isOnActiveTab)&&this.fetchDataFromEndpoint()}fetchDataFromEndpoint(e=this.props){const{method:t,url:n}=e.data.readUsageEndpoint||{};this.haveFetchedData&&!this.props.forceFetch||e.loadUsedOn(e.identifier,t,n),this.haveFetchedData=!0}render(){return s.default.createElement(e,this.props)}}t.propTypes={identifier:r.default.string,loading:r.default.bool,data:r.default.oneOfType([r.default.array,r.default.shape({recordClass:r.default.string,recordId:r.default.oneOfType([r.default.string,r.default.number]),readUsageEndpoint:r.default.shape({url:r.default.string,method:r.default.string})})]),usedOn:r.default.array,forceFetch:r.default.bool};const n=(0,l.injectTabContext)(t),a=(0,i.connect)((e,t)=>{const{recordClass:n,recordId:a}=t.data,s=n&&a?`${n}#${a}`:"",r=e.usedOn;return{identifier:s,loading:r.loading.includes(s),usedOn:r.usedOn[s]||null,error:r.errors[s]||null}},{loadUsedOn:o.loadUsedOn})(n);return a.Component=n,a}},85085:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=d(n(23977)),s=d(n(95093)),r=d(n(48779)),i=d(n(95815)),o=d(n(5556)),l=n(45193);function d(e){return e&&e.__esModule?e:{default:e}}const u="LT";class c extends l.Component{getInputProps(){const e=i.default.inject(i.default._t("Admin.FormatExample","Example: {format}"),{format:(0,s.default)().endOf("month").format(u)}),t=this.asHTML5()?"time":"text";return{...super.getInputProps(),type:t,placeholder:e}}isMultiline(){return!1}hasNativeSupport(){return this.props.modernizr.inputtypes.time}convertToLocalised(e){let t="";if(e){const n=(0,s.default)(e,"HH:mm:ss");n.isValid()&&(t=n.format(u))}return t}convertToIso(e){let t="";if(e){const n=(0,s.default)(e,u);n.isValid()&&(t=n.format("HH:mm:ss"))}return t}}t.Component=c,c.propTypes={lang:o.default.string,modernizr:o.default.object,data:o.default.shape({html5:o.default.bool})},c.defaultProps={modernizr:r.default,data:{}};t.default=(0,a.default)(c)},85152:function(e,t,n){var a=n(86821),s=n(34160);void 0===s.Accordion&&(s.Accordion=a),e.exports=a},85281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=n(58702),r=o(n(46942)),i=o(n(5556));function o(e){return e&&e.__esModule?e:{default:e}}class l extends a.Component{getInputProps(){return{className:(0,r.default)(this.props.className,this.props.extraClass),id:this.props.id,name:this.props.name,type:"hidden",value:this.props.value||""}}render(){return a.default.createElement(s.Input,this.getInputProps())}}l.propTypes={id:i.default.string,extraClass:i.default.string,name:i.default.string.isRequired,value:i.default.any},l.defaultProps={className:"",extraClass:"",value:""};t.default=l},85841:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(46942)),s=l(n(69012)),r=n(53304),i=n(60906),o=l(n(59523));function l(e){return e&&e.__esModule?e:{default:e}}const d=e=>e;t.default=class{constructor(e,t){const n=e.state||{},a=n.fields||[];this.schema={...e,state:{...n,fields:[...a]}},this.mockGlobalState=(0,s.default)({},e.name,t)}getFieldByName(e){const t={fields:[],actions:[],...this.schema.schema},n=[...t.fields,...t.actions],a=(0,i.findField)(n,e),s=this.schema.state.fields.find(t=>t.name===e);return(0,i.schemaMerge)(a,s)}mutateField(e,t){const n=this.schema.state.fields||[],a=n.findIndex(t=>t.name===e);if(a<0)return this;const s=[...n],r=this.getFieldByName(e);return s[a]=(0,i.schemaMerge)(r,t(r)),this.schema.state.fields=s,this}updateField(e,t){return this.mutateField(e,e=>({...e,...t}))}updateFields(e){return Object.keys(e).forEach(t=>{this.updateField(t,e[t])}),this}setFieldComponent(e,t){return this.updateField(e,{component:t})}setFieldClass(e,t,n=!0){return this.mutateField(e,e=>{const s=(0,o.default)(e.extraClass);return s[t]=n,{...e,extraClass:(0,a.default)(s)}})}addFieldClass(e,t){return this.setFieldClass(e,t,!0)}removeFieldClass(e,t){return this.setFieldClass(e,t,!1)}getValues(){return(0,r.getFormValues)(this.schema.name,d)(this.mockGlobalState)||{}}getValue(e){return this.getValues()[e]}isDirty(){return(0,r.isDirty)(this.schema.name,d)(this.mockGlobalState)}isPristine(){return(0,r.isPristine)(this.schema.name,d)(this.mockGlobalState)}isValid(){return(0,r.isValid)(this.schema.name,d)(this.mockGlobalState)}isInvalid(){return(0,r.isInvalid)(this.schema.name,d)(this.mockGlobalState)}getState(){return this.schema}}},86313:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(96540))&&a.__esModule?a:{default:a};t.default=e=>{const t=`grid-field__row ${e.className}`;return s.default.createElement("tr",{tabIndex:0,className:t},e.children)}},86473:function(e,t,n){var a=n(81637),s=n(34160);void 0===s.ListGroup&&(s.ListGroup=a),e.exports=a},86713:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(96540)),s=i(n(5556)),r=n(40182);function i(e){return e&&e.__esModule?e:{default:e}}function o({containerClass:e}){const t=(0,r.v4)();return a.default.createElement("div",{className:e},a.default.createElement("div",{key:"overlay",className:"cms-content-loading-overlay ui-widget-overlay-light"}),a.default.createElement("div",{key:"spinner",className:"cms-content-loading-spinner"},a.default.createElement("div",{className:"spinner"},a.default.createElement("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"512",height:"297",viewBox:"0 0 512 297",className:"spinner__animation"},a.default.createElement("defs",null,a.default.createElement("path",{id:`spinner__animation__outline_right_${t}`,d:"M253 29L145 105C130 115 126 136 137 150C147 165 168 169 183 159L291 83C335 52 397 63 428 107C459 152 448 214 404 245L370 268C398 316 461 296 490 245C520 191 519 123 482 70C430 -4 327 -22 253 29Z"}),a.default.createElement("path",{id:`spinner__animation__outline_left_${t}`,d:"M258 266L366 191C381 180 385 160 374 145C364 130 343 127 328 137L220 212C176 244 114 233 83 188C52 144 63 82 107 51L141 27C113 -20 50 -0 21 51C-8 104 -7 172 29 226C81 300 184 318 258 266V266Z"}),a.default.createElement("clipPath",{id:`spinner__animation__mask_right_${t}`},a.default.createElement("use",{href:`#spinner__animation__outline_right_${t}`})),a.default.createElement("clipPath",{id:`spinner__animation__mask_left_${t}`},a.default.createElement("use",{href:`#spinner__animation__outline_left_${t}`}))),a.default.createElement("use",{className:"spinner__animation__empty",href:`#spinner__animation__outline_left_${t}`}),a.default.createElement("use",{className:"spinner__animation__empty",href:`#spinner__animation__outline_right_${t}`}),a.default.createElement("path",{d:"M 379,145 236,242 C 179,282 102,273 62,216 22,159 19,77 76,37 L 135,7",className:"spinner__animation__fill-left",clipPath:`url(#spinner__animation__mask_left_${t})`}),a.default.createElement("path",{d:"M 138,148 281,50 c 57,-39 129,-30 169,26 39,56 41,136 -14,178 l -47,40",className:"spinner__animation__fill-right",clipPath:`url(#spinner__animation__mask_right_${t})`}),a.default.createElement("path",{d:"M253 29L145 105C130 115 126 136 137 150C147 165 168 169 183 159L291 83C335 52 397 63 428 107C459 152 448 214 404 245L370 268C398 316 461 296 490 245C520 191 519 123 482 70C430 -4 327 -22 253 29Z"})))))}o.propTypes={containerClass:s.default.string},o.defaultProps={containerClass:"flexbox-area-grow"};t.default=o},86821:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(96540))&&a.__esModule?a:{default:a};t.default=e=>s.default.createElement("div",{className:"accordion",role:"tablist","aria-multiselectable":"true"},e.children)},87523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statuses=t.default=void 0;var a=l(n(96540)),s=l(n(46942)),r=l(n(5556)),i=l(n(1541)),o=l(n(95815));function l(e){return e&&e.__esModule?e:{default:e}}const d=t.statuses=["draft","modified","live","archived"],u=({status:e,className:t})=>{const n={className:(0,s.default)(t,"versioned-badge",`versioned-badge--${e}`),message:o.default._t(`ADMIN.${e.toUpperCase()}`,(r=e,r.replace(/^\w/,e=>e.toUpperCase()))),status:"default"};var r;return a.default.createElement(i.default,n)};u.propTypes={status:r.default.oneOf(d).isRequired,className:r.default.string};t.default=u},87835:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={TABS_ACTIVATE_TAB:"TABS_ACTIVATE_TAB"}},88140:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(73581))&&a.__esModule?a:{default:a};const r={loading:[],usedOn:{},errors:{}};t.default=function(e=r,t){const n=t&&t.payload&&t.payload.identifier;if(!n)return e;switch(t.type){case s.default.SAVE_USED_ON:{const a=t.payload.usedOn;return{...e,loading:e.loading.filter(e=>e!==n),usedOn:{...e.usedOn,[n]:a.usage}}}case s.default.LOAD_USED_ON:return e.loading.includes(n)?e:{...e,loading:[...e.loading,n],errors:Object.entries(e.errors).reduce((e,[t,a])=>t===n?e:{...e,[t]:a},{})};case s.default.LOAD_USED_ON_FAILED:{const a=t.payload.error;return{...e,loading:e.loading.filter(e=>e!==n),errors:{...e.errors,[n]:a}}}default:return e}}},88507:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=i(n(5556)),r=i(n(82548));function i(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(null,arguments)}const l=({toasts:e,onDismiss:t,onPause:n,onResume:s})=>{const[i,l]=(0,a.useState)(void 0),d=e=>()=>{i&&clearTimeout(i),l(setTimeout(e,100))},u=d(n),c=d(s),f={onMouseEnter:u,onFocus:u,onMouseLeave:c,onBlur:c};return a.default.createElement("div",o({className:"toasts","aria-live":"polite","aria-atomic":"true"},f),a.default.createElement("div",{className:"toasts__wrapper"},e.map(({id:e,...n})=>a.default.createElement(r.default,o({key:e},n,{onDismiss:()=>t(e)})))))};l.propTypes={toasts:s.default.arrayOf(s.default.shape(r.default.propTypes)).isRequired,onDismiss:s.default.func.isRequired,onPause:s.default.func.isRequired,onResume:s.default.func.isRequired},l.defaultProps={};t.default=l},88790:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e=o,t=null){const n=(0,s.default)(e,t,l),a=(e,t)=>e.filter(e=>e!==t),i=(e,t)=>{if(e.find(e=>e===t))return e;return[...e,t].sort()};switch(t.type){case r.default.TREEFIELD_SET_VISIBLE:return n(()=>({visible:t.payload.path}));case r.default.TREEFIELD_UPDATING_TREE:return n(e=>({loading:i(e.loading,u(t.payload.path)),failed:a(e.failed,u(t.payload.path))}));case r.default.TREEFIELD_UPDATED_TREE:return n(e=>({tree:d(e.tree,t.payload.path,t.payload.tree),loading:a(e.loading,u(t.payload.path)),failed:a(e.failed,u(t.payload.path))}));case r.default.TREEFIELD_UPDATE_FAILED:return n(e=>({loading:a(e.loading,u(t.payload.path)),failed:i(e.failed,u(t.payload.path))}));case r.default.TREEFIELD_SET_SEARCH:return n(e=>({...e,search:t.payload.search}));case r.default.TREEFIELD_ADD_SELECTED_VALUES:{const e=t.payload.values||[];return n(t=>({...t,selectedValues:[...t.selectedValues.filter(t=>!e.find(e=>e.id===t.id)),...e].sort((e,t)=>e.id-t.id)}))}default:return e}};var a=i(n(82229)),s=i(n(89919)),r=i(n(82126));function i(e){return e&&e.__esModule?e:{default:e}}const o=(0,a.default)({fields:{}}),l=(0,a.default)({visible:[],tree:{},loading:[],failed:[],search:"",selectedValues:[]});function d(e,t,n){if(0===t.length)return n;const[s,...r]=t;return e.children?(0,a.default)({...e,children:e.children.map(e=>e.id===s?d(e,r,n):e)}):e}function u(e){return e.length?e[e.length-1]:0}},89091:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0,t.hasFilters=E;var a=b(n(95815)),s=v(n(96540)),r=n(73729),i=n(28895),o=v(n(82513)),l=n(53304),d=n(97854),u=b(n(66104)),c=b(n(15042)),f=b(n(5556)),p=b(n(47549)),h=b(n(84326)),m=b(n(13765)),g=b(n(54663)),_=b(n(91699));function v(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return(v=function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i})(e,t)}function b(e){return e&&e.__esModule?e:{default:e}}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y.apply(null,arguments)}const w={NONE:"NONE",VISIBLE:"VISIBLE",EXPANDED:"EXPANDED"},C={NONE:"NONE",HIDEABLE:"HIDEABLE",TOGGLABLE:"TOGGLABLE"};function E(e){return e&&Object.keys(e).length>0}class O extends s.Component{constructor(e){super(e),this.expand=this.expand.bind(this),this.handleChange=this.handleChange.bind(this),this.getData=this.getData.bind(this),this.doSearch=this.doSearch.bind(this),this.focusInput=this.focusInput.bind(this),this.focusFirstFormField=this.focusFirstFormField.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.toggle=this.toggle.bind(this),this.open=this.open.bind(this),this.searchTermIsDirty=this.searchTermIsDirty.bind(this),this.clearFilters=this.clearFilters.bind(this),this.clearSearchBox=this.clearSearchBox.bind(this),this.clearFormFilter=this.clearFormFilter.bind(this),this.focusFormFilter=this.focusFormFilter.bind(this),this.formatTagData=this.formatTagData.bind(this),this.onClickOut=this.onClickOut.bind(this);const t=e.term||e.filters&&e.filters[`${e.filterPrefix}${e.name}`]||"";this.state={display:e.display,searchText:t,initialSearchText:t,forceLoadForm:!1}}componentDidMount(){this.setOverrides(this.props)}componentWillUnmount(){this.setOverrides()}setOverrides(e){if(e&&(!E(e.filters)||this.props.formSchemaUrl!==e.formSchemaUrl)){const t=e&&e.formSchemaUrl||this.props.formSchemaUrl;t&&this.props.actions.schema.setSchemaStateOverrides(t,null)}if(e&&E(e.filters)&&e.formSchemaUrl){const t=e.filters||{},n={fields:Object.keys(t).map(e=>({name:e,value:t[e]}))};this.props.actions.schema.setSchemaStateOverrides(e.formSchemaUrl,n)}}getData(e=!1){const{name:t,filterPrefix:n,formData:a}=this.props,{searchText:s}=this.state,r={};return Object.keys(a).forEach(e=>{const t=a[e];t&&(r[e]=t,"ID"===e.substring(e.length-2)&&"object"==typeof t&&t.hasOwnProperty("value")&&(r[e]=t.value))}),!e&&s&&void 0===a[`${n}${t}`]&&(r[`${n}${t}`]=s.trim()),r}handleChange(e){const t=e.target.value;this.state.searchText!==t&&this.setState({searchText:t});const{schemaName:n,name:a,filterPrefix:s,actions:r,formData:i}=this.props;void 0!==i[`${s}${a}`]&&r.reduxForm.change(n,`${s}${a}`,t)}focusInput(){if(this.state.display===w.NONE)return;const e=this.nodeRef.container;if(!e)return;const t=e.querySelector(".search-box__content-field");t!==document.activeElement&&(t.focus(),t.select&&t.select())}focusFirstFormField(e="input:not([type=hidden]), textarea, select, button"){if(this.state.display!==w.EXPANDED)return;const t=this.nodeRef.container;if(!t)return;const n=t.querySelector(".search-form");if(!n)return;const a=n.querySelector(e);a&&(a.focus(),a.select&&a.select())}clearFormData(e){""!==this.state.searchText&&this.setState({searchText:""});const t=e&&e.formSchemaUrl||this.props.formSchemaUrl;if(t){const n=e&&e.identifier||this.props.identifier;this.props.actions.schema.setSchemaStateOverrides(t,{fields:[]}),this.props.actions.reduxForm.reset(n)}}clearFormFilter(e){const t=this.props.tagData[e],n={[e]:void 0},{schemaName:a,filters:s}=this.props;this.props.actions.reduxForm.change(a,e,""),this.setOverrides({...this.props,filters:{...s,[e]:void 0}}),Array.isArray(t.linkedFields)&&t.linkedFields.forEach(e=>{n[e]=void 0}),this.doSearch(n)}focusFormFilter(e){const t=this.props.tagData[e].focusSelector||`[name=${e}]`;this.expand(),setTimeout(()=>this.focusFirstFormField(t),50)}onClickOut(e){const t=e.target,n=window.jQuery(this.nodeRef.container);if(t.matches("#filters-button, .font-icon-search, .filter-open")&&n.is(":visible")){const e=window.jQuery(t).closest(".grid-field"),a=n.closest(".grid-field");e.length>0&&a.length>0?e[0]===a[0]&&this.show():this.show()}}open(){this.show(),this.focusInput()}hide(){this.clearSearchBox(),this.props.onHide?this.props.onHide():this.state.display!==w.NONE&&this.setState({display:w.NONE})}show(){this.setState({forceLoadForm:!0}),this.state.display!==w.VISIBLE&&this.setState({display:w.VISIBLE});const{schemaName:e,formData:t,name:n,actions:a}=this.props;void 0!==t[n]&&a.reduxForm.change(e,n,this.state.searchText)}expand(){this.state.display!==w.EXPANDED&&this.setState({display:w.EXPANDED})}toggle(){switch(this.state.display){case w.VISIBLE:this.expand(),setTimeout(this.focusFirstFormField,50);break;case w.EXPANDED:this.show()}}searchTermIsDirty(){const{searchText:e,initialSearchText:t}=this.state;return e.trim()!==t.trim()}doSearch(e={}){const{name:t,filterPrefix:n}=this.props,a={},s=this.getData();Object.entries(s).forEach(([r,i])=>{let o=r,l=i;e.hasOwnProperty(r)&&(l=e[r]),n.length>0&&r.startsWith(n)&&(o=r.substring(n.length)),(!n.length>0||r!==t||void 0===s[`${n}${t}`])&&(a[o]=l)});const r=a[t]||"";this.state.display===w.VISIBLE&&this.state.initialSearchText===r&&this.state.searchText===r||this.setState({display:w.VISIBLE,initialSearchText:r,searchText:r}),this.props.onSearch(a)}clearFilters(){this.clearFormData(),this.focusFirstFormField()}clearSearchBox(){this.clearFormData(),this.focusInput()}formatTagData(){const{tagData:e,name:t,filterPrefix:n}=this.props,a=Object.assign({},e),s=`${n}${t}`;return a&&a[s]&&delete a[s],a?Object.values(a).map(({key:e,label:t,value:n})=>({key:e,label:t,value:n})):[]}render(){const{formSchemaUrl:e,forceFilters:t,id:n,displayBehavior:a,identifier:r,formIsDirty:i,tagData:o,name:l,...d}=this.props;if(this.state.display===w.NONE)return a===C.TOGGLABLE?s.default.createElement(g.default,{onToggle:this.show}):s.default.createElement("div",null);const u=`${n}_ExtraFields`,c=this.state.searchText,f=this.state.display===w.EXPANDED,_=[C.HIDEABLE,C.TOGGLABLE].includes(a),v=i||this.searchTermIsDirty(),b=this.getData(),E=Object.keys(b).length>0;return s.default.createElement(p.default,{onClickOut:this.onClickOut,className:"search",ref:e=>{this.nodeRef=e}},s.default.createElement(h.default,y({},d,{name:`SearchBox__${l}`,onChange:this.handleChange,onSearch:this.doSearch,onToggleFilter:this.toggle,onHideFilter:this.show,onHide:this.hide,onClear:this.clearSearchBox,searchText:c,hideable:_,expanded:f,id:`${n}_searchbox`,showFilters:Boolean(t||e),dirty:v,clearable:E,onTagDelete:this.clearFormFilter,onTagClick:this.focusFormFilter,tagData:this.formatTagData()}),s.default.createElement(m.default,{id:u,identifier:r,expanded:f,forceLoadForm:this.state.forceLoadForm,formSchemaUrl:e,onSearch:this.doSearch,onClear:this.clearFilters,clearable:E})))}}t.Component=O,O.propTypes={onSearch:f.default.func,onHide:f.default.func,id:f.default.string.isRequired,display:f.default.oneOf(Object.values(w)),formSchemaUrl:f.default.string,filters:f.default.object,formData:f.default.object,placeholder:f.default.string,displayBehavior:f.default.oneOf(Object.values(C)),term:f.default.string,name:f.default.string,filterPrefix:f.default.string,forceFilters:f.default.bool,formIsDirty:f.default.bool,identifier:f.default.string,schemaName:f.default.string,tagHandlers:f.default.object,borders:f.default.shape({top:f.default.bool,right:f.default.bool,bottom:f.default.bool,left:f.default.bool})},O.defaultProps={placeholder:a.default._t("Admin.SEARCH","Search"),display:w.VISIBLE,displayBehavior:C.NONE,filters:{},formData:{},term:"",filterPrefix:"",forceFilters:!1,name:"searchTerm",identifier:"Admin.SearchForm"};t.default=(0,r.connect)(function(e,t){const n=e.form.formSchemas[t.formSchemaUrl];if(!n||!n.name)return{formData:{}};const a=n.name,s=(0,u.default)((0,c.default)(e),a),r=s&&s.values||{},i=(0,_.default)(n,t.filters,t.tagHandlers||{});return{formData:r,formIsDirty:(0,d.isDirty)(a,c.default)(e),schemaName:a,tagData:i}},function(e){return{actions:{schema:(0,i.bindActionCreators)(o,e),reduxForm:(0,i.bindActionCreators)({reset:l.reset,initialize:l.initialize,change:l.change},e)}}})(O)},89513:function(e,t,n){"use strict";var a,s,r=(a=n(20181))&&a.__esModule?a:{default:a};(s=jQuery).fn.changetracker=function(e){var t=this;if(this.length>1)return this.each(function(t,n){this.changetracker(e)}),this;this.defaults={fieldSelector:':input:not(:button,[type="submit"],[type="search"],.gridstate)',ignoreFieldSelector:"",changedCssClass:"changed"};var n=s.extend({},this.defaults,e);if(n.ignoreFieldSelector=`${n.ignoreFieldSelector},.no-change-track,.search-box *,.cms-navigator *`.replace(/^,/,""),this.initialize=function(){s.meta&&(n=s.extend({},n,this.data())),t.data("dirty",!1);var e=function(e){if(e.is(":radio")){var n=t.find(":input[name="+e.attr("name")+"]:checked");return n.length?n.val():0}if(e.is(":checkbox"))return e.is(":checked")?1:0;var a=e.val();return e&&e.is("textarea.htmleditor")&&(a=e.entwine("ss").getEditor().prepValueForChangeTracker(a)),a},a=function(){var n=[];return t.getFields().each(function(){var t=s(this).prop("name");t&&n.push({name:t,value:e(s(this))})}),JSON.stringify(n)},i=a(),o=(0,r.default)(function(e){if(!e||!s(e.target).is(n.ignoreFieldSelector)){var r,o=(r=a(),t.data("dirty")||i!==r);t.toggleClass(n.changedCssClass,o)}},250,{leading:!0,trailing:!0}),l=(0,r.default)(function(a){var r=s(a.target),i=r.data("changetracker.origVal");if(!r.is(n.ignoreFieldSelector)){var l=e(r);null===i||l!==i?(r.addClass(n.changedCssClass),t.addClass(n.changedCssClass)):(r.removeClass(n.changedCssClass),r.is(":radio")&&t.find(":radio[name="+r.attr("name")+"]").removeClass(n.changedCssClass),o())}},250,{leading:!0,trailing:!0});t.on("click.changetracker",n.fieldSelector,l),t.on("keyup.changetracker",n.fieldSelector,l),t.on("change.changetracker",n.fieldSelector,l),t.on("change.changetracker",o),this.getFields().each(function(){var t=e(s(this));s(this).data("changetracker.origVal",t)}),t.on("dirty.changetracker",function(){t.data("dirty",!0),o()}),this.data("changetracker",!0)},this.destroy=function(){this.reset(),this.off(".changetracker").removeData("changetracker")},this.reset=function(){this.getFields().each(function(){t.resetField(this)}),this.data("dirty",!1).removeClass(n.changedCssClass)},this.resetField=function(e){return s(e).removeData("changetracker.origVal").removeClass(n.changedCssClass)},this.getFields=function(){return this.find(n.fieldSelector).not(n.ignoreFieldSelector)},"string"==typeof arguments[0]){var a=Array.prototype.slice.call(arguments);return a.splice(0,1),this[arguments[0]].apply(this,a)}return t=this,setTimeout(function(){t.initialize()},0),this}},89919:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n={}){return a=>{if(!t.payload.fieldId)throw new Error("Invalid fieldId");const r=e.fields||{},i=r[t.payload.fieldId]?e.fields[t.payload.fieldId]:n;return(0,s.default)(Object.assign({},e,{fields:Object.assign({},r,{[t.payload.fieldId]:Object.assign({},i,a(i))})}))}};var a,s=(a=n(82229))&&a.__esModule?a:{default:a}},90277:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SINGLE_EMPTY_VALUE=t.MULTI_EMPTY_VALUE=t.ConnectedTreeDropdownField=t.Component=void 0,Object.defineProperty(t,"findTreeByID",{enumerable:!0,get:function(){return v.findTreeByID}}),Object.defineProperty(t,"findTreeByPath",{enumerable:!0,get:function(){return v.findTreeByPath}}),Object.defineProperty(t,"findTreePath",{enumerable:!0,get:function(){return v.findTreePath}});var a=y(n(96540)),s=b(n(5556)),r=n(73729),i=n(28895),o=b(n(71479)),l=b(n(28181)),d=b(n(95815)),u=b(n(23977)),c=b(n(60328)),f=y(n(46005)),p=y(n(47193)),h=b(n(69161)),m=b(n(88835)),g=n(58702),_=n(80328),v=n(54583);function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return(y=function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i})(e,t)}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},w.apply(null,arguments)}const C=t.MULTI_EMPTY_VALUE="unchanged",E=t.SINGLE_EMPTY_VALUE=0,O=({children:e})=>a.default.createElement("span",{className:"treedropdownfield__option-title--highlighted"},e);class S extends a.Component{constructor(e){super(e),this.render=this.render.bind(this),this.renderInput=this.renderInput.bind(this),this.renderMenuList=this.renderMenuList.bind(this),this.renderOption=this.renderOption.bind(this),this.formatOptionLabel=this.formatOptionLabel.bind(this),this.getBreadcrumbs=this.getBreadcrumbs.bind(this),this.getDropdownOptions=this.getDropdownOptions.bind(this),this.getVisibleTree=this.getVisibleTree.bind(this),this.handleBack=this.handleBack.bind(this),this.handleChange=this.handleChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleSearchChange=this.handleSearchChange.bind(this),this.handleSearchReset=this.handleSearchReset.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.callFetch=this.callFetch.bind(this),this.lazyLoad=this.lazyLoad.bind(this),this.filterOption=this.filterOption.bind(this),this.noOptionsMessage=this.noOptionsMessage.bind(this),this.state={opened:!1},this.searchTimer=null}componentDidMount(){this.props.readOnly||this.props.disabled||this.initialise();const e=this.props.id,t=(this.props.data.multiple?this.props.data.valueObjects||[]:[this.props.data.valueObject]).filter(e=>e);t.length&&this.props.actions.treeDropdownField.addSelectedValues(e,t)}componentDidUpdate(e){if(this.props.readOnly||this.props.disabled)return;let t=!1,n=[];this.props.search!==e.search&&(t=!0,n=this.props.visible),e.data.urlTree!==this.props.data.urlTree&&(t=!0),e.data.cacheKey!==this.props.data.cacheKey&&(t=!0),t&&this.loadTree(n,this.props.search,this.props)}getVisibleTree(){return this.props.findTreeByPath(this.props.tree,this.props.visible)}getBreadcrumbs(e=this.props.visible){const t=[];if(!e)return t;let n=this.props.tree;for(const a of e){if(!n.children)break;if(n=n.children.find(e=>e.id===a),!n)break;t.push(n)}return t}getDropdownOptions(){const e=this.props.value,t=this.getVisibleTree();let n=t?[...t.children]:[];const a=this.props.selectedValues.filter(t=>t.id===e||Array.isArray(e)&&e.find(e=>e===t.id));return!this.state.opened&&this.props.data.showSelectedPath?n=a.map(e=>({...e,title:e.titlePath||e.title})):a.length&&(n=[...a.filter(e=>!n.find(t=>t.id===e.id)),...n]),n.unshift({id:this.props.data.multiple?"":E,title:this.props.data.hasEmptyDefault?this.props.data.emptyString:null,disabled:!n.length||!this.props.data.hasEmptyDefault}),n}getPath(e){const t=this.props.findTreePath(this.props.tree,e,this.props.data.treeBaseId);return this.getBreadcrumbs(t).reduce((e,t)=>`${e}${t.contextString||""}${t.title}/`,"")}initialise(){return this.loadTree([],this.props.search).then(e=>{let t=[];!this.props.data.multiple&&this.props.value&&(t=this.props.findTreePath(e,this.props.value,this.props.data.treeBaseId),t?t.pop():t=[]),this.props.actions.treeDropdownField.setVisible(this.props.id,t)})}callFetch(e,t="",n=this.props){const a=m.default.parse(n.data.urlTree,!0);n.data.showSearch&&t.length&&(a.query.search=t,a.query.flatList="1"),e.length?a.query.ID=e[e.length-1]:!n.data.multiple&&n.value&&(a.query.forceValue=n.value),a.query.format="json",a.search=null;const s=m.default.format(a);return this.props.fetch(s,{credentials:"same-origin"}).then(e=>e.json())}lazyLoad(e){if(e.find(e=>this.props.loading.indexOf(e)>-1||this.props.failed.indexOf(e)>-1))return Promise.resolve({});const t=this.props.findTreeByPath(this.props.tree,e);return t&&(0===t.count||t.children.length)?Promise.resolve({}):this.loadTree(e)}loadTree(e,t="",n=this.props){return n.actions.treeDropdownField.beginTreeUpdating(n.id,e),this.callFetch(e,t,n).then(t=>(n.actions.treeDropdownField.updateTree(n.id,e,t),t)).catch(t=>{if(n.actions.treeDropdownField.updateTreeFailed(n.id,e),"function"==typeof n.onLoadingError)return n.onLoadingError({errors:[{value:t.message,type:"error"}]});throw t})}hasSearch(){return this.props.data.showSearch&&Boolean(this.props.search)}filterOption(e,t=""){const n=this.getVisibleTree();if((e.value===E||""===e.value)&&(!this.props.data.hasEmptyDefault||this.props.visible.length||this.hasSearch()))return!1;const a=e.label&&e.label.toLocaleLowerCase(),s=t.toLocaleLowerCase();return s?a&&a.includes(s):!n||!e.value||n.children.find(t=>t.id===e.value)}handleOpen(){this.setState({opened:!0}),this.handleSearchReset()}handleClose(){this.setState({opened:!1})}handleSearchReset(){clearTimeout(this.searchTimer),this.props.actions.treeDropdownField.setSearch(this.props.id,"")}handleSearchChange(e){clearTimeout(this.searchTimer),this.searchTimer=setTimeout(()=>{this.props.actions.treeDropdownField.setSearch(this.props.id,e)},500)}handleChange(e){let t=null;if(this.handleSearchReset(),this.props.data.multiple){if(t=C,e&&e.length){const n=e&&e.filter((t,n)=>e.findIndex(e=>e.id===t.id)===n);t=n.map(e=>e.id),this.props.actions.treeDropdownField.addSelectedValues(this.props.id,n)}}else{const n=e?e.id:null;let a=(this.getVisibleTree()||this.props.tree).children.find(e=>e.id===n);a&&(this.props.data.showSelectedPath&&(a={...a,titlePath:this.getPath(n)}),this.props.actions.treeDropdownField.addSelectedValues(this.props.id,[a])),t=n||E}"function"==typeof this.props.onChange&&this.props.onChange(t)}handleNavigate(e,t){if(this.hasSearch())return;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),e.preventDefault();let n=this.props.findTreePath(this.props.tree,t,this.props.data.treeBaseId);n||(n=this.props.visible.slice(0),n.push(t)),this.lazyLoad(n),this.props.actions.treeDropdownField.setVisible(this.props.id,n)}handleKeyDown(e){if(this.hasSearch())return void(27===e.keyCode&&this.handleSearchReset(e));const t=this.selectField.state.focusedOption;if(t)switch(e.keyCode){case 37:this.handleBack(e);break;case 39:t.count&&this.handleNavigate(e,t.id)}}handleBack(e){if(this.hasSearch())return;e.stopPropagation(),e.preventDefault();let t=this.props.visible;t.length&&(t=t.slice(0,t.length-1)),this.lazyLoad(t),this.props.actions.treeDropdownField.setVisible(this.props.id,t)}renderInput({children:e,...t}){return t.id=this.props.id,a.default.createElement(f.components.Input,t,e)}renderBreadcrumbs(e,{cx:t,getStyles:n,getClassNames:s,...r}){if(0===e.length)return null;e=e.map(e=>e.title).join(" / ");const i=this.hasSearch()?"font-icon-search":"font-icon-left-open-big",l=t({option:!0,breadcrumbs:!0},s("option",{})),d=o.default.div(n("option",r));return a.default.createElement(d,{className:l,onClick:this.handleBack,role:"button",tabIndex:0},a.default.createElement("button",{type:"button",className:"treedropdownfield__breadcrumbs-button"},a.default.createElement("span",{className:`icon ${i}`})),a.default.createElement("span",{className:"treedropdownfield__breadcrumbs-crumbs flexbox-area-grow"},e))}renderMenuList({children:e,...t}){const n=this.getBreadcrumbs();return a.default.createElement(f.components.MenuList,t,this.renderBreadcrumbs(n,t),e)}renderOption({children:e,...t}){let n=null;const s=t.data;if(s.count&&!this.hasSearch()){const e=e=>this.handleNavigate(e,s.id);n=a.default.createElement("button",{type:"button",className:"treedropdownfield__option-button fill-width",onClick:e,onKeyDown:e=>this.handleKeyDown(e),onTouchStart:e},a.default.createElement("span",{className:"treedropdownfield__option-count-icon font-icon-right-open-big"}))}let r=null;return this.hasSearch()&&(r=s.contextString,r||!this.props.data.hasEmptyDefault||this.props.visible.length||(r=this.props.data.emptyString)),a.default.createElement(f.components.Option,t,a.default.createElement("span",{className:"treedropdownfield__option-title-box flexbox-area-grow fill-height"},a.default.createElement("span",{className:"treedropdownfield__option-title"},e),r&&a.default.createElement("span",{className:"treedropdownfield__option-context"},r)),n)}renderReadOnly(){const e={id:this.props.id,readOnly:this.props.readOnly,disabled:this.props.disabled},t=this.props.extraClass?`treedropdownfield ${this.props.extraClass}`:"treedropdownfield";let n=this.props.data.hasEmptyDefault?this.props.data.emptyString:"";const s=this.props.selectedValues;if(this.props.data.multiple){n=this.props.value.map(e=>s.find(t=>t.id===e)||e).map(e=>e.title).join(", ")}else{const e=s.find(e=>e.id===this.props.value);n=this.props.value,e&&"string"==typeof e.title&&(n=e.title)}return a.default.createElement("div",{className:t},a.default.createElement("span",{className:"treedropdownfield__title",role:"textbox","aria-readonly":"true",tabIndex:"0"},n),a.default.createElement(g.Input,w({type:"hidden",name:this.props.name,value:this.props.value},e)))}formatOptionLabel(e){const{title:t}=e;return this.props.search.length?(0,_.mapHighlight)(t||"",this.props.search,O):t}noOptionsMessage({inputValue:e}){const t=this.getVisibleTree()||{};return this.props.failed.indexOf(t.id||0)>=0?d.default._t("Admin.TREEDROPDOWN_FAILED","Failed to load"):e||!t.id?d.default._t("Admin.TREEDROPDOWN_NO_OPTIONS","No options"):d.default._t("Admin.TREEDROPDOWN_NO_CHILDREN","No children")}render(){if(this.props.readOnly||this.props.disabled)return this.renderReadOnly();const e=this.props.extraClass?`treedropdownfield ${this.props.extraClass}`:"treedropdownfield",t=this.getDropdownOptions(),n=Array.isArray(this.props.value)?this.props.value:[this.props.value];let s=this.props.selectedValues.filter(e=>n.includes(e.id));s.length||(s=t.filter(e=>n.includes(e.id))),!s.length&&this.props.data.hasEmptyDefault&&(s=t[0]);const r=void 0!==this.props.data.showSearch&&this.props.data.showSearch,i={Input:this.renderInput,MenuList:this.renderMenuList,Option:this.renderOption},o=this.getVisibleTree()||{},u=this.props.loading.indexOf(o.id||0)>=0;return a.default.createElement(l.default,null,a.default.createElement(f.default,{isSearchable:r,isMulti:this.props.data.multiple,isClearable:!0,className:e,name:this.props.name,options:t,delimiter:",",components:i,formatOptionLabel:this.formatOptionLabel,filterOption:this.filterOption,onChange:this.handleChange,onMenuOpen:this.handleOpen,onMenuClose:this.handleClose,onKeyDown:this.handleKeyDown,onInputChange:this.handleSearchChange,isLoading:u,loadingMessage:()=>d.default._t("Admin.TREEDROPDOWN_LOADING","Loading..."),noOptionsMessage:this.noOptionsMessage,value:s,ref:e=>{this.selectField=e},placeholder:this.props.data.emptyString,getOptionLabel:({title:e})=>e,getOptionValue:({id:e})=>e,classNamePrefix:"treedropdownfield",classNames:{option:()=>"fill-width"},isOptionDisabled:e=>e.disabled}))}}t.Component=S,S.propTypes={className:s.default.string,extraClass:s.default.string,id:s.default.string,name:s.default.string.isRequired,onChange:s.default.func,value:s.default.oneOfType([s.default.string,s.default.number,s.default.array]),readOnly:s.default.bool,disabled:s.default.bool,tree:s.default.shape(h.default.propTypes),findTreeByPath:s.default.func,findTreePath:s.default.func,visible:s.default.array,loading:s.default.array,failed:s.default.array,selectedValues:s.default.array,data:s.default.shape({cacheKey:s.default.string,urlTree:s.default.string.isRequired,emptyString:s.default.string,valueObject:s.default.shape(h.default.propTypes),valueObjects:s.default.arrayOf(s.default.shape(h.default.propTypes)),hasEmptyDefault:s.default.bool,showSearch:s.default.bool,multiple:s.default.bool,showSelectedPath:s.default.bool,treeBaseId:s.default.number}),onLoadingError:s.default.func,search:s.default.string,actions:s.default.shape({treeDropdownField:s.default.object}),fetch:s.default.func},S.defaultProps={value:"",extraClass:"",className:"",tree:{},visible:[],loading:[],failed:[],findTreeByPath:v.findTreeByPath,findTreePath:v.findTreePath,fetch:c.default};const T=t.ConnectedTreeDropdownField=(0,r.connect)(function(e,t){const n=t.id,a=e.treeDropdownField.fields[n]?e.treeDropdownField.fields[n]:{tree:{},visible:[],loading:[],failed:[],search:"",selectedValues:[]};let s=t.value;return t.data.multiple&&t.value===C&&(s=[]),t.data.multiple||t.value||(s=E),{...a,value:s}},function(e){return{actions:{treeDropdownField:(0,i.bindActionCreators)(p,e)}}})(S);t.default=(0,u.default)(T)},90420:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=v(n(14269)),s=n(28895),r=n(53304),i=v(n(21500)),o=v(n(76958)),l=v(n(47646)),d=v(n(76606)),u=v(n(88790)),c=v(n(71916)),f=v(n(64038)),p=v(n(29950)),h=v(n(88140)),m=v(n(26105)),g=v(n(98360)),_=v(n(53896));function v(e){return e&&e.__esModule?e:{default:e}}t.default=(e={})=>{const t=(0,s.combineReducers)({formState:r.reducer,formSchemas:o.default});a.default.reducer.registerMany({config:i.default,form:t,records:l.default,breadcrumbs:d.default,treeDropdownField:u.default,tabs:c.default,mobileMenu:f.default,unsavedForms:p.default,usedOn:h.default,viewMode:g.default,toasts:_.default,...e}),a.default.transform("admin",e=>{e.reducer("form",m.default)})}},90473:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SET_BREADCRUMBS:"SET_BREADCRUMBS"}},90584:function(e,t,n){var a=n(56091),s=n(34160);void 0===s.FormBuilderModal&&(s.FormBuilderModal=a),e.exports=a},90990:function(e,t,n){var a=n(20777),s=n(34160);void 0===s.GridFieldTable&&(s.GridFieldTable=a),e.exports=a},91484:function(e,t,n){var a=n(75564),s=n(34160);void 0===s.Router&&(s.Router=a),e.exports=a},91621:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=o(n(23977)),r=n(58702),i=o(n(5556));function o(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(null,arguments)}class d extends a.Component{getInputProps(){return{className:`${this.props.className} ${this.props.extraClass}`,id:this.props.id,name:this.props.name}}render(){return a.default.createElement(r.Input,l({plaintext:!0,tag:"p",dangerouslySetInnerHTML:{__html:this.props.value}},this.getInputProps()))}}t.Component=d,d.propTypes={id:i.default.string,name:i.default.string.isRequired,extraClass:i.default.string,value:i.default.string},d.defaultProps={extraClass:"",className:""};t.default=(0,s.default)(d)},91667:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setConfig=function(e){return{type:s.default.SET_CONFIG,payload:{config:e}}};var a,s=(a=n(78155))&&a.__esModule?a:{default:a}},91699:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(41048))&&a.__esModule?a:{default:a};const r=(e,{key:t,value:n,label:a})=>`${e}${a.toLowerCase()||t} ${n||""} `;t.default=(e,t,n={})=>{if(e.metadata.loading)return{};let a;const i=n=>{const s={key:n.name,label:n.title,value:t[n.name]};let r;return r="function"==typeof a[`#${s.key}`]?a[`#${s.key}`]:"function"==typeof a[n.schemaType]?a[n.schemaType]:a.default,r(s,n,e,t)};a=Object.assign({},s.default,{Structural:(e,t)=>{const{children:n}=t;if(!Array.isArray(n)||0===n.length)return!1;const a=n.map(i).filter(e=>!1!==e).reduce(r,"").trim(),s=n.map(e=>e.name),o=`[name=${n[0].name}]`;return!!a&&Object.assign({},e,{value:a,linkedFields:s,focusSelector:o})}},n);const o=e.schema.fields.map(i).filter(e=>!1!==e),l={};return o.forEach(e=>{l[e.key]=e}),l}},92030:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=i(n(94408)),r=i(n(53692));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t=s.default){class n extends a.Component{getChildContext(){const{component:e,form:n}=t;return{injector:{get:e.get.bind(e),validate:n.getValidation.bind(n)}}}render(){return a.default.createElement(e,this.props)}}return n.childContextTypes=r.default,n}},92077:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(96540)),s=l(n(88507)),r=n(73729),i=n(28895),o=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(16679));function l(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.connect)(({toasts:{toasts:e}})=>({toasts:e}),e=>({actions:(0,i.bindActionCreators)(o,e)}))(({toasts:e,actions:{dismiss:t,pause:n,resume:r}})=>a.default.createElement(s.default,{toasts:e,onDismiss:t,onPause:n,onResume:r}))},92797:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=r(n(23977)),s=r(n(55239));function r(e){return e&&e.__esModule?e:{default:e}}class i extends s.default{getInputProps(){const e=super.getInputProps();return Object.assign(e,{type:"number"}),e}}t.Component=i;t.default=(0,a.default)(i)},93476:function(e,t,n){var a=n(3600),s=n(34160);void 0===s.ReactRouteRegister&&(s.ReactRouteRegister=a),e.exports=a},93772:function(e,t,n){var a=n(99237),s=n(34160);void 0===s.FileSchemaModalHandler&&(s.FileSchemaModalHandler=a),e.exports=a},94408:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(10712)),s=o(n(42081)),r=o(n(24596)),i=o(n(50010));function o(e){return e&&e.__esModule?e:{default:e}}const l=(0,a.default)();l.register("component",(0,s.default)()),l.register("reducer",(0,r.default)()),l.register("form",(0,i.default)());t.default=l},94571:function(e,t,n){var a=n(99197),s=n(34160);void 0===s.Tip&&(s.Tip=a),e.exports=a},95815:function(e){"use strict";e.exports=i18n},95988:function(e,t,n){"use strict";var a,s=(a=n(74692))&&a.__esModule?a:{default:a};n(62930),n(54951);var r=function(e){var t=(0,s.default)((0,s.default)(this).contents()).find(".message");if(t&&t.html()){var n=(0,s.default)(window.parent.document).find("#Form_EditForm_Members").get(0);n&&n.refresh();var a=(0,s.default)(window.parent.document).find(".cms-tree").get(0);a&&a.reload()}};(0,s.default)("#MemberImportFormIframe, #GroupImportFormIframe").entwine({onadd:function(){this._super(),(0,s.default)(this).on("load",r)}}),s.default.entwine("ss",function(e){e(".permissioncheckboxset .checkbox[value=ADMIN]").entwine({onadd:function(){this.toggleCheckboxes(),this._super()},onclick:function(e){this.toggleCheckboxes()},toggleCheckboxes:function(){var t=this.parents(".field:eq(0)").find(".checkbox").not(this);this.is(":checked")?t.each(function(){e(this).data("SecurityAdmin.oldChecked",e(this).is(":checked")),e(this).data("SecurityAdmin.oldDisabled",e(this).is(":disabled")),e(this).prop("disabled",!0),e(this).prop("checked",!0)}):t.each(function(){e(this).prop("checked",e(this).data("SecurityAdmin.oldChecked")),e(this).prop("disabled",e(this).data("SecurityAdmin.oldDisabled"))})}})})},96865:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schemaPropType=t.default=t.basePropTypes=t.Component=void 0;var a=c(n(96540)),s=u(n(5556)),r=u(n(84010)),i=c(n(60906)),o=n(18574),l=u(n(32613)),d=n(14269);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return(c=function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i})(e,t)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(null,arguments)}class p extends a.Component{constructor(e){super(e);const t=e.schema.schema;this.state={submittingAction:null},this.submitApi=l.default.createEndpointFetcher({url:t.attributes.action,method:t.attributes.method}),this.mapActionsToComponents=this.mapActionsToComponents.bind(this),this.mapFieldsToComponents=this.mapFieldsToComponents.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleAction=this.handleAction.bind(this),this.buildComponent=this.buildComponent.bind(this),this.validateForm=this.validateForm.bind(this)}getComponent({name:e,schemaComponent:t,schemaType:n}){const{identifier:a,getCustomFields:s}=this.props;if(s){const t=s(n,`${a}.${e}`);if(t)return t}return null!==t?this.context.injector.get(t,`${a}.${e}`):this.getComponentForDataType(n,e)}getComponentForDataType(e,t){const{identifier:n}=this.props,a=e=>this.context.injector.get(e,`${n}.${t}`);switch(e){case"Integer":case"Decimal":return a("NumberField");case"String":case"Text":return a("TextField");case"Date":return a("DateField");case"Time":return a("TimeField");case"Datetime":return a("DatetimeField");case"Hidden":return a("HiddenField");case"SingleSelect":return a("SingleSelectField");case"Custom":return a("GridField");case"Structural":return a("CompositeField");case"Boolean":return a("CheckboxField");case"MultiSelect":return a("CheckboxSetField");default:return null}}validateForm(e){if("function"==typeof this.props.validate)return this.props.validate(e);if(!(this.props.schema&&this.props.schema.schema))return{};const t=this.context.injector.validate(this.props.identifier);let n={};return t&&(n=t(e,this.props.schema.schema)||{}),(0,o.createErrorBlock)(n)}buildComponent(e){const t=e.input||{},n={...e,...e.input,onChange:t.onChange?(e,n)=>{t.onChange(n?n.value:e)}:null};delete n.input;const s=this.getComponent(n);if(null===s)return null;if(null!==n.schemaComponent&&void 0===s)throw Error(`Component not found in injector: ${n.schemaComponent}`);const r=this.props.createFn;return"function"==typeof r?r(s,n):a.default.createElement(s,f({key:n.id},n))}mapFieldsToComponents(e){const t=this.props.baseFieldComponent;return e.map(e=>{let n=e;return e.children&&(n=Object.assign({},e,{children:this.mapFieldsToComponents(e.children)})),n=Object.assign({onAutofill:this.props.onAutofill,formid:this.props.form},n),"Structural"===e.schemaType||!0===e.readOnly?this.buildComponent(n):a.default.createElement(t,f({key:n.id},n,{component:this.buildComponent}))})}handleAction(e){"function"==typeof this.props.onAction&&this.props.onAction(e,this.props.values),e.isPropagationStopped()||this.setState({submittingAction:e.currentTarget.name})}handleSubmit(e){let t="";this.state.submittingAction?t=this.state.submittingAction:this.props.schema.schema.actions[0]&&(t=this.props.schema.schema.actions[0].name);const n=Object.assign({},e,t?{[t]:1}:{}),a={"X-Formschema-Request":this.props.responseRequestedSchema.join(),"X-Requested-With":"XMLHttpRequest"},s=e=>this.submitApi(e||n,a).then(e=>(this.setState({submittingAction:null}),e)).catch(e=>{throw this.setState({submittingAction:null}),e});return"function"==typeof this.props.onSubmit?this.props.onSubmit(n,t,s):s()}mapActionsToComponents(e){return e.map(e=>{const t=Object.assign({},e);return e.children?t.children=this.mapActionsToComponents(e.children):(t.onClick=this.handleAction,this.props.submitting&&this.state.submittingAction===e.name&&(t.loading=!0)),this.buildComponent(t)})}normalizeFields(e,t){return e.map(e=>{const n=t&&t.fields?t.fields.find(t=>t.id===e.id):{},a=r.default.recursive(!0,(0,i.schemaMerge)(e,n),{schemaComponent:n&&n.component?n.component:e.component});return e.children&&(a.children=this.normalizeFields(e.children,t)),a})}render(){const e=this.props.schema.schema,t=this.props.schema.state,n=this.props.baseFormComponent,s={...e.attributes,className:e.attributes.class,encType:e.attributes.enctype,noValidate:!0};delete s.class,delete s.enctype;const{asyncValidate:r,fieldHolder:o,actionHolder:l,onSubmitFail:d,onSubmitSuccess:u,shouldAsyncValidate:c,touchOnBlur:f,touchOnChange:p,persistentSubmitErrors:h,form:m,afterMessages:g,autoFocus:_,formTag:v}=this.props,b={form:m,afterMessages:g,fields:this.normalizeFields(e.fields,t),fieldHolder:o,actions:this.normalizeFields(e.actions,t),actionHolder:l,attributes:s,data:e.data,initialValues:(0,i.default)(e,t),onSubmit:this.handleSubmit,valid:t&&t.valid,messages:t&&Array.isArray(t.messages)?t.messages:[],mapActionsToComponents:this.mapActionsToComponents,mapFieldsToComponents:this.mapFieldsToComponents,asyncValidate:r,onSubmitFail:d,onSubmitSuccess:u,shouldAsyncValidate:c,touchOnBlur:f,touchOnChange:p,persistentSubmitErrors:h,validate:this.validateForm,autoFocus:_,setDOM:e=>{this.formDOM=e},formTag:v};return a.default.createElement(n,b)}}t.Component=p;const h=t.schemaPropType=s.default.shape({id:s.default.string,schema:s.default.shape({attributes:s.default.shape({class:s.default.string,enctype:s.default.string}),fields:s.default.array.isRequired}),state:s.default.shape({fields:s.default.array}),loading:s.default.bool,stateOverride:s.default.shape({fields:s.default.array})}),m=t.basePropTypes={createFn:s.default.func,onSubmit:s.default.func,onAction:s.default.func,asyncValidate:s.default.func,onSubmitFail:s.default.func,onSubmitSuccess:s.default.func,shouldAsyncValidate:s.default.func,touchOnBlur:s.default.bool,touchOnChange:s.default.bool,persistentSubmitErrors:s.default.bool,validate:s.default.func,values:s.default.object,submitting:s.default.bool,baseFormComponent:s.default.elementType.isRequired,baseFieldComponent:s.default.elementType.isRequired,getCustomFields:s.default.func,responseRequestedSchema:s.default.arrayOf(s.default.oneOf(["schema","state","errors","auto"])),identifier(e,t,n){return/^[A-Za-z0-9_.]+$/.test(e[t])?null:new Error(`\n        Invalid identifier supplied to ${n}. Must be a set of\n        dot-separated alphanumeric strings.\n      `)}};p.propTypes=Object.assign({},m,{form:s.default.string.isRequired,schema:h.isRequired,autoFocus:s.default.bool}),p.defaultProps={responseRequestedSchema:["auto"],autoFocus:!1};t.default=(0,d.withInjector)(p)},96937:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(96540),s=i(n(43591)),r=i(n(5556));function i(e){return e&&e.__esModule?e:{default:e}}class o extends a.Component{constructor(e){super(e),this.render=this.render.bind(this),this.handleResize=this.handleResize.bind(this),this.state={},this.observer=new s.default(e=>e.forEach(({contentRect:e})=>this.handleResize(e)))}componentDidMount(){this.observer.observe(this.container);const e={width:this.container.offsetWidth,height:this.container.offsetHeight};this.handleResize(e)}componentWillUnmount(){this.observer.disconnect()}handleResize(e){const{width:t,height:n}=this.state;t===e.width&&n===e.height||this.setState(e),this.props.onResize&&this.props.onResize(e)}render(){const{children:e,onlyEvent:t,component:n,onResize:s,widthPropName:r,heightPropName:i,...o}=this.props,{width:l,height:d}=this.state,u="string"!=typeof n,c=[r||"width"],f=[i||"height"],p={[c]:l,[f]:d};return(0,a.createElement)(n,{[u?"getRef":"ref"]:e=>{this.container=e},...u&&p,...o},"function"==typeof e?e({width:l,height:d}):a.Children.map(e,e=>(0,a.isValidElement)(e)?(0,a.cloneElement)(e,t?null:p):e))}}o.propTypes={component:r.default.oneOfType([r.default.string,r.default.elementType]),onResize:r.default.func},o.defaultProps={component:"div"};t.default=o},97097:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeMobileMenu=function(){return{type:s.default.CLOSE_MENU,payload:null}},t.openMobileMenu=function(){return{type:s.default.OPEN_MENU,payload:null}},t.toggleMobileMenu=function(){return{type:s.default.TOGGLE_MENU,payload:null}};var a,s=(a=n(80593))&&a.__esModule?a:{default:a}},97260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(96540))&&a.__esModule?a:{default:a};t.default=e=>{const t=`${e.groupid}_Header`,n=`${e.groupid}_Items`,a=n.replace(/\\/g,"_"),r=t.replace(/\\/g,"_"),i={id:a,"aria-expanded":!0,className:"list-group list-group-flush collapse show",role:"tabpanel","aria-labelledby":t};return s.default.createElement("div",{className:"accordion__block"},s.default.createElement("a",{className:"accordion__title","data-bs-toggle":"collapse",href:`#${a}`,"aria-expanded":"true","aria-controls":n,id:r,role:"tab"},s.default.createElement("span",{className:"accordion__arrow-icon font-icon-","aria-hidden":"true"}),e.title),s.default.createElement("div",i,e.children))}},97525:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=i(n(46942)),r=i(n(5556));function i(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(null,arguments)}class l extends a.Component{constructor(e){super(e),this.handleDrillDown=this.handleDrillDown.bind(this)}handleDrillDown(e){"function"==typeof this.props.onDrillDown&&this.props.onDrillDown(e)}render(){const e=["grid-field__cell",this.props.className],{onDrillDown:t,...n}=this.props;return a.default.createElement("td",o({},n,{className:(0,s.default)(e),onClick:this.handleDrillDown}))}}l.propTypes={className:r.default.string,onDrillDown:r.default.func};t.default=l},98120:function(e,t,n){var a=n(78848),s=n(34160);void 0===s.withRouter&&(s.withRouter=a),e.exports=a},98307:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadUsedOn=function(e,t,n){const i={method:t,headers:{Accept:"application/json"},credentials:"same-origin"};return d=>{if(!e||!t||!n){const t=a.default._t("Admin.NOT_AVAILABLE_USED_DATA","The usage data is currently unavailable.");return Promise.resolve(d(l(e,t)))}return d({type:r.default.LOAD_USED_ON,payload:{identifier:e}}),(0,s.default)(n,i).then(e=>e.json()).then(t=>{d(o(e,t))}).catch(t=>{d(l(e,t))})}},t.loadUsedOnFailed=l,t.saveUsedOn=o;var a=i(n(95815)),s=i(n(60328)),r=i(n(73581));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return{type:r.default.SAVE_USED_ON,payload:{identifier:e,usedOn:t}}}function l(e,t){return{type:r.default.LOAD_USED_ON_FAILED,payload:{identifier:e,error:t.message}}}},98360:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(17359))&&a.__esModule?a:{default:a},r=n(46172),i=n(44072);const o={activeState:i.VIEW_MODE_STATES.SPLIT,splitAvailable:!0,lockState:!1};t.default=function(e=o,t){switch(t.type){case s.default.SELECT_EDIT:return{...e,activeState:i.VIEW_MODE_STATES.EDIT,lockState:!0};case s.default.SELECT_PREVIEW:return{...e,activeState:i.VIEW_MODE_STATES.PREVIEW,lockState:!0};case s.default.SELECT_SPLIT:return{...e,activeState:i.VIEW_MODE_STATES.SPLIT,lockState:!1};case s.default.SPLIT_AVAILABLE:{const n=t.payload.panelWidth>r.SPLITMODE_BREAKPOINT;let a=e.activeState;return e.lockState||a!==i.VIEW_MODE_STATES.SPLIT||n?!e.lockState&&a===i.VIEW_MODE_STATES.EDIT&&n&&(a=i.VIEW_MODE_STATES.SPLIT):a=i.VIEW_MODE_STATES.EDIT,{...e,splitAvailable:n,activeState:a}}default:return e}}},98461:function(e,t,n){var a=n(29981),s=n(34160);void 0===s.LiteralField&&(s.LiteralField=a),e.exports=a},99136:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,n=window.__REDUX_DEVTOOLS_EXTENSION__||window.devToolsExtension;if("function"==typeof t)return t(e);if("function"==typeof n)return(0,a.compose)(e,n());return e};var a=n(28895)},99197:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tipShape=t.default=t.TIP_TYPES=t.TIP_IMPORTANCE_LEVELS=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=d(n(5556)),r=n(58702),i=d(n(95815)),o=d(n(46942)),l=d(n(73323));function d(e){return e&&e.__esModule?e:{default:e}}const u=t.TIP_TYPES={TITLE:"title",INPUT_GROUP:"input-group"},c=t.TIP_IMPORTANCE_LEVELS={NORMAL:"normal",HIGH:"high"},f={[c.NORMAL]:{iconColor:"muted",description:i.default._t("Admin.NORMAL_TIP","Tip")},[c.HIGH]:{iconColor:"danger",description:i.default._t("Admin.IMPORTANT_TIP","Important tip")}};function p(e){const{content:t,fieldTitle:n,icon:s,id:d,importance:c}=e,{iconColor:p,description:h}=f[c],m=i.default.inject(i.default._t("Admin.TIP_LABEL","{description} for {fieldTitle}"),{description:h,fieldTitle:n}),g=["tip",e.extraClass];e.type===u.TITLE?g.push("tip--title"):e.type===u.INPUT_GROUP&&g.push("tip--input-group","btn--last","btn-outline-secondary",`text-${p}`);const _=`${d}-tip`,v={id:_,onClick:()=>{},className:(0,o.default)(g),noText:!0,icon:s};return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,v,m),a.default.createElement(r.UncontrolledPopover,{trigger:"legacy",placement:"top-end",target:_},a.default.createElement(r.PopoverBody,null,t)))}const h=t.tipShape={content:s.default.string.isRequired,importance:s.default.oneOf(Object.values(c)),type:s.default.oneOf(Object.values(u)),icon:s.default.string};p.propTypes={...h,extraClass:s.default.string,fieldTitle:s.default.string.isRequired,id:s.default.string.isRequired},p.defaultProps={importance:c.NORMAL,icon:"lamp",type:u.INPUT_GROUP};t.default=p},99237:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FileSchemaHandler=t.ConnectedFileSchemaHandler=void 0;var a,s=d(n(96540)),r=(a=n(5556))&&a.__esModule?a:{default:a},i=n(28895),o=d(n(82513)),l=n(73729);function d(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return(d=function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i})(e,t)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(null,arguments)}class c extends s.Component{constructor(e){super(e),this.setOverrides=this.setOverrides.bind(this)}componentDidMount(){this.setOverrides(this.props)}componentWillUnmount(){this.setOverrides()}setOverrides(e=null){if(e){if(e.schemaUrl){const t=Object.assign({},e.fileAttributes);delete t.ID;const n={fields:Object.entries(t).map(e=>{const[t,n]=e;return{name:t,value:n}})};this.props.actions.schema.setSchemaStateOverrides(e.schemaUrl,n)}}else{const e=this.props.schemaUrl;e&&this.props.actions.schema.setSchemaStateOverrides(e,null)}}render(){const{Component:e,...t}=this.props;return s.default.createElement(e,u({setOverrides:this.setOverrides},t))}}function f(e,t){return{actions:{...t&&t.actions||{},schema:(0,i.bindActionCreators)(o,e)}}}t.FileSchemaHandler=c,c.propTypes={fileAttributes:r.default.object,Component:r.default.elementType,schemaUrl:r.default.string,actions:r.default.object};t.ConnectedFileSchemaHandler=(0,l.connect)(()=>({}),f())(c);t.default=function(e){return(0,l.connect)(function(){return{Component:e}},f)(c)}},99417:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,a=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var s,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?a:n){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?s(i,t,r):i[t]=e[t]);return i}(e,t)}(n(96540)),s=d(n(95815)),r=d(n(46942)),i=n(14269),o=d(n(5556)),l=d(n(35421));function d(e){return e&&e.__esModule?e:{default:e}}class u extends a.Component{constructor(e){super(e),this.state={frameLoaded:!1},this.handleBackClick=this.handleBackClick.bind(this),this.setFrameLoaded=this.setFrameLoaded.bind(this)}componentDidUpdate(e){this.state.frameLoaded&&e.previewUrl!==this.props.previewUrl&&this.setFrameLoaded(!1)}setFrameLoaded(e=!0){this.setState({frameLoaded:e})}handleBackClick(e){"function"==typeof this.props.onBack&&(e.preventDefault(),this.props.onBack(e))}buildToolbarButtons(){const e=[];if(this.props.itemLinks&&this.props.itemLinks.edit){const t=this.props.itemLinks.edit.href;e.push(a.default.createElement("a",{key:"edit",href:t,className:"btn btn-outline-secondary font-icon-edit"},a.default.createElement("span",{className:"btn__title"},s.default._t("Admin.EDIT","Edit"))))}return e}renderMoreActions(){return this.props.moreActions&&0!==this.props.moreActions.length?a.default.createElement(l.default,null,this.props.moreActions):null}renderBody(){let e=null,t="";return this.props.itemLinks&&this.props.itemLinks.preview&&(this.props.itemLinks.preview.Stage?(e=this.props.itemLinks.preview.Stage.href,t=this.props.itemLinks.preview.Stage.type):this.props.itemLinks.preview.Live&&(e=this.props.itemLinks.preview.Live.href,t=this.props.itemLinks.preview.Live.type)),this.props.itemId?e?t&&0===t.indexOf("image/")?a.default.createElement("div",{className:"preview__file-container panel--scrollable"},a.default.createElement("img",{alt:e,className:"preview__file--fits-space",src:e})):a.default.createElement("iframe",{style:{visibility:this.state.frameLoaded?"visible":"hidden"},className:"flexbox-area-grow preview__iframe",src:e,onLoad:this.setFrameLoaded}):a.default.createElement("div",{className:"preview__overlay"},a.default.createElement("h3",{className:"preview__overlay-text"},s.default._t("Admin.NO_ITEM_PREVIEW","There is no preview available for this item."))):a.default.createElement("div",{className:"preview__overlay"},a.default.createElement("h3",{className:"preview__overlay-text"},s.default._t("Admin.NO_PREVIEW","No preview available.")))}render(){const{className:e,ViewModeComponent:t}=this.props,n=(0,r.default)("preview",e);return a.default.createElement("div",{className:n},this.renderBody(),a.default.createElement("div",{className:"toolbar toolbar--south"},a.default.createElement("div",{className:"btn-toolbar"},this.buildToolbarButtons(),a.default.createElement(t,{id:"view-mode-toggle-in-preview-nb",area:"preview"}),this.renderMoreActions())))}}t.Component=u,u.propTypes={className:o.default.string,itemLinks:o.default.object,itemId:o.default.number,onBack:o.default.func,moreActions:o.default.arrayOf(o.default.element),ViewModeComponent:o.default.elementType},u.defaultProps={className:"flexbox-area-grow fill-height"};t.default=(0,i.inject)(["ViewModeToggle"],e=>({ViewModeComponent:e}),()=>"Admin.Preview")(u)},99694:function(e,t,n){"use strict";var a;((a=n(74692))&&a.__esModule?a:{default:a}).default.entwine("ss.tree",function(e){e(".cms-tree").entwine({Hints:null,IsUpdatingTree:!1,CanMoveCheckCompleted:!1,IsLoaded:!1,onadd:function(){if(this._super(),e.isNumeric(this.data("jstree_instance_id")))return;var t=this.attr("data-hints");t&&this.setHints(e.parseJSON(t));const n=function(t,s){let r=s.rslt.o,i=s.rslt.np,o=e(i).data("id")||0,l=e(r).data("id"),d=e.map(e(r).siblings().addBack(),function(t){return e(t).data("id")});a.getIsUpdatingTree()||(a.getCanMoveCheckCompleted()?(a.setCanMoveCheckCompleted(!1),e.ajax({url:e.path.addSearchParams(a.data("urlSavetreenode"),a.data("extraParams")),type:"POST",data:{ID:l,ParentID:o,SiblingIDs:d},success:function(){e(".cms-edit-form :input[name=ID]").val()==l&&e(".cms-edit-form :input[name=ParentID]").val(o),a.updateNodesFromServer([l])},statusCode:{403:function(){e.jstree.rollback(s.rlbk)}}})):a.canMove(s).then(r=>{r?(a.setCanMoveCheckCompleted(!0),n(t,s)):e.jstree.rollback(s.rlbk)}))};var a=this;this.jstree(this.getTreeConfig()).on("loaded.jstree",function(t,n){a.setIsLoaded(!0),n.inst._set_settings({html_data:{ajax:{url:a.data("urlTree"),data:function(t){var n=a.data("searchparams")||[];return(n=e.grep(n,function(e,t){return"ID"!=e.name&&"value"!=e.name})).push({name:"ID",value:e(t).data("id")?e(t).data("id"):0}),n.push({name:"ajax",value:1}),n}}}}),a.updateFromEditForm(),a.css("visibility","visible"),n.inst.hide_checkboxes()}).on("before.jstree",function(t,n){if("start_drag"==n.func&&(!a.hasClass("draggable")||a.hasClass("multiselect")))return t.stopImmediatePropagation(),!1;if(e.inArray(n.func,["check_node","uncheck_node"])){var s=e(n.args[0]).parents("li:first"),r=s.find("li:not(.disabled)");if(s.hasClass("disabled")&&0==r)return t.stopImmediatePropagation(),!1}}).on("move_node.jstree",n).on("select_node.jstree check_node.jstree uncheck_node.jstree",function(t,n){t.namespace="",e(document).triggerHandler(t,n)})},onremove:function(){this.jstree("destroy"),this._super()},"from .cms-container":{onafterstatechange:function(e){this.updateFromEditForm()}},"from .cms-container form":{onaftersubmitform:function(t){const n=e(".cms-edit-form :input[name=ID]").val(),a=this.find(`[data-id=${n}]`);let s=[+n];a.find("li").each(function(){s.push(e(this).data("id"))});const r=[];for(;s.length;){const e=s.slice(0,50);r.push(e),s=s.slice(50)}r.map(e=>this.updateNodesFromServer(e,!1)).reduce((e,t)=>e.then(t),Promise.resolve())}},canMove:async function(e){return Promise.resolve(!0)},getTreeConfig:function(){var t=this;return{core:{initially_open:["record-0"],animation:0,html_titles:!0},html_data:{},ui:{select_limit:1,initially_select:[this.find(".current").attr("id")]},crrm:{move:{check_move:function(n){var a=e(n.o),s=e(n.np),r=n.ot.get_container()[0]==n.np[0],i=a.getClassname(),o=s.getClassname(),l=t.getHints(),d=[],u=o||"Root",c=l&&void 0!==l[u]?l[u]:null;return c&&a.attr("class").match(/VirtualPage-([^\s]*)/)&&(i=RegExp.$1),c&&(d=void 0!==c.disallowedChildren?c.disallowedChildren:[]),!(0===a.data("id")||a.hasClass("status-archived")||r&&"inside"!=n.p||s.hasClass("nochildren")||d.length&&-1!=e.inArray(i,d))}}},dnd:{drop_target:!1,drag_target:!1},checkbox:{two_state:!0},themes:{theme:"apple",url:e("body").data("frameworkpath")+"/admin/thirdparty/jstree/themes/apple/style.css"},plugins:["html_data","ui","dnd","crrm","themes","checkbox"]}},search:function(e,t){e?this.data("searchparams",e):this.removeData("searchparams"),this.jstree("refresh",-1,t)},getNodeByID:function(e){return this.find("*[data-id="+e+"]")},createNode:function(t,n,a){var s=void 0!==n.ParentID&&this.getNodeByID(n.ParentID),r=e(t),i={data:""};r.hasClass("jstree-open")?i.state="open":r.hasClass("jstree-closed")&&(i.state="closed"),this.jstree("create_node",s.length?s:-1,"last",i,function(e){for(var t=e.attr("class"),n=0;n<r[0].attributes.length;n++){var s=r[0].attributes[n];e.attr(s.name,s.value)}e.addClass(t).html(r.html()),a&&a(e)})},updateNode:function(t,n,a){n=n.replace(/<!--[\s\S]*?-->/g,"");var s=e(n),r=!!a.NextID&&this.getNodeByID(a.NextID),i=!!a.PrevID&&this.getNodeByID(a.PrevID),o=!!a.ParentID&&this.getNodeByID(a.ParentID),l=this.jstree("is_open",o);e.each(["id","style","class","data-pagetype"],function(e,n){t.attr(n,s.attr(n))});var d=t.children("ul").detach();t.html(s.html()).append(d),r&&r.length?this.jstree("move_node",t,r,"before"):i&&i.length?this.jstree("move_node",t,i,"after"):this.jstree("move_node",t,o.length?o:-1),l?this.jstree("open_node",o):this.jstree("close_node",o)},updateFromEditForm:function(){var t,n=e(".cms-edit-form :input[name=ID]").val();n?(t=this.getNodeByID(n)).length?(this.jstree("deselect_all"),this.jstree("select_node",t)):this.updateNodesFromServer([n]):this.jstree("deselect_all")},updateNodesFromServer:function(t,n=!0){if(this.getIsLoaded()&&(!n||!this.getIsUpdatingTree())){var a=this;this.setIsUpdatingTree(!0),a.jstree("save_selected"),a.jstree("open_node",this.getNodeByID(0)),a.jstree("save_opened"),a.jstree("save_selected");var s=a.jstree("get_selected");return new Promise(n=>{e.ajax({url:e.path.addSearchParams(this.data("urlUpdatetreenodes"),"ids="+t.join(",")),dataType:"json",success:function(r,i){n(r),e.each(r,function(e,n){var r=a.getNodeByID(e);n?r.length?a.updateNode(r,n.html,n):n.ParentID&&!a.find("li[data-id="+n.ParentID+"]").length?a.jstree("load_node",-1):a.createNode(n.html,n,e=>{s.length||1!==t.length||(s=e)}):a.jstree("delete_node",r)}),s.length&&(a.jstree("deselect_all"),a.jstree("reopen"),a.jstree("select_node",s))},complete:function(){a.setIsUpdatingTree(!1)}})})}}}),e(".cms-tree.multiple").entwine({onmatch:function(){this._super(),this.jstree("show_checkboxes")},onunmatch:function(){this._super(),this.jstree("uncheck_all"),this.jstree("hide_checkboxes")},getSelectedIDs:function(){return e(this).jstree("get_checked").not(".disabled").map(function(){return e(this).data("id")}).get()}}),e(".cms-tree li").entwine({setEnabled:function(e){this.toggleClass("disabled",!e)},getClassname:function(){var e=this.attr("class").match(/class-([^\s]*)/i);return e?e[1]:""},getID:function(){return this.data("id")}})})},99855:function(e,t,n){var a=n(82405),s=n(34160);void 0===s.PopoverField&&(s.PopoverField=a),e.exports=a}},function(e){var t;t=33119,e(e.s=t)}]);